{"version":3,"sources":["Components/Page.js","Contexts/SelectedJournalProvider.js","Services/Service.js","Services/CharacterService.js","Components/Characters/AddCharacterDialog.js","Components/Editor.js","Services/RelationshipService.js","Services/EventService.js","Services/ItemService.js","Services/PlaceService.js","Services/QuestService.js","Components/Relationships/AddRelationshipDialog.js","Components/Confirm.js","Components/Events/EditEventDialog.js","Components/Items/EditItemDialog.js","Components/Places/EditPlaceDialog.js","Components/Quests/EditQuestDialog.js","Components/PolymorphicEditDialog.js","Components/Relationships/RelationshipList.js","Components/Characters/EditCharacterDialog.js","Services/JournalService.js","Components/AddJournalDialog.js","Contexts/JournalListProvider.js","Components/JournalSelector.js","Components/JournalSelectorDialog.js","Views/Characters.js","Components/Quests/AddQuestDialog.js","Views/Quests.js","Components/Places/AddPlaceDialog.js","Views/Places.js","Components/Events/AddEventDialog.js","Views/Events.js","Components/EditJournalDialog.js","Views/Journals.js","Components/Items/AddItemDialog.js","Views/Items.js","definedRoutes.js","Routes.js","Components/TopBar.js","Components/NavDrawer.js","State.js","App.js","reportWebVitals.js","index.js"],"names":["Page","props","Box","p","pt","mt","Grid","container","children","SelectedJournalContext","React","createContext","selectedJournal","setSelectedJournal","SelectedJournalProvider","useState","journal","setJournal","Provider","value","db","Dexie","version","stores","journals","characters","places","quests","items","events","relationships","open","then","console","log","catch","e","error","stack","Service","this","_store","store","CharacterService","a","journal_id","isNaN","transaction","where","equals","sortBy","toArray","id","first","character","add","update","delete","characterService","AddCharacterDialog","name","setName","npc","setNpc","useContext","clear","Dialog","onClose","DialogTitle","DialogContent","TextField","label","onChange","target","FormControl","FormControlLabel","control","Checkbox","checked","DialogActions","Button","variant","onClick","create","useStyles","makeStyles","theme","root","width","Editor","classes","className","modules","toolbar","RelationshipService","table","tableId","join","joinId","and","item","type","list","reverse","listEntries","map","content","reverseEntries","combinedPromises","concat","Promise","all","resolvedList","flat","EventService","event","ItemService","PlaceService","place","QuestService","quest","eventService","itemService","placeService","questService","relationshipService","AddRelationshipDialog","setOpen","setType","setId","setOptions","index","options","attach","IconButton","AddOutlined","spacing","Select","displayEmpty","getTypeOptions","MenuItem","disabled","Confirm","answer","confirmed","onConfirm","activator","Delete","color","DialogContentText","Typography","message","dialog","maxWidth","textField","EditEventDialog","setContent","saveAndClose","eventId","notes","useEffect","show","Info","xs","md","Save","RelationshipList","EditItemDialog","itemId","EditPlaceDialog","placeId","EditQuestDialog","complete","setComplete","questId","PolymorphicEditDialog","component","setComponent","EditCharacterDialog","characterId","setRelationships","fetchRelationships","joinType","detach","icons","Person","Today","ShoppingCart","Explore","Timer","alignItems","List","ListItem","ListItemIcon","ListItemText","primary","deleteRelationship","JournalService","journalService","AddJournalDialog","validation","setValidation","preventDefault","onSubmit","m","sm","InputLabel","helperText","JournalListContext","journalList","fetchJournalList","JournalListProvider","setJournalList","grow","flexGrow","menuButton","marginLeft","marginRight","selectRoot","JournalSelector","fetchJournals","addJournalDialog","setAddJournalDialog","i","Add","resync","JournalSelectDialog","Characters","setCharacters","fetchCharacters","journalId","addCharacterDialog","setAddCharacterDialog","destroy","Card","CardContent","dangerouslySetInnerHTML","__html","substring","CardActions","destroyCharacter","AddQuestDialog","Quests","setQuests","fetchQuests","addQuestDialog","setAddQuestDialog","direction","Done","PriorityHigh","destroyQuest","AddPlaceDialog","Places","setPlaces","fetchPlaces","addPlaceDialog","setAddPlaceDialog","destroyPlace","AddEventDialog","Events","setEvents","fetchEvents","addEventDialog","setAddEventDialog","destroyEvent","EditJournalDialog","Edit","Journals","destroyJournal","AddItemDialog","Items","setItems","fetchItems","addItemDialog","setAddItemDialog","destroyItem","routes","path","text","exact","icon","inNav","divided","Notes","Routes","route","TopBar","AppBar","position","Toolbar","edge","onMenuClick","MenuTwoTone","fullList","flex","display","NavDrawer","location","useLocation","Drawer","anchor","Link","button","to","selected","pathname","Casino","Divider","State","App","prefersDarkMode","useMediaQuery","useMemo","createTheme","palette","nav","toggleNav","CssBaseline","basename","process","Container","Paper","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.351fda30.chunk.js","sourcesContent":["import React from 'react'\nimport {Box, Grid} from '@material-ui/core'\n\nexport default function Page(props) {\n\n\treturn (\n\t\t<Box p={5} pt={5} mt={3}>\n\t\t\t<Grid container>\n\t\t\t\t{props.children}\n\t\t\t</Grid>\n\t\t</Box>\n\t)\n\n}\n","import React, {useState} from 'react'\n\nexport const SelectedJournalContext = React.createContext({\n\tselectedJournal: 0,\n\tsetSelectedJournal: () => {},\n})\n\nexport default function SelectedJournalProvider(props) {\n\n\tconst [journal, setJournal] = useState(0)\n\n\treturn (\n\t\t<SelectedJournalContext.Provider\n\t\t\tvalue={{\n\t\t\t\tselectedJournal: journal,\n\t\t\t\tsetSelectedJournal: setJournal,\n\t\t\t}}\n\t\t>\n\t\t\t{props.children}\n\t\t</SelectedJournalContext.Provider>\n\t)\n}\n","import Dexie from 'dexie'\n\nconst db = new Dexie('rpg-notes')\ndb.version(3).stores({\n\tjournals: '++id,&name',\n\tcharacters: '++id,name,npc,journal_id',\n\tplaces: '++id,name,journal_id',\n\tquests: '++id,name,complete,journal_id',\n\titems: '++id,name,journal_id',\n\tevents: '++id,name,journal_id',\n\trelationships: '++id, table, tableId, join, joinId'\n})\ndb.open().then(() => {\n\tconsole.log('database opened')\n}).catch(function(e) {\n\tconsole.error('Open failed: ' + e.stack)\n})\n\nexport default class Service {\n\tconstructor() {\n\t\tthis._store = db\n\t}\n\n\tget store() {\n\t\treturn this._store\n\t}\n\n\tset store(store) {\n\t\tthis._store = store\n\t}\n\n}\n","import Service from './Service'\n\nexport default class CharacterService extends Service {\n\n\tasync index(journal_id = null) {\n\t\tif (journal_id && !isNaN(journal_id)) {\n\t\t\treturn this.store.transaction('rw', this.store.characters,\n\t\t\t\tasync () => {\n\t\t\t\t\treturn this.store.characters.where('journal_id').equals(journal_id).sortBy('npc')\n\t\t\t\t})\n\t\t}\n\t\treturn this.store.transaction('rw', this.store.characters, async () => {\n\t\t\treturn this.store.characters.toArray()\n\t\t})\n\t}\n\n\tasync show(id) {\n\t\treturn this.store.transaction('rw', this.store.characters, async () => {\n\t\t\treturn this.store.characters.where('id').equals(id).first()\n\t\t})\n\t}\n\n\tasync create(character) {\n\t\treturn this.store.transaction('rw', this.store.characters, async () => {\n\t\t\treturn this.store.characters.add(character)\n\t\t})\n\t}\n\n\tasync update(id, character) {\n\t\treturn this.store.transaction('rw', this.store.characters, async () => {\n\t\t\treturn this.store.characters.update(id, character)\n\t\t})\n\t}\n\n\tasync destroy(id) {\n\t\treturn this.store.transaction('rw', this.store.characters, async () => {\n\t\t\treturn this.store.characters.where('id').equals(id).delete()\n\t\t})\n\t}\n\n}\n","import React, {useContext, useState} from 'react'\nimport {\n\tButton,\n\tCheckbox,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogTitle,\n\tFormControl,\n\tFormControlLabel,\n\tTextField,\n} from '@material-ui/core'\nimport CharacterService from '../../Services/CharacterService'\nimport {SelectedJournalContext} from '../../Contexts/SelectedJournalProvider'\n\nconst characterService = new CharacterService()\n\nexport default function AddCharacterDialog(props) {\n\n\tconst [name, setName] = useState('')\n\tconst [npc, setNpc] = useState(false)\n\tconst {selectedJournal} = useContext(SelectedJournalContext)\n\n\tfunction cancel() {\n\t\tsetName('')\n\t\tclear()\n\t\tprops.onClose()\n\t}\n\n\tfunction submit() {\n\t\tcharacterService.create({\n\t\t\tname: name,\n\t\t\tnpc: !!npc,\n\t\t\tjournal_id: selectedJournal,\n\t\t})\n\t\tclear()\n\t\tprops.onClose()\n\t}\n\n\tfunction clear() {\n\t\tsetName('')\n\t\tsetNpc(false)\n\t}\n\n\treturn (\n\t\t<Dialog open={props.open} onClose={props.onClose}>\n\t\t\t<DialogTitle>\n\t\t\t\tAdd a Character\n\t\t\t</DialogTitle>\n\t\t\t<DialogContent>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"Character Name\"\n\t\t\t\t\tvalue={name}\n\t\t\t\t\tonChange={(e) => {setName(e.target.value)}}\n\t\t\t\t/>\n\n\t\t\t\t<FormControl>\n\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\tlabel=\"NPC\"\n\t\t\t\t\t\t\t\tchecked={npc}\n\t\t\t\t\t\t\t\tonChange={e => {\n\t\t\t\t\t\t\t\t\tsetNpc(!!e.target.checked)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlabel=\"NPC\"\n\t\t\t\t\t/>\n\t\t\t\t</FormControl>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button variant=\"contained\" onClick={submit}>Save</Button>\n\t\t\t\t<Button variant=\"contained\" onClick={cancel}>Cancel</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t)\n}\n","import React from 'react'\nimport ReactQuill from 'react-quill'\nimport {makeStyles} from '@material-ui/core'\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\troot: {\n\t\t\twidth: '100%',\n\t\t},\n\t}\n})\n\nexport default function Editor(props) {\n\n\tconst classes = useStyles()\n\n\tconst modules = {\n\t\ttoolbar: false,\n\t}\n\n\treturn (\n\t\t<ReactQuill\n\t\t\tclassName={classes.root}\n\t\t\tvalue={props.value || ''}\n\t\t\tonChange={props.onChange}\n\t\t\ttheme=\"snow\"\n\t\t\tmodules={modules}\n\t\t/>\n\t)\n\n}\n","import Service from './Service'\n\nexport default class RelationshipService extends Service {\n\n\tasync attach(table, tableId, join, joinId){\n\t\treturn this.store.transaction('rw', this.store.relationships, async () => {\n\t\t\treturn this.store.relationships.add({\n\t\t\t\ttable: table,\n\t\t\t\ttableId: tableId,\n\t\t\t\tjoin: join,\n\t\t\t\tjoinId: joinId\n\t\t\t})\n\t\t})\n\t}\n\n\tasync detach(table, tableId, join, joinId){\n\t\treturn this.store.transaction('rw', this.store.relationships, async () => {\n\t\t\treturn this.store.relationships\n\t\t\t\t.where('table').equals(table)\n\t\t\t\t.and(item => item.join === join)\n\t\t\t\t.and(item => item.tableId === tableId)\n\t\t\t\t.and(item => item.joinId === joinId)\n\t\t\t\t.delete()\n\t\t})\n\t}\n\n\tasync list(type, id){\n\t\tconst list = await this.store.transaction('rw', this.store.relationships, async () => {\n\t\t\treturn this.store.relationships\n\t\t\t\t.where('table').equals(type)\n\t\t\t\t.and(item => item.tableId === id)\n\t\t\t\t.toArray()\n\t\t})\n\n\t\tconst reverse = await this.store.transaction('rw', this.store.relationships, async () => {\n\t\t\treturn this.store.relationships\n\t\t\t\t.where('join').equals(type)\n\t\t\t\t.and(item => item.joinId === id)\n\t\t\t\t.toArray()\n\t\t})\n\n\t\tconst listEntries = list.map(async item => {\n\t\t\treturn this.store.transaction('rw', this.store[item.join], async () => {\n\t\t\t\treturn {\n\t\t\t\t\tcontent: await this.store[item.join].where('id').equals(item.joinId).first(),\n\t\t\t\t\ttype: item.join\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\n\t\tconst reverseEntries = reverse.map(async item => {\n\t\t\treturn this.store.transaction('rw', this.store[item.table], async () => {\n\t\t\t\treturn {\n\t\t\t\t\tcontent: await this.store[item.table].where('id').equals(item.tableId).first(),\n\t\t\t\t\ttype: item.table\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\n\n\t\tconst combinedPromises = listEntries.concat(reverseEntries)\n\n\t\tconst resolvedList = await Promise.all(combinedPromises)\n\n\t\treturn resolvedList.flat()\n\n\t}\n\n}\n","import Service from './Service'\n\nexport default class EventService extends Service {\n\n\tasync index(journal_id = null) {\n\t\tif (journal_id && !isNaN(journal_id)) {\n\t\t\treturn this.store.transaction('rw', this.store.events,\n\t\t\t\tasync () => {\n\t\t\t\t\treturn this.store.events.where('journal_id').equals(journal_id).toArray()\n\t\t\t\t})\n\t\t}\n\t\treturn this.store.transaction('rw', this.store.events, async () => {\n\t\t\treturn this.store.events.toArray()\n\t\t})\n\t}\n\n\tasync show(id) {\n\t\treturn this.store.transaction('rw', this.store.events, async () => {\n\t\t\treturn this.store.events.where('id').equals(id).first()\n\t\t})\n\t}\n\n\tasync create(event) {\n\t\treturn this.store.transaction('rw', this.store.events, async () => {\n\t\t\treturn this.store.events.add(event)\n\t\t})\n\t}\n\n\tasync update(id, event) {\n\t\treturn this.store.transaction('rw', this.store.events, async () => {\n\t\t\treturn this.store.events.update(id, event)\n\t\t})\n\t}\n\n\tasync destroy(id) {\n\t\treturn this.store.transaction('rw', this.store.events, async () => {\n\t\t\treturn this.store.events.where('id').equals(id).delete()\n\t\t})\n\t}\n\n}\n","import Service from './Service'\n\nexport default class ItemService extends Service {\n\n\tasync index(journal_id = null) {\n\t\tif (journal_id && !isNaN(journal_id)) {\n\t\t\treturn this.store.transaction('rw', this.store.items,\n\t\t\t\tasync () => {\n\t\t\t\t\treturn this.store.items.where('journal_id').equals(journal_id).toArray()\n\t\t\t\t})\n\t\t}\n\t\treturn this.store.transaction('rw', this.store.items, async () => {\n\t\t\treturn this.store.items.toArray()\n\t\t})\n\t}\n\n\tasync show(id) {\n\t\treturn this.store.transaction('rw', this.store.items, async () => {\n\t\t\treturn this.store.items.where('id').equals(id).first()\n\t\t})\n\t}\n\n\tasync create(item) {\n\t\treturn this.store.transaction('rw', this.store.items, async () => {\n\t\t\treturn this.store.items.add(item)\n\t\t})\n\t}\n\n\tasync update(id, item) {\n\t\treturn this.store.transaction('rw', this.store.items, async () => {\n\t\t\treturn this.store.items.update(id, item)\n\t\t})\n\t}\n\n\tasync destroy(id) {\n\t\treturn this.store.transaction('rw', this.store.items, async () => {\n\t\t\treturn this.store.items.where('id').equals(id).delete()\n\t\t})\n\t}\n\n}\n","import Service from './Service'\n\nexport default class PlaceService extends Service {\n\n\tasync index(journal_id = null) {\n\t\tif (journal_id && !isNaN(journal_id)) {\n\t\t\treturn this.store.transaction('rw', this.store.places,\n\t\t\t\tasync () => {\n\t\t\t\t\treturn this.store.places.where('journal_id').equals(journal_id).toArray()\n\t\t\t\t})\n\t\t}\n\t\treturn this.store.transaction('rw', this.store.places, async () => {\n\t\t\treturn this.store.places.toArray()\n\t\t})\n\t}\n\n\tasync show(id) {\n\t\treturn this.store.transaction('rw', this.store.places, async () => {\n\t\t\treturn this.store.places.where('id').equals(id).first()\n\t\t})\n\t}\n\n\tasync create(place) {\n\t\treturn this.store.transaction('rw', this.store.places, async () => {\n\t\t\treturn this.store.places.add(place)\n\t\t})\n\t}\n\n\tasync update(id, place) {\n\t\treturn this.store.transaction('rw', this.store.places, async () => {\n\t\t\treturn this.store.places.update(id, place)\n\t\t})\n\t}\n\n\tasync destroy(id) {\n\t\treturn this.store.transaction('rw', this.store.places, async () => {\n\t\t\treturn this.store.places.where('id').equals(id).delete()\n\t\t})\n\t}\n\n}\n","import Service from './Service'\n\nexport default class QuestService extends Service {\n\n\tasync index(journal_id = null) {\n\t\tif (journal_id && !isNaN(journal_id)) {\n\t\t\treturn this.store.transaction('rw', this.store.quests,\n\t\t\t\tasync () => {\n\t\t\t\t\treturn this.store.quests.where('journal_id').equals(journal_id).sortBy('complete')\n\t\t\t\t})\n\t\t}\n\t\treturn this.store.transaction('rw', this.store.quests, async () => {\n\t\t\treturn this.store.quests.toArray()\n\t\t})\n\t}\n\n\tasync show(id) {\n\t\treturn this.store.transaction('rw', this.store.quests, async () => {\n\t\t\treturn this.store.quests.where('id').equals(id).first()\n\t\t})\n\t}\n\n\tasync create(quest) {\n\t\treturn this.store.transaction('rw', this.store.quests, async () => {\n\t\t\treturn this.store.quests.add(quest)\n\t\t})\n\t}\n\n\tasync update(id, quest) {\n\t\treturn this.store.transaction('rw', this.store.quests, async () => {\n\t\t\treturn this.store.quests.update(id, quest)\n\t\t})\n\t}\n\n\tasync destroy(id) {\n\t\treturn this.store.transaction('rw', this.store.quests, async () => {\n\t\t\treturn this.store.quests.where('id').equals(id).delete()\n\t\t})\n\t}\n\n}\n","import React, {useContext, useState} from 'react'\nimport CharacterService from '../../Services/CharacterService'\nimport EventService from '../../Services/EventService'\nimport ItemService from '../../Services/ItemService'\nimport PlaceService from '../../Services/PlaceService'\nimport QuestService from '../../Services/QuestService'\nimport {\n\tButton,\n\tDialog, DialogActions, DialogContent,\n\tGrid,\n\tIconButton,\n\tMenuItem,\n\tSelect,\n} from '@material-ui/core'\nimport {AddOutlined} from '@material-ui/icons'\nimport {SelectedJournalContext} from '../../Contexts/SelectedJournalProvider'\nimport RelationshipService from '../../Services/RelationshipService'\n\nconst characterService = new CharacterService()\nconst eventService = new EventService()\nconst itemService = new ItemService()\nconst placeService = new PlaceService()\nconst questService = new QuestService()\nconst relationshipService = new RelationshipService()\n\nexport default function AddRelationshipDialog(props){\n\n\tconst {selectedJournal} = useContext(SelectedJournalContext)\n\n\tconst [open, setOpen] = useState(false)\n\n\tconst [type, setType] = useState('')\n\tconst [id, setId] = useState(0)\n\n\tasync function getTypeOptions(value){\n\t\tsetType(value)\n\t\tswitch (value){\n\t\t\tcase 'characters':\n\t\t\t\tsetOptions(await characterService.index(selectedJournal))\n\t\t\t\tbreak\n\t\t\tcase 'events':\n\t\t\t\tsetOptions(await eventService.index(selectedJournal))\n\t\t\t\tbreak\n\t\t\tcase 'items':\n\t\t\t\tsetOptions(await itemService.index(selectedJournal))\n\t\t\t\tbreak\n\t\t\tcase 'places':\n\t\t\t\tsetOptions(await placeService.index(selectedJournal))\n\t\t\t\tbreak\n\t\t\tcase 'quests':\n\t\t\t\tsetOptions(await questService.index(selectedJournal))\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tsetOptions([])\n\t\t}\n\t}\n\n\tconst [options, setOptions] = useState([])\n\n\tasync function save(){\n\t\tconsole.log(props.type, props.id, type, id)\n\t\tawait relationshipService.attach(props.type, props.id, type, id)\n\t\tprops.onClose()\n\t\tsetOpen(false)\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<IconButton onClick={() => setOpen(true)}>\n\t\t\t\t<AddOutlined />\n\t\t\t</IconButton>\n\t\t\t<Dialog open={open} onClose={() => setOpen(false)}>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\tvalue={type}\n\t\t\t\t\t\t\t\t\tdisplayEmpty\n\t\t\t\t\t\t\t\t\tonChange={(e) => {getTypeOptions(e.target.value)}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<MenuItem value='' disabled>\n\t\t\t\t\t\t\t\t\t\tSelect a Type\n\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t<MenuItem value='characters'>\n\t\t\t\t\t\t\t\t\t\tCharacters\n\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t<MenuItem value='events'>\n\t\t\t\t\t\t\t\t\t\tEvents\n\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t<MenuItem value='items'>\n\t\t\t\t\t\t\t\t\t\tItems\n\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t<MenuItem value='places'>\n\t\t\t\t\t\t\t\t\t\tPlaces\n\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t<MenuItem value='quests'>\n\t\t\t\t\t\t\t\t\t\tQuests\n\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Select value={id} displayEmpty onChange={\n\t\t\t\t\t\t\t\t\t(e) => {\n\t\t\t\t\t\t\t\t\t\tsetId(e.target.value)\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t<MenuItem value={0} disabled>\n\t\t\t\t\t\t\t\t\t\tSelect an Option\n\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\toptions.map((item, index) => {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={item.id} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.name}\n\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Button variant='contained' onClick={save}>\n\t\t\t\t\t\t\t\t\tSave\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t</div>\n\t)\n\n}\n","import React, {useState} from 'react'\nimport {\n\tButton,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogContentText,\n\tIconButton,\n\tTypography,\n} from '@material-ui/core'\nimport {Delete} from '@material-ui/icons'\n\nexport default function Confirm(props) {\n\n\tconst [open, setOpen] = useState(false)\n\n\tfunction answer(confirmed = false) {\n\t\tif (confirmed) {\n\t\t\tprops.onConfirm()\n\t\t}\n\t\tsetOpen(false)\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t{\n\t\t\t\tprops.type === 'button' ?\n\t\t\t\t\t<Button onClick={() => setOpen(true)}>\n\t\t\t\t\t\t{props.activator ?? 'Delete'}\n\t\t\t\t\t</Button>\n\t\t\t\t\t:\n\t\t\t\t\t<IconButton onClick={() => setOpen(true)}>\n\t\t\t\t\t\t{props.activator ?? <Delete color=\"error\"/>}\n\t\t\t\t\t</IconButton>\n\t\t\t}\n\t\t\t<Dialog open={open} onClose={() => answer(false)}>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogContentText>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tprops.message ?? 'Are you sure?'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</DialogContentText>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button variant=\"contained\"\n\t\t\t\t\t\t\tonClick={() => answer(true)}>Confirm</Button>\n\t\t\t\t\t<Button variant=\"contained\"\n\t\t\t\t\t\t\tonClick={() => answer(false)}>Cancel</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t)\n\n}\n","import React, {useEffect, useState} from 'react'\nimport {\n\tDialog,\n\tDialogContent,\n\tGrid,\n\tIconButton,\n\tmakeStyles,\n\tTextField,\n} from '@material-ui/core'\nimport EventService from '../../Services/EventService'\nimport {Info, Save} from '@material-ui/icons'\nimport Editor from '../Editor'\nimport RelationshipList from '../Relationships/RelationshipList'\n\nconst eventService = new EventService()\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\tdialog: {\n\t\t\twidth: '800px',\n\t\t\tmaxWidth: '100%',\n\t\t},\n\t\ttextField: {\n\t\t\twidth: '100%',\n\t\t},\n\t}\n})\n\nexport default function EditEventDialog(props) {\n\n\tconst classes = useStyles()\n\n\tconst [content, setContent] = useState('')\n\tconst [name, setName] = useState('')\n\tconst [open, setOpen] = useState(false)\n\n\tuseEffect(() => {\n\t\t(async function() {\n\t\t\tlet event = await eventService.show(props.eventId)\n\t\t\tsetContent(event.notes)\n\t\t\tsetName(event.name)\n\t\t})()\n\t}, [props.eventId])\n\n\tfunction saveAndClose() {\n\t\teventService.update(props.eventId, {\n\t\t\tname: name,\n\t\t\tnotes: content,\n\t\t})\n\t\tprops.onClose()\n\t}\n\n\t/*function cancelAndClose(){\n\t\tsetContent(event.notes)\n\t\tsetName(event.name)\n\t\tprops.onClose()\n\t}*/\n\n\treturn (\n\t\t<div>\n\t\t\t<IconButton onClick={() => setOpen(true)}>\n\t\t\t\t<Info color=\"primary\"/>\n\t\t\t</IconButton>\n\t\t\t<Dialog open={open}\n\t\t\t\t\tonClose={\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\tsetOpen(false)\n\t\t\t\t\t\t\tsaveAndClose()\n\t\t\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<DialogContent\n\t\t\t\t\tclassName={classes.dialog}\n\t\t\t\t>\n\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t<Grid item xs={3} md={1}>\n\t\t\t\t\t\t\t<IconButton onClick={saveAndClose}>\n\t\t\t\t\t\t\t\t<Save/>\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={9} md={8}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\n\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Editor value={content} onChange={setContent}/>\n\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t<RelationshipList\n\t\t\t\t\t\t\t\ttype='events'\n\t\t\t\t\t\t\t\tid={props.eventId}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t</div>\n\t)\n\n}\n","import React, {useEffect, useState} from 'react'\nimport {\n\tDialog,\n\tDialogContent,\n\tGrid,\n\tIconButton,\n\tmakeStyles,\n\tTextField,\n} from '@material-ui/core'\nimport ItemService from '../../Services/ItemService'\nimport {Info, Save} from '@material-ui/icons'\nimport Editor from '../Editor'\nimport RelationshipList from '../Relationships/RelationshipList'\n\nconst itemService = new ItemService()\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\tdialog: {\n\t\t\twidth: '800px',\n\t\t\tmaxWidth: '100%',\n\t\t},\n\t\ttextField: {\n\t\t\twidth: '100%',\n\t\t},\n\t}\n})\n\nexport default function EditItemDialog(props) {\n\n\tconst classes = useStyles()\n\n\tconst [content, setContent] = useState('')\n\tconst [name, setName] = useState('')\n\tconst [open, setOpen] = useState(false)\n\n\tuseEffect(() => {\n\t\t(async function() {\n\t\t\tlet item = await itemService.show(props.itemId)\n\t\t\tsetContent(item.notes)\n\t\t\tsetName(item.name)\n\t\t})()\n\t}, [props.itemId])\n\n\tfunction saveAndClose() {\n\t\titemService.update(props.itemId, {\n\t\t\tname: name,\n\t\t\tnotes: content,\n\t\t})\n\t\tprops.onClose()\n\t}\n\n\t/*function cancelAndClose(){\n\t\tsetContent(item.notes)\n\t\tsetName(item.name)\n\t\tprops.onClose()\n\t}*/\n\n\treturn (\n\t\t<div>\n\t\t\t<IconButton onClick={() => setOpen(true)}>\n\t\t\t\t<Info color=\"primary\"/>\n\t\t\t</IconButton>\n\t\t\t<Dialog open={open}\n\t\t\t\t\tonClose={\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\tsetOpen(false)\n\t\t\t\t\t\t\tsaveAndClose()\n\t\t\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<DialogContent\n\t\t\t\t\tclassName={classes.dialog}\n\t\t\t\t>\n\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t<Grid item xs={3} md={1}>\n\t\t\t\t\t\t\t<IconButton onClick={saveAndClose}>\n\t\t\t\t\t\t\t\t<Save/>\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={9} md={8}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\n\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Editor value={content} onChange={setContent}/>\n\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t<RelationshipList\n\t\t\t\t\t\t\t\ttype='items'\n\t\t\t\t\t\t\t\tid={props.itemId}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t</div>\n\t)\n\n}\n","import React, {useEffect, useState} from 'react'\nimport {\n\tDialog,\n\tDialogContent,\n\tGrid,\n\tIconButton,\n\tmakeStyles,\n\tTextField,\n} from '@material-ui/core'\nimport PlaceService from '../../Services/PlaceService'\nimport {Info, Save} from '@material-ui/icons'\nimport Editor from '../Editor'\nimport RelationshipList from '../Relationships/RelationshipList'\n\nconst placeService = new PlaceService()\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\tdialog: {\n\t\t\twidth: '800px',\n\t\t\tmaxWidth: '100%',\n\t\t},\n\t\ttextField: {\n\t\t\twidth: '100%',\n\t\t},\n\t}\n})\n\nexport default function EditPlaceDialog(props) {\n\n\tconst classes = useStyles()\n\n\tconst [content, setContent] = useState('')\n\tconst [name, setName] = useState('')\n\tconst [open, setOpen] = useState(false)\n\n\tuseEffect(() => {\n\t\t(async function() {\n\t\t\tlet place = await placeService.show(props.placeId)\n\t\t\tsetContent(place.notes)\n\t\t\tsetName(place.name)\n\t\t})()\n\t}, [props.placeId])\n\n\tfunction saveAndClose() {\n\t\tplaceService.update(props.placeId, {\n\t\t\tname: name,\n\t\t\tnotes: content,\n\t\t})\n\t\tprops.onClose()\n\t}\n\n\t/*function cancelAndClose(){\n\t\tsetContent(place.notes)\n\t\tsetName(place.name)\n\t\tprops.onClose()\n\t}*/\n\n\treturn (\n\t\t<div>\n\t\t\t<IconButton onClick={() => setOpen(true)}>\n\t\t\t\t<Info color=\"primary\"/>\n\t\t\t</IconButton>\n\t\t\t<Dialog open={open}\n\t\t\t\t\tonClose={\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\tsetOpen(false)\n\t\t\t\t\t\t\tsaveAndClose()\n\t\t\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<DialogContent\n\t\t\t\t\tclassName={classes.dialog}\n\t\t\t\t>\n\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t<Grid item xs={3} md={1}>\n\t\t\t\t\t\t\t<IconButton onClick={saveAndClose}>\n\t\t\t\t\t\t\t\t<Save/>\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={9} md={8}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\n\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Editor value={content} onChange={setContent}/>\n\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t<RelationshipList\n\t\t\t\t\t\t\t\ttype='places'\n\t\t\t\t\t\t\t\tid={props.placeId}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t</div>\n\t)\n\n}\n","import React, {useEffect, useState} from 'react'\nimport {\n\tCheckbox,\n\tDialog,\n\tDialogContent,\n\tFormControlLabel,\n\tGrid,\n\tIconButton,\n\tmakeStyles,\n\tTextField,\n} from '@material-ui/core'\nimport QuestService from '../../Services/QuestService'\nimport {Info, Save} from '@material-ui/icons'\nimport Editor from '../Editor'\nimport RelationshipList from '../Relationships/RelationshipList'\n\nconst questService = new QuestService()\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\tdialog: {\n\t\t\twidth: '800px',\n\t\t\tmaxWidth: '100%',\n\t\t},\n\t\ttextField: {\n\t\t\twidth: '100%',\n\t\t},\n\t}\n})\n\nexport default function EditQuestDialog(props) {\n\n\tconst classes = useStyles()\n\n\tconst [content, setContent] = useState('')\n\tconst [name, setName] = useState('')\n\tconst [open, setOpen] = useState(false)\n\tconst [complete, setComplete] = useState(false)\n\n\tuseEffect(() => {\n\t\t(async function() {\n\t\t\tlet quest = await questService.show(props.questId)\n\t\t\tsetContent(quest.notes)\n\t\t\tsetName(quest.name)\n\t\t\tsetComplete(quest.complete)\n\t\t})()\n\t}, [props.questId])\n\n\tfunction saveAndClose() {\n\t\tquestService.update(props.questId, {\n\t\t\tname: name,\n\t\t\tnotes: content,\n\t\t\tcomplete: complete,\n\t\t})\n\t\tprops.onClose()\n\t}\n\n\t/*function cancelAndClose(){\n\t\tsetContent(quest.notes)\n\t\tsetName(quest.name)\n\t\tsetComplete(quest.complete)\n\t\tprops.onClose()\n\t}*/\n\n\treturn (\n\t\t<div>\n\t\t\t<IconButton onClick={() => setOpen(true)}>\n\t\t\t\t<Info color=\"primary\"/>\n\t\t\t</IconButton>\n\t\t\t<Dialog open={open}\n\t\t\t\t\tonClose={\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\tsetOpen(false)\n\t\t\t\t\t\t\tsaveAndClose()\n\t\t\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<DialogContent\n\t\t\t\t\tclassName={classes.dialog}\n\t\t\t\t>\n\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t<Grid item xs={3} md={1}>\n\t\t\t\t\t\t\t<IconButton onClick={saveAndClose}>\n\t\t\t\t\t\t\t\t<Save/>\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={9} md={8}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\n\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12} md={3}>\n\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\tlabel=\"Complete\"\n\t\t\t\t\t\t\t\t\t\tchecked={complete}\n\t\t\t\t\t\t\t\t\t\tonChange={e => {\n\t\t\t\t\t\t\t\t\t\t\tsetComplete(!!e.target.checked)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabel=\"Complete\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Editor value={content} onChange={setContent}/>\n\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t<RelationshipList\n\t\t\t\t\t\t\t\ttype='quests'\n\t\t\t\t\t\t\t\tid={props.questId}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t</div>\n\t)\n\n}\n","import React, {useEffect, useState} from 'react'\nimport EditCharacterDialog from './Characters/EditCharacterDialog'\nimport EditEventDialog from './Events/EditEventDialog'\nimport EditItemDialog from './Items/EditItemDialog'\nimport EditPlaceDialog from './Places/EditPlaceDialog'\nimport EditQuestDialog from './Quests/EditQuestDialog'\n\nexport default function PolymorphicEditDialog(props){\n\n\tconst [component, setComponent] = useState(<span />)\n\n\tuseEffect(() => {\n\t\tswitch(props.type){\n\t\t\tcase 'characters':\n\t\t\t\tsetComponent(<EditCharacterDialog onClose={() => {}} characterId={props.id} />)\n\t\t\t\tbreak\n\t\t\tcase 'events':\n\t\t\t\tsetComponent(<EditEventDialog onClose={() => {}} eventId={props.id} />)\n\t\t\t\tbreak\n\t\t\tcase 'items':\n\t\t\t\tsetComponent(<EditItemDialog onClose={() => {}} itemId={props.id} />)\n\t\t\t\tbreak\n\t\t\tcase 'places':\n\t\t\t\tsetComponent(<EditPlaceDialog onClose={() => {}} placeId={props.id} />)\n\t\t\t\tbreak\n\t\t\tcase 'quests':\n\t\t\t\tsetComponent(<EditQuestDialog onClose={() => {}} questId={props.id} />)\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tsetComponent(<span />)\n\t\t}\n\t}, [props.type, props.id])\n\n\treturn component\n\n}\n","import React, {useEffect, useState} from 'react'\nimport RelationshipService from '../../Services/RelationshipService'\nimport {\n\tGrid,\n\tList,\n\tListItem, ListItemIcon,\n\tListItemText,\n\tTypography,\n} from '@material-ui/core'\nimport {\n\tExplore,\n\tPerson,\n\tShoppingCart, Timer,\n\tToday,\n} from '@material-ui/icons'\nimport AddRelationshipDialog from './AddRelationshipDialog'\nimport Confirm from '../Confirm'\nimport PolymorphicEditDialog from '../PolymorphicEditDialog'\n\nconst relationshipService = new RelationshipService()\n\nexport default function RelationshipList(props){\n\n\tconst [relationships, setRelationships] = useState([])\n\n\tasync function fetchRelationships(){\n\t\tsetRelationships(await relationshipService.list(props.type, props.id))\n\t}\n\n\tasync function deleteRelationship(type, id, joinType, joinId){\n\t\t//Should this be in the service?\n\t\trelationshipService.detach(type, id, joinType, joinId)\n\t\trelationshipService.detach(joinType, joinId, type, id)\n\t\tfetchRelationships()\n\t}\n\n\tconst icons = {\n\t\tcharacters: <Person />,\n\t\tevents: <Today />,\n\t\titems: <ShoppingCart />,\n\t\tplaces: <Explore />,\n\t\tquests: <Timer />\n\t}\n\n\tuseEffect(() => {\n\t\tfetchRelationships()\n\t\t// eslint-disable-next-line\n\t}, [])\n\n\treturn (\n\t\t<Grid container>\n\t\t\t<Grid item>\n\t\t\t\t<Typography variant='body2'>\n\t\t\t\t\t<Grid container alignItems='center'>\n\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t<AddRelationshipDialog\n\t\t\t\t\t\t\t\tonClose={fetchRelationships}\n\t\t\t\t\t\t\t\ttype={props.type}\n\t\t\t\t\t\t\t\tid={props.id}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\tRelated\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Typography>\n\t\t\t\t<List>\n\t\t\t\t\t{\n\t\t\t\t\t\trelationships.map((item, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<ListItem key={index}>\n\t\t\t\t\t\t\t\t\t<Grid container alignItems={'center'}>\n\t\t\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t\t\t{icons[item.type]}\n\t\t\t\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t<Grid item className={'flexGrow'}>\n\t\t\t\t\t\t\t\t\t\t\t<ListItemText primary={item.content.name} />\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t\t\t<PolymorphicEditDialog type={item.type} id={item.content.id} />\n\t\t\t\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t\t\t<Confirm onConfirm={() => {deleteRelationship(props.type, props.id, item.type, item.content.id)}} />\n\t\t\t\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t</List>\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n\n}\n","import React, {useEffect, useState} from 'react'\nimport {\n\tCheckbox,\n\tDialog,\n\tDialogContent,\n\tFormControlLabel,\n\tGrid,\n\tIconButton,\n\tmakeStyles,\n\tTextField,\n} from '@material-ui/core'\nimport CharacterService from '../../Services/CharacterService'\nimport {Info, Save} from '@material-ui/icons'\nimport Editor from '../Editor'\nimport RelationshipList from '../Relationships/RelationshipList'\n\nconst characterService = new CharacterService()\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\tdialog: {\n\t\t\twidth: '800px',\n\t\t\tmaxWidth: '100%',\n\t\t},\n\t\ttextField: {\n\t\t\twidth: '100%',\n\t\t},\n\t}\n})\n\nexport default function EditCharacterDialog(props) {\n\n\tconst classes = useStyles()\n\n\tconst [content, setContent] = useState('')\n\tconst [name, setName] = useState('')\n\tconst [open, setOpen] = useState(false)\n\tconst [npc, setNpc] = useState(false)\n\n\tuseEffect(() => {\n\t\t(async function() {\n\t\t\tlet character = await characterService.show(props.characterId)\n\t\t\tsetContent(character.notes)\n\t\t\tsetName(character.name)\n\t\t\tsetNpc(character.npc)\n\t\t})()\n\t}, [props.characterId])\n\n\tfunction saveAndClose() {\n\t\tcharacterService.update(props.characterId, {\n\t\t\tname: name,\n\t\t\tnotes: content,\n\t\t\tnpc: npc,\n\t\t})\n\t\tprops.onClose()\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<IconButton onClick={() => setOpen(true)}>\n\t\t\t\t<Info color=\"primary\"/>\n\t\t\t</IconButton>\n\t\t\t<Dialog open={open}\n\t\t\t\t\tonClose={\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\tsetOpen(false)\n\t\t\t\t\t\t\tsaveAndClose()\n\t\t\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<DialogContent\n\t\t\t\t\tclassName={classes.dialog}\n\t\t\t\t>\n\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t<Grid item xs={3} md={1}>\n\t\t\t\t\t\t\t<IconButton onClick={saveAndClose}>\n\t\t\t\t\t\t\t\t<Save/>\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={9} md={8}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\n\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12} md={3}>\n\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\tlabel=\"NPC\"\n\t\t\t\t\t\t\t\t\t\tchecked={npc}\n\t\t\t\t\t\t\t\t\t\tonChange={e => {\n\t\t\t\t\t\t\t\t\t\t\tsetNpc(!!e.target.checked)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabel=\"NPC\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Editor value={content} onChange={setContent}/>\n\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t<RelationshipList\n\t\t\t\t\t\t\t\ttype='characters'\n\t\t\t\t\t\t\t\tid={props.characterId}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t</div>\n\t)\n\n}\n","import Service from './Service'\n\nexport default class JournalService extends Service {\n\n\tasync index() {\n\t\treturn this.store.transaction('rw', this.store.journals, async () => {\n\t\t\treturn this.store.journals.toArray()\n\t\t})\n\t}\n\n\tasync show(id) {\n\t\treturn this.store.transaction('rw', this.store.journals, async () => {\n\t\t\treturn this.store.journals.where('id').equals(id).first()\n\t\t})\n\t}\n\n\tasync create(journal) {\n\t\treturn this.store.transaction('rw', this.store.journals, async () => {\n\t\t\treturn this.store.journals.add(journal)\n\t\t})\n\t}\n\n\tasync update(id, journal) {\n\t\treturn this.store.transaction('rw', this.store.journals, async () => {\n\t\t\treturn this.store.journals.update(id, journal)\n\t\t})\n\t}\n\n\tasync destroy(id) {\n\t\treturn this.store.transaction('rw', this.store.journals, async () => {\n\t\t\treturn this.store.journals.where('id').equals(id).delete()\n\t\t})\n\t}\n\n}\n","import React, {useState} from 'react'\nimport {\n\tButton,\n\tDialog,\n\tDialogContent,\n\tGrid,\n\tInputLabel,\n\tTextField,\n} from '@material-ui/core'\nimport JournalService from '../Services/JournalService'\n\nconst journalService = new JournalService()\n\nexport default function AddJournalDialog(props) {\n\n\tconst [name, setName] = useState('')\n\tconst [validation, setValidation] = useState('')\n\n\tasync function handleSubmit(e) {\n\n\t\te.preventDefault()\n\n\t\ttry {\n\t\t\tawait journalService.create({\n\t\t\t\tname: name,\n\t\t\t})\n\t\t\tsetName('')\n\t\t\tprops.onClose(true)\n\t\t} catch (e) {\n\t\t\tsetValidation('Check that the journal name is unique')\n\t\t}\n\n\t}\n\n\tfunction handleClose() {\n\t\tsetName('')\n\t\tprops.onClose()\n\t}\n\n\t//TODO change to Dialog for consistency\n\treturn (\n\t\t<Dialog open={props.open} onClose={handleClose}>\n\t\t\t<DialogContent>\n\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t<Grid container spacing={4} p={5} m={5} alignItems=\"center\">\n\t\t\t\t\t\t<Grid item xs={12} sm={8}>\n\t\t\t\t\t\t\t<InputLabel id=\"journal-name-input-label\">Create\n\t\t\t\t\t\t\t\tJournal</InputLabel>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\t\terror={!!validation}\n\t\t\t\t\t\t\t\thelperText={validation}\n\t\t\t\t\t\t\t\tonChange={\n\t\t\t\t\t\t\t\t\t(e) => {\n\t\t\t\t\t\t\t\t\t\tsetName(e.target.value)\n\t\t\t\t\t\t\t\t\t\tsetValidation('')\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12} sm={4}>\n\t\t\t\t\t\t\t<Button color=\"primary\" variant=\"contained\"\n\t\t\t\t\t\t\t\t\ttype=\"submit\">Save</Button>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</form>\n\t\t\t</DialogContent>\n\t\t</Dialog>\n\t)\n\n}\n","import React, {useEffect, useState} from 'react'\nimport JournalService from '../Services/JournalService'\n\nexport const JournalListContext = React.createContext({\n\tjournalList: [],\n\tfetchJournalList: () => {},\n})\n\nexport default function JournalListProvider(props) {\n\n\tconst journalService = new JournalService()\n\n\tconst [journalList, setJournalList] = useState([])\n\n\tuseEffect(() => {\n\t\tfetchJournalList()\n\t\t// eslint-disable-next-line\n\t}, [journalList])\n\n\tasync function fetchJournalList() {\n\t\tsetJournalList(await journalService.index())\n\t}\n\n\treturn (\n\t\t<JournalListContext.Provider\n\t\t\tvalue={{\n\t\t\t\tjournalList: journalList,\n\t\t\t\tfetchJournalList: fetchJournalList,\n\t\t\t}}\n\t\t>\n\t\t\t{props.children}\n\t\t</JournalListContext.Provider>\n\t)\n\n}\n","import React, {useContext, useEffect, useState} from 'react'\nimport {\n\tFormControl,\n\tIconButton,\n\tmakeStyles,\n\tMenuItem,\n\tSelect,\n} from '@material-ui/core'\nimport {Add} from '@material-ui/icons'\nimport AddJournalDialog from './AddJournalDialog'\nimport {SelectedJournalContext} from '../Contexts/SelectedJournalProvider'\nimport {JournalListContext} from '../Contexts/JournalListProvider'\n\nconst useStyles = makeStyles((theme) => ({\n\n\tgrow: {\n\t\tflexGrow: 1,\n\t},\n\tmenuButton: {\n\t\tmarginLeft: -12,\n\t\tmarginRight: 20,\n\t},\n\tselectRoot: {\n\t\tcolor: 'white',\n\t\tflexGrow: 1,\n\t},\n}))\n\nexport default function JournalSelector() {\n\n\tconst classes = useStyles()\n\n\tconst {selectedJournal, setSelectedJournal} = useContext(\n\t\tSelectedJournalContext)\n\n\tconst {journalList, fetchJournalList} = useContext(JournalListContext)\n\n\tasync function fetchJournals() {\n\t\tfetchJournalList()\n\t}\n\n\tuseEffect(() => {\n\t\tfetchJournalList()\n\t\t// eslint-disable-next-line\n\t}, [])\n\n\tconst [addJournalDialog, setAddJournalDialog] = useState(false)\n\n\tfunction openAddJournalDialog() {\n\t\tsetAddJournalDialog(true)\n\t}\n\n\tfunction closeAddJournalDialog(resync = false) {\n\t\tsetAddJournalDialog(false)\n\t\tif (resync) {\n\t\t\tfetchJournals()\n\t\t}\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<FormControl className={classes.selectRoot}>\n\t\t\t\t<Select\n\t\t\t\t\tclassName={classes.selectRoot}\n\t\t\t\t\tvalue={selectedJournal}\n\t\t\t\t\t//displayEmpty\n\t\t\t\t\tonChange={(e) => {setSelectedJournal(e.target.value)}}>\n\t\t\t\t\t<MenuItem disabled value={0}>Select a Journal</MenuItem>\n\t\t\t\t\t{\n\t\t\t\t\t\tjournalList.map((journal, i) => {\n\t\t\t\t\t\t\treturn <MenuItem key={i}\n\t\t\t\t\t\t\t\t\t\t\t value={journal.id}>{journal.name}</MenuItem>\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t\t<IconButton className={classes.grow} color=\"inherit\"\n\t\t\t\t\t\tonClick={openAddJournalDialog}>\n\t\t\t\t<Add/>\n\t\t\t</IconButton>\n\t\t\t<AddJournalDialog\n\t\t\t\topen={addJournalDialog}\n\t\t\t\tonClose={closeAddJournalDialog}\n\t\t\t/>\n\t\t</div>\n\t)\n\n}\n","import React from 'react'\nimport {Dialog, DialogContent} from '@material-ui/core'\nimport JournalSelector from './JournalSelector'\n\nexport default function JournalSelectDialog(props){\n\n\treturn (\n\t\t<Dialog open={props.open}>\n\t\t\t<DialogContent>\n\t\t\t\tPlease Select a Journal\n\t\t\t\t<JournalSelector/>\n\t\t\t</DialogContent>\n\t\t</Dialog>\n\t)\n}\n","import React, {useContext, useEffect, useState} from 'react'\nimport Page from '../Components/Page'\nimport {SelectedJournalContext} from '../Contexts/SelectedJournalProvider'\nimport CharacterService from '../Services/CharacterService'\nimport {\n\tCard,\n\tCardActions,\n\tCardContent,\n\tGrid,\n\tIconButton,\n\tTypography,\n} from '@material-ui/core'\nimport {AddOutlined} from '@material-ui/icons'\nimport AddCharacterDialog from '../Components/Characters/AddCharacterDialog'\nimport EditCharacterDialog from '../Components/Characters/EditCharacterDialog'\nimport Confirm from '../Components/Confirm'\nimport JournalSelectorDialog from '../Components/JournalSelectorDialog'\n\nconst characterService = new CharacterService()\n\nexport default function Characters() {\n\n\tconst {selectedJournal} = useContext(SelectedJournalContext)\n\n\tconst [characters, setCharacters] = useState([])\n\n\tasync function fetchCharacters(journalId) {\n\t\tsetCharacters(await characterService.index(journalId))\n\t}\n\n\tuseEffect(() => {\n\t\tfetchCharacters(selectedJournal)\n\t}, [selectedJournal])\n\n\tconst [addCharacterDialog, setAddCharacterDialog] = useState(false)\n\n\tfunction openAddCharacterDialog() {\n\t\tsetAddCharacterDialog(true)\n\t}\n\n\tfunction closeAddCharacterDialog() {\n\t\tfetchCharacters(selectedJournal)\n\t\tsetAddCharacterDialog(false)\n\t}\n\n\tasync function destroyCharacter(id) {\n\t\tawait characterService.destroy(id)\n\t\tfetchCharacters(selectedJournal)\n\t}\n\n\treturn (\n\t\t<Page>\n\t\t\t<JournalSelectorDialog open={!selectedJournal} />\n\t\t\t<Grid container spacing={3}>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<Typography variant=\"h4\">\n\t\t\t\t\t\t<AddCharacterDialog open={addCharacterDialog}\n\t\t\t\t\t\t\t\t\t\t\tonClose={() => closeAddCharacterDialog()}/>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tonClick={() => openAddCharacterDialog()}>\n\t\t\t\t\t\t\t<AddOutlined/>\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\tCharacters\n\t\t\t\t\t</Typography>\n\t\t\t\t</Grid>\n\t\t\t\t{characters.map((character, index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Grid item xs={12} md={6} key={index}>\n\t\t\t\t\t\t\t<Card className={'fullHeight'}>\n\t\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"h5\">\n\t\t\t\t\t\t\t\t\t\t{character.name}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"body2\">\n\t\t\t\t\t\t\t\t\t\t{character.npc ? 'NPC' : 'PC'}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t\t__html: character.notes?.substring(\n\t\t\t\t\t\t\t\t\t\t\t\t0, 300),\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t<div className={'flexGrow'}/>\n\t\t\t\t\t\t\t\t<CardActions>\n\t\t\t\t\t\t\t\t\t<Confirm\n\t\t\t\t\t\t\t\t\t\tmessage={`Are you sure you want to delete ${character.name}?`}\n\t\t\t\t\t\t\t\t\t\tonConfirm={() => destroyCharacter(\n\t\t\t\t\t\t\t\t\t\t\tcharacter.id)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<EditCharacterDialog\n\t\t\t\t\t\t\t\t\t\tonClose={() => fetchCharacters(\n\t\t\t\t\t\t\t\t\t\t\tselectedJournal)}\n\t\t\t\t\t\t\t\t\t\tcharacterId={character.id}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</CardActions>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t</Grid>\n\t\t</Page>\n\t)\n}\n","import React, {useContext, useState} from 'react'\nimport {\n\tButton,\n\tCheckbox,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogTitle,\n\tFormControl,\n\tFormControlLabel,\n\tTextField,\n} from '@material-ui/core'\nimport QuestService from '../../Services/QuestService'\nimport {SelectedJournalContext} from '../../Contexts/SelectedJournalProvider'\n\nconst questService = new QuestService()\n\nexport default function AddQuestDialog(props) {\n\n\tconst [name, setName] = useState('')\n\tconst [complete, setComplete] = useState(false)\n\tconst {selectedJournal} = useContext(SelectedJournalContext)\n\n\tfunction cancel() {\n\t\tsetName('')\n\t\tclear()\n\t\tprops.onClose()\n\t}\n\n\tfunction submit() {\n\t\tquestService.create({\n\t\t\tname: name,\n\t\t\tcomplete: !!complete,\n\t\t\tjournal_id: selectedJournal,\n\t\t})\n\t\tclear()\n\t\tprops.onClose()\n\t}\n\n\tfunction clear() {\n\t\tsetName('')\n\t\tsetComplete(false)\n\t}\n\n\treturn (\n\t\t<Dialog open={props.open} onClose={props.onClose}>\n\t\t\t<DialogTitle>\n\t\t\t\tAdd a Quest\n\t\t\t</DialogTitle>\n\t\t\t<DialogContent>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"Quest Name\"\n\t\t\t\t\tvalue={name}\n\t\t\t\t\tonChange={(e) => {setName(e.target.value)}}\n\t\t\t\t/>\n\n\t\t\t\t<FormControl>\n\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\tlabel=\"Complete\"\n\t\t\t\t\t\t\t\tchecked={complete}\n\t\t\t\t\t\t\t\tonChange={e => {\n\t\t\t\t\t\t\t\t\tsetComplete(!!e.target.checked)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlabel=\"Complete\"\n\t\t\t\t\t/>\n\t\t\t\t</FormControl>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button variant=\"contained\" onClick={submit}>Save</Button>\n\t\t\t\t<Button variant=\"contained\" onClick={cancel}>Cancel</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t)\n}\n","import React, {useContext, useEffect, useState} from 'react'\nimport Page from '../Components/Page'\nimport {SelectedJournalContext} from '../Contexts/SelectedJournalProvider'\nimport QuestService from '../Services/QuestService'\nimport {\n\tCard,\n\tCardActions,\n\tCardContent,\n\tGrid,\n\tIconButton,\n\tTypography,\n} from '@material-ui/core'\nimport {AddOutlined, Done, PriorityHigh} from '@material-ui/icons'\nimport AddQuestDialog from '../Components/Quests/AddQuestDialog'\nimport EditQuestDialog from '../Components/Quests/EditQuestDialog'\nimport Confirm from '../Components/Confirm'\nimport JournalSelectorDialog from '../Components/JournalSelectorDialog'\n\nconst questService = new QuestService()\n\nexport default function Quests() {\n\n\tconst {selectedJournal} = useContext(SelectedJournalContext)\n\n\tconst [quests, setQuests] = useState([])\n\n\tasync function fetchQuests(journalId) {\n\t\tsetQuests(await questService.index(journalId))\n\t}\n\n\tuseEffect(() => {\n\t\tfetchQuests(selectedJournal)\n\t}, [selectedJournal])\n\n\tconst [addQuestDialog, setAddQuestDialog] = useState(false)\n\n\tfunction openAddQuestDialog() {\n\t\tsetAddQuestDialog(true)\n\t}\n\n\tfunction closeAddQuestDialog() {\n\t\tfetchQuests(selectedJournal)\n\t\tsetAddQuestDialog(false)\n\t}\n\n\tasync function destroyQuest(id) {\n\t\tawait questService.destroy(id)\n\t\tfetchQuests(selectedJournal)\n\t}\n\n\treturn (\n\t\t<Page>\n\t\t\t<JournalSelectorDialog open={!selectedJournal} />\n\t\t\t<Grid container spacing={3}>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<Typography variant=\"h4\">\n\t\t\t\t\t\t<AddQuestDialog open={addQuestDialog}\n\t\t\t\t\t\t\t\t\t\tonClose={() => closeAddQuestDialog()}/>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tonClick={() => openAddQuestDialog()}>\n\t\t\t\t\t\t\t<AddOutlined/>\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\tQuests\n\t\t\t\t\t</Typography>\n\t\t\t\t</Grid>\n\t\t\t\t{quests.map((quest, index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Grid item xs={12} md={6} key={index}>\n\t\t\t\t\t\t\t<Card className={'fullHeight'}>\n\t\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"h5\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={'wrapIcon'}>\n\t\t\t\t\t\t\t\t\t\t<Grid container direction=\"row\"\n\t\t\t\t\t\t\t\t\t\t\t  alignItems=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tquest.complete ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Done\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PriorityHigh\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"/>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t{quest.name}\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t\t__html: quest.notes?.substring(\n\t\t\t\t\t\t\t\t\t\t\t\t0, 300),\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t<div className={'flexGrow'}/>\n\t\t\t\t\t\t\t\t<CardActions>\n\t\t\t\t\t\t\t\t\t<Confirm\n\t\t\t\t\t\t\t\t\t\tmessage={`Are you sure you want to delete ${quest.name}?`}\n\t\t\t\t\t\t\t\t\t\tonConfirm={() => destroyQuest(\n\t\t\t\t\t\t\t\t\t\t\tquest.id)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<EditQuestDialog\n\t\t\t\t\t\t\t\t\t\tonClose={() => fetchQuests(\n\t\t\t\t\t\t\t\t\t\t\tselectedJournal)}\n\t\t\t\t\t\t\t\t\t\tquestId={quest.id}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</CardActions>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t</Grid>\n\t\t</Page>\n\t)\n}\n","import React, {useContext, useState} from 'react'\nimport {\n\tButton,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogTitle,\n\tTextField,\n} from '@material-ui/core'\nimport PlaceService from '../../Services/PlaceService'\nimport {SelectedJournalContext} from '../../Contexts/SelectedJournalProvider'\n\nconst placeService = new PlaceService()\n\nexport default function AddPlaceDialog(props) {\n\n\tconst [name, setName] = useState('')\n\tconst {selectedJournal} = useContext(SelectedJournalContext)\n\n\tfunction cancel() {\n\t\tsetName('')\n\t\tclear()\n\t\tprops.onClose()\n\t}\n\n\tfunction submit() {\n\t\tplaceService.create({\n\t\t\tname: name,\n\t\t\tjournal_id: selectedJournal,\n\t\t})\n\t\tclear()\n\t\tprops.onClose()\n\t}\n\n\tfunction clear() {\n\t\tsetName('')\n\t}\n\n\treturn (\n\t\t<Dialog open={props.open} onClose={props.onClose}>\n\t\t\t<DialogTitle>\n\t\t\t\tAdd a Place\n\t\t\t</DialogTitle>\n\t\t\t<DialogContent>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"Place Name\"\n\t\t\t\t\tvalue={name}\n\t\t\t\t\tonChange={(e) => {setName(e.target.value)}}\n\t\t\t\t/>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button variant=\"contained\" onClick={submit}>Save</Button>\n\t\t\t\t<Button variant=\"contained\" onClick={cancel}>Cancel</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t)\n}\n","import React, {useContext, useEffect, useState} from 'react'\nimport Page from '../Components/Page'\nimport {SelectedJournalContext} from '../Contexts/SelectedJournalProvider'\nimport PlaceService from '../Services/PlaceService'\nimport {\n\tCard,\n\tCardActions,\n\tCardContent,\n\tGrid,\n\tIconButton,\n\tTypography,\n} from '@material-ui/core'\nimport {AddOutlined} from '@material-ui/icons'\nimport AddPlaceDialog from '../Components/Places/AddPlaceDialog'\nimport EditPlaceDialog from '../Components/Places/EditPlaceDialog'\nimport Confirm from '../Components/Confirm'\nimport JournalSelectorDialog from '../Components/JournalSelectorDialog'\n\nconst placeService = new PlaceService()\n\nexport default function Places() {\n\n\tconst {selectedJournal} = useContext(SelectedJournalContext)\n\n\tconst [places, setPlaces] = useState([])\n\n\tasync function fetchPlaces(journalId) {\n\t\tsetPlaces(await placeService.index(journalId))\n\t}\n\n\tuseEffect(() => {\n\t\tfetchPlaces(selectedJournal)\n\t}, [selectedJournal])\n\n\tconst [addPlaceDialog, setAddPlaceDialog] = useState(false)\n\n\tfunction openAddPlaceDialog() {\n\t\tsetAddPlaceDialog(true)\n\t}\n\n\tfunction closeAddPlaceDialog() {\n\t\tfetchPlaces(selectedJournal)\n\t\tsetAddPlaceDialog(false)\n\t}\n\n\tasync function destroyPlace(id) {\n\t\tawait placeService.destroy(id)\n\t\tfetchPlaces(selectedJournal)\n\t}\n\n\treturn (\n\t\t<Page>\n\t\t\t<JournalSelectorDialog open={!selectedJournal} />\n\t\t\t<Grid container spacing={3}>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<Typography variant=\"h4\">\n\t\t\t\t\t\t<AddPlaceDialog open={addPlaceDialog}\n\t\t\t\t\t\t\t\t\t\tonClose={() => closeAddPlaceDialog()}/>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tonClick={() => openAddPlaceDialog()}>\n\t\t\t\t\t\t\t<AddOutlined/>\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\tPlaces\n\t\t\t\t\t</Typography>\n\t\t\t\t</Grid>\n\t\t\t\t{places.map((place, index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Grid item xs={12} md={6} key={index}>\n\t\t\t\t\t\t\t<Card className={'fullHeight'}>\n\t\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"h5\">\n\t\t\t\t\t\t\t\t\t\t{place.name}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t\t__html: place.notes?.substring(\n\t\t\t\t\t\t\t\t\t\t\t\t0, 300),\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t<div className={'flexGrow'}/>\n\t\t\t\t\t\t\t\t<CardActions>\n\t\t\t\t\t\t\t\t\t<Confirm\n\t\t\t\t\t\t\t\t\t\tmessage={`Are you sure you want to delete ${place.name}?`}\n\t\t\t\t\t\t\t\t\t\tonConfirm={() => destroyPlace(\n\t\t\t\t\t\t\t\t\t\t\tplace.id)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<EditPlaceDialog\n\t\t\t\t\t\t\t\t\t\tonClose={() => fetchPlaces(\n\t\t\t\t\t\t\t\t\t\t\tselectedJournal)}\n\t\t\t\t\t\t\t\t\t\tplaceId={place.id}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</CardActions>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t</Grid>\n\t\t</Page>\n\t)\n}\n","import React, {useContext, useState} from 'react'\nimport {\n\tButton,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogTitle,\n\tTextField,\n} from '@material-ui/core'\nimport EventService from '../../Services/EventService'\nimport {SelectedJournalContext} from '../../Contexts/SelectedJournalProvider'\n\nconst eventService = new EventService()\n\nexport default function AddEventDialog(props) {\n\n\tconst [name, setName] = useState('')\n\tconst {selectedJournal} = useContext(SelectedJournalContext)\n\n\tfunction cancel() {\n\t\tsetName('')\n\t\tclear()\n\t\tprops.onClose()\n\t}\n\n\tfunction submit() {\n\t\teventService.create({\n\t\t\tname: name,\n\t\t\tjournal_id: selectedJournal,\n\t\t})\n\t\tclear()\n\t\tprops.onClose()\n\t}\n\n\tfunction clear() {\n\t\tsetName('')\n\t}\n\n\treturn (\n\t\t<Dialog open={props.open} onClose={props.onClose}>\n\t\t\t<DialogTitle>\n\t\t\t\tAdd a Event\n\t\t\t</DialogTitle>\n\t\t\t<DialogContent>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"Event Name\"\n\t\t\t\t\tvalue={name}\n\t\t\t\t\tonChange={(e) => {setName(e.target.value)}}\n\t\t\t\t/>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button variant=\"contained\" onClick={submit}>Save</Button>\n\t\t\t\t<Button variant=\"contained\" onClick={cancel}>Cancel</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t)\n}\n","import React, {useContext, useEffect, useState} from 'react'\nimport Page from '../Components/Page'\nimport {SelectedJournalContext} from '../Contexts/SelectedJournalProvider'\nimport EventService from '../Services/EventService'\nimport {\n\tCard,\n\tCardActions,\n\tCardContent,\n\tGrid,\n\tIconButton,\n\tTypography,\n} from '@material-ui/core'\nimport {AddOutlined} from '@material-ui/icons'\nimport AddEventDialog from '../Components/Events/AddEventDialog'\nimport EditEventDialog from '../Components/Events/EditEventDialog'\nimport Confirm from '../Components/Confirm'\nimport JournalSelectorDialog from '../Components/JournalSelectorDialog'\n\nconst eventService = new EventService()\n\nexport default function Events() {\n\n\tconst {selectedJournal} = useContext(SelectedJournalContext)\n\n\tconst [events, setEvents] = useState([])\n\n\tasync function fetchEvents(journalId) {\n\t\tsetEvents(await eventService.index(journalId))\n\t}\n\n\tuseEffect(() => {\n\t\tfetchEvents(selectedJournal)\n\t}, [selectedJournal])\n\n\tconst [addEventDialog, setAddEventDialog] = useState(false)\n\n\tfunction openAddEventDialog() {\n\t\tsetAddEventDialog(true)\n\t}\n\n\tfunction closeAddEventDialog() {\n\t\tfetchEvents(selectedJournal)\n\t\tsetAddEventDialog(false)\n\t}\n\n\tasync function destroyEvent(id) {\n\t\tawait eventService.destroy(id)\n\t\tfetchEvents(selectedJournal)\n\t}\n\n\treturn (\n\t\t<Page>\n\t\t\t<JournalSelectorDialog open={!selectedJournal} />\n\t\t\t<Grid container spacing={3}>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<Typography variant=\"h4\">\n\t\t\t\t\t\t<AddEventDialog open={addEventDialog}\n\t\t\t\t\t\t\t\t\t\tonClose={() => closeAddEventDialog()}/>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tonClick={() => openAddEventDialog()}>\n\t\t\t\t\t\t\t<AddOutlined/>\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\tEvents\n\t\t\t\t\t</Typography>\n\t\t\t\t</Grid>\n\t\t\t\t{events.map((event, index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Grid item xs={12} md={6} key={index}>\n\t\t\t\t\t\t\t<Card className={'fullHeight'}>\n\t\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"h5\">\n\t\t\t\t\t\t\t\t\t\t{event.name}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t\t__html: event.notes?.substring(\n\t\t\t\t\t\t\t\t\t\t\t\t0, 300),\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t<div className={'flexGrow'}/>\n\t\t\t\t\t\t\t\t<CardActions>\n\t\t\t\t\t\t\t\t\t<Confirm\n\t\t\t\t\t\t\t\t\t\tmessage={`Are you sure you want to delete ${event.name}?`}\n\t\t\t\t\t\t\t\t\t\tonConfirm={() => destroyEvent(\n\t\t\t\t\t\t\t\t\t\t\tevent.id)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<EditEventDialog\n\t\t\t\t\t\t\t\t\t\tonClose={() => fetchEvents(\n\t\t\t\t\t\t\t\t\t\t\tselectedJournal)}\n\t\t\t\t\t\t\t\t\t\teventId={event.id}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</CardActions>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t</Grid>\n\t\t</Page>\n\t)\n}\n","import React, {useEffect, useState} from 'react'\nimport {\n\tDialog,\n\tDialogContent,\n\tGrid,\n\tIconButton,\n\tmakeStyles, TextField,\n} from '@material-ui/core'\nimport {Edit, Save} from '@material-ui/icons'\nimport JournalService from '../Services/JournalService'\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\tdialog: {\n\t\t\twidth: '800px',\n\t\t\tmaxWidth: '100%',\n\t\t},\n\t\ttextField: {\n\t\t\twidth: '100%',\n\t\t},\n\t}\n})\n\nconst journalService = new JournalService()\n\nexport default function EditJournalDialog(props){\n\n\tconst classes = useStyles()\n\n\tconst [open, setOpen] = useState(false)\n\n\tconst [name, setName] = useState('')\n\n\tconst [validation, setValidation] = useState('')\n\n\tuseEffect(() => {\n\t\t(async function() {\n\t\t\tlet journal = await journalService.show(props.journalId)\n\t\t\tsetName(journal.name)\n\t\t})()\n\t}, [props.journalId])\n\n\tasync function saveAndClose(){\n\t\ttry {\n\t\t\tawait journalService.update(props.journalId,{\n\t\t\t\tname: name,\n\t\t\t})\n\t\t\tsetOpen(false)\n\t\t} catch (e) {\n\t\t\tsetValidation('Check that the journal name is unique')\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<div>\n\t\t\t<IconButton onClick={() => setOpen(true)}>\n\t\t\t\t<Edit color=\"primary\"/>\n\t\t\t</IconButton>\n\t\t\t<Dialog open={open}\n\t\t\t\t\tonClose={\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\tsetOpen(false)\n\t\t\t\t\t\t\tsaveAndClose()\n\t\t\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<DialogContent\n\t\t\t\t\tclassName={classes.dialog}\n\t\t\t\t>\n\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t<Grid item xs={3} md={1}>\n\t\t\t\t\t\t\t<IconButton onClick={saveAndClose}>\n\t\t\t\t\t\t\t\t<Save/>\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={9} md={11}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\t\terror={!!validation}\n\t\t\t\t\t\t\t\thelperText={validation}\n\t\t\t\t\t\t\t\tonChange={\n\t\t\t\t\t\t\t\t\t(e) => {\n\t\t\t\t\t\t\t\t\t\tsetName(e.target.value)\n\t\t\t\t\t\t\t\t\t\tsetValidation('')\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t</div>\n\t)\n}\n","import React, {useContext} from 'react'\nimport Page from '../Components/Page'\nimport JournalService from '../Services/JournalService'\nimport {\n\tCard,\n\tCardActions,\n\tCardContent,\n\tGrid,\n\tTypography,\n} from '@material-ui/core'\nimport Confirm from '../Components/Confirm'\nimport {JournalListContext} from '../Contexts/JournalListProvider'\nimport EditJournalDialog from '../Components/EditJournalDialog'\n\nconst journalService = new JournalService()\n\nexport default function Journals() {\n\n\tconst {journalList, fetchJournalList} = useContext(JournalListContext)\n\n\tasync function destroyJournal(id) {\n\t\tawait journalService.destroy(id)\n\t\tfetchJournalList()\n\t}\n\n\treturn (\n\t\t<Page>\n\t\t\t<Grid container spacing={3}>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<Typography variant=\"h4\">\n\t\t\t\t\t\tJournals\n\t\t\t\t\t</Typography>\n\t\t\t\t</Grid>\n\t\t\t\t{journalList.map((journal, index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Grid item xs={12} md={6} key={index}>\n\t\t\t\t\t\t\t<Card className={'fullHeight'}>\n\t\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"h5\">\n\t\t\t\t\t\t\t\t\t\t{journal.name}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t<div className={'flexGrow'}/>\n\t\t\t\t\t\t\t\t<CardActions>\n\t\t\t\t\t\t\t\t\t<Confirm\n\t\t\t\t\t\t\t\t\t\tmessage={`Are you sure you want to delete ${journal.name}?`}\n\t\t\t\t\t\t\t\t\t\tonConfirm={() => destroyJournal(\n\t\t\t\t\t\t\t\t\t\t\tjournal.id)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<EditJournalDialog journalId={journal.id} />\n\t\t\t\t\t\t\t\t</CardActions>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t</Grid>\n\t\t</Page>\n\t)\n}\n","import React, {useContext, useState} from 'react'\nimport {\n\tButton,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogTitle,\n\tTextField,\n} from '@material-ui/core'\nimport ItemService from '../../Services/ItemService'\nimport {SelectedJournalContext} from '../../Contexts/SelectedJournalProvider'\n\nconst itemService = new ItemService()\n\nexport default function AddItemDialog(props) {\n\n\tconst [name, setName] = useState('')\n\tconst {selectedJournal} = useContext(SelectedJournalContext)\n\n\tfunction cancel() {\n\t\tsetName('')\n\t\tclear()\n\t\tprops.onClose()\n\t}\n\n\tfunction submit() {\n\t\titemService.create({\n\t\t\tname: name,\n\t\t\tjournal_id: selectedJournal,\n\t\t})\n\t\tclear()\n\t\tprops.onClose()\n\t}\n\n\tfunction clear() {\n\t\tsetName('')\n\t}\n\n\treturn (\n\t\t<Dialog open={props.open} onClose={props.onClose}>\n\t\t\t<DialogTitle>\n\t\t\t\tAdd a Item\n\t\t\t</DialogTitle>\n\t\t\t<DialogContent>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"Item Name\"\n\t\t\t\t\tvalue={name}\n\t\t\t\t\tonChange={(e) => {setName(e.target.value)}}\n\t\t\t\t/>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button variant=\"contained\" onClick={submit}>Save</Button>\n\t\t\t\t<Button variant=\"contained\" onClick={cancel}>Cancel</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t)\n}\n","import React, {useContext, useEffect, useState} from 'react'\nimport Page from '../Components/Page'\nimport {SelectedJournalContext} from '../Contexts/SelectedJournalProvider'\nimport ItemService from '../Services/ItemService'\nimport {\n\tCard,\n\tCardActions,\n\tCardContent,\n\tGrid,\n\tIconButton,\n\tTypography,\n} from '@material-ui/core'\nimport {AddOutlined} from '@material-ui/icons'\nimport AddItemDialog from '../Components/Items/AddItemDialog'\nimport EditItemDialog from '../Components/Items/EditItemDialog'\nimport Confirm from '../Components/Confirm'\nimport JournalSelectorDialog from '../Components/JournalSelectorDialog'\n\nconst itemService = new ItemService()\n\nexport default function Items() {\n\n\tconst {selectedJournal} = useContext(SelectedJournalContext)\n\n\tconst [items, setItems] = useState([])\n\n\tasync function fetchItems(journalId) {\n\t\tsetItems(await itemService.index(journalId))\n\t}\n\n\tuseEffect(() => {\n\t\tfetchItems(selectedJournal)\n\t}, [selectedJournal])\n\n\tconst [addItemDialog, setAddItemDialog] = useState(false)\n\n\tfunction openAddItemDialog() {\n\t\tsetAddItemDialog(true)\n\t}\n\n\tfunction closeAddItemDialog() {\n\t\tfetchItems(selectedJournal)\n\t\tsetAddItemDialog(false)\n\t}\n\n\tasync function destroyItem(id) {\n\t\tawait itemService.destroy(id)\n\t\tfetchItems(selectedJournal)\n\t}\n\n\treturn (\n\t\t<Page>\n\t\t<JournalSelectorDialog open={!selectedJournal} />\n\t\t<Grid container spacing={3}>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<Typography variant=\"h4\">\n\t\t\t\t\t\t<AddItemDialog open={addItemDialog}\n\t\t\t\t\t\t\t\t\t   onClose={() => closeAddItemDialog()}/>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tonClick={() => openAddItemDialog()}>\n\t\t\t\t\t\t\t<AddOutlined/>\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\tItems\n\t\t\t\t\t</Typography>\n\t\t\t\t</Grid>\n\t\t\t\t{items.map((item, index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Grid item xs={12} md={6} key={index}>\n\t\t\t\t\t\t\t<Card className={'fullHeight'}>\n\t\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"h5\">\n\t\t\t\t\t\t\t\t\t\t{item.name}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t\t__html: item.notes?.substring(\n\t\t\t\t\t\t\t\t\t\t\t\t0, 300),\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t<div className={'flexGrow'}/>\n\t\t\t\t\t\t\t\t<CardActions>\n\t\t\t\t\t\t\t\t\t<Confirm\n\t\t\t\t\t\t\t\t\t\tmessage={`Are you sure you want to delete ${item.name}?`}\n\t\t\t\t\t\t\t\t\t\tonConfirm={() => destroyItem(\n\t\t\t\t\t\t\t\t\t\t\titem.id)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<EditItemDialog\n\t\t\t\t\t\t\t\t\t\tonClose={() => fetchItems(\n\t\t\t\t\t\t\t\t\t\t\tselectedJournal)}\n\t\t\t\t\t\t\t\t\t\titemId={item.id}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</CardActions>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t</Grid>\n\t\t</Page>\n\t)\n}\n","import React from 'react'\nimport {\n\tExplore,\n\tNotes,\n\tPerson,\n\tShoppingCart,\n\tTimer,\n\tToday,\n} from '@material-ui/icons'\nimport Characters from './Views/Characters'\nimport Quests from './Views/Quests'\nimport Places from './Views/Places'\nimport Events from './Views/Events'\nimport Journals from './Views/Journals'\nimport Items from './Views/Items'\n\nconst routes = [\n\t{\n\t\tpath: '/quests',\n\t\ttext: 'Quests',\n\t\texact: true,\n\t\ticon: <Timer/>,\n\t\tcomponent: <Quests/>,\n\t\tinNav: true,\n\t},\n\t{\n\t\tpath: '/characters',\n\t\ttext: 'Characters',\n\t\texact: true,\n\t\ticon: <Person/>,\n\t\tcomponent: <Characters/>,\n\t\tinNav: true,\n\t},\n\t{\n\t\tpath: '/places',\n\t\ttext: 'Places',\n\t\texact: true,\n\t\ticon: <Explore/>,\n\t\tcomponent: <Places/>,\n\t\tinNav: true,\n\t},\n\t{\n\t\tpath: '/events',\n\t\ttext: 'Events',\n\t\texact: true,\n\t\ticon: <Today/>,\n\t\tcomponent: <Events/>,\n\t\tinNav: true,\n\t},\n\t{\n\t\tpath: '/items',\n\t\ttext: 'Items',\n\t\texact: true,\n\t\ticon: <ShoppingCart/>,\n\t\tcomponent: <Items/>,\n\t\tinNav: true,\n\t\tdivided: true,\n\t},\n\t{\n\t\tpath: '/journals',\n\t\ttext: 'Manage Journals',\n\t\texact: true,\n\t\ticon: <Notes/>,\n\t\tcomponent: <Journals/>,\n\t\tinNav: true,\n\t}\n]\n\nexport default routes\n","import React from 'react'\nimport {Route, Switch} from 'react-router-dom'\nimport routes from './definedRoutes'\n\nexport default function Routes() {\n\n\treturn (\n\t\t<Switch>\n\t\t\t{\n\t\t\t\troutes.map(route => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Route key={route.text} path={route.path}\n\t\t\t\t\t\t\t   exact={route.exact}>\n\t\t\t\t\t\t\t{route.component}\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t}\n\t\t</Switch>\n\t)\n}\n","import {\n\tAppBar,\n\tIconButton,\n\tmakeStyles,\n\tToolbar,\n\tTypography,\n} from '@material-ui/core'\nimport {MenuTwoTone} from '@material-ui/icons'\nimport React from 'react'\nimport JournalSelector from './JournalSelector'\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tflexGrow: 1,\n\t},\n\tgrow: {\n\t\tflexGrow: 1,\n\t},\n\tmenuButton: {\n\t\tmarginLeft: -12,\n\t\tmarginRight: 20,\n\t},\n\tselectRoot: {\n\t\tcolor: 'white',\n\t},\n}))\n\nexport default function TopBar(props) {\n\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<AppBar position=\"static\">\n\t\t\t<Toolbar>\n\t\t\t\t<IconButton color=\"inherit\" className={classes.menuButton}\n\t\t\t\t\t\t\tedge=\"start\" onClick={() => {props.onMenuClick()}}>\n\t\t\t\t\t<MenuTwoTone/>\n\t\t\t\t</IconButton>\n\t\t\t\t<Typography className={classes.grow}>\n\t\t\t\t\tRP Notes\n\t\t\t\t</Typography>\n\t\t\t\t<JournalSelector/>\n\t\t\t</Toolbar>\n\t\t</AppBar>\n\t)\n}\n","import React from 'react'\nimport {\n\tDivider,\n\tDrawer,\n\tList,\n\tListItem,\n\tListItemIcon,\n\tListItemText,\n\tmakeStyles,\n} from '@material-ui/core'\nimport {Link, useLocation} from 'react-router-dom'\nimport routes from './../definedRoutes'\nimport {Casino} from '@material-ui/icons'\n\nconst useStyles = makeStyles({\n\tlist: {\n\t\tmaxWidth: '100%',\n\t\twidth: 350,\n\t},\n\tfullList: {\n\t\twidth: '100%',\n\t},\n\tflex: {\n\t\tdisplay: 'flex',\n\t},\n})\n\nexport default function NavDrawer(props) {\n\n\tconst classes = useStyles()\n\tconst location = useLocation()\n\n\treturn (\n\t\t<Drawer\n\t\t\tvariant=\"temporary\"\n\t\t\topen={props.open}\n\t\t\tanchor={'left'}\n\t\t\tonClose={props.onClose}\n\t\t>\n\t\t\t<List component=\"nav\" className={classes.list}>\n\t\t\t\t{\n\t\t\t\t\troutes.map((route, index) => {\n\n\t\t\t\t\t\tif (route.inNav) {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\t\t\tto={route.path}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.fullList}\n\t\t\t\t\t\t\t\t\t\tselected={route.path ===\n\t\t\t\t\t\t\t\t\t\tlocation.pathname}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t\t{route.icon ?? <Casino/>}\n\t\t\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={route.text}/>\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\troute.divided ? <Divider/> : ''\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn <div></div>\n\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t</List>\n\t\t</Drawer>\n\t)\n}\n","import React from 'react'\nimport JournalListProvider from './Contexts/JournalListProvider'\nimport SelectedJournalProvider from './Contexts/SelectedJournalProvider'\n\nexport default function State(props){\n\t//collect all global app providers\n\treturn (\n\t\t<JournalListProvider>\n\t\t\t<SelectedJournalProvider>\n\t\t\t\t{props.children}\n\t\t\t</SelectedJournalProvider>\n\t\t</JournalListProvider>\n\t)\n\n}\n","import React, {useState} from 'react'\nimport Routes from './Routes'\nimport {BrowserRouter} from 'react-router-dom'\nimport TopBar from './Components/TopBar'\nimport NavDrawer from './Components/NavDrawer'\nimport {\n\tContainer,\n\tcreateTheme,\n\tGrid,\n\tMuiThemeProvider,\n\tPaper,\n\tuseMediaQuery,\n} from '@material-ui/core'\nimport './App.css'\nimport 'react-quill/dist/quill.snow.css'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport State from './State'\n\nfunction App() {\n\n\tconst prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)')\n\n\tconst theme = React.useMemo(\n\t\t() =>\n\t\t\tcreateTheme({\n\t\t\t\tpalette: {\n\t\t\t\t\ttype: prefersDarkMode ? 'dark' : 'light',\n\t\t\t\t},\n\t\t\t}),\n\t\t[prefersDarkMode],\n\t)\n\n\tconst [nav, toggleNav] = useState(false)\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<MuiThemeProvider theme={theme}>\n\t\t\t\t<CssBaseline/>\n\t\t\t\t<State>\n\t\t\t\t\t<BrowserRouter basename={process.env.PUBLIC_URL}>\n\t\t\t\t\t\t<NavDrawer open={nav}\n\t\t\t\t\t\t\t\t   onClose={() => {toggleNav(false)}}/>\n\t\t\t\t\t\t<TopBar onMenuClick={() => {toggleNav(true)}}/>\n\t\t\t\t\t\t<Container>\n\t\t\t\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Paper>\n\t\t\t\t\t\t\t\t\t\t<Routes/>\n\t\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</BrowserRouter>\n\t\t\t\t</State>\n\t\t\t</MuiThemeProvider>\n\t\t</div>\n\t)\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n\tif (onPerfEntry && onPerfEntry instanceof Function) {\n\t\timport('web-vitals').then(\n\t\t\t({getCLS, getFID, getFCP, getLCP, getTTFB}) => {\n\t\t\t\tgetCLS(onPerfEntry)\n\t\t\t\tgetFID(onPerfEntry)\n\t\t\t\tgetFCP(onPerfEntry)\n\t\t\t\tgetLCP(onPerfEntry)\n\t\t\t\tgetTTFB(onPerfEntry)\n\t\t\t})\n\t}\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n\t<App/>,\n\tdocument.getElementById('root'),\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}