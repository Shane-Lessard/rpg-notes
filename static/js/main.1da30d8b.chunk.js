(this["webpackJsonpnotes-app"]=this["webpackJsonpnotes-app"]||[]).push([[0],{260:function(e,t,n){},262:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(13),s=n.n(c),i=n(9),o=n(17),u=n(320),j=n(321),l=n(322),h=n(323),b=n(324),p=n(325),d=n(308),f=n(3),O=n.n(f),x=n(6),v=n(337),m=n(295),w=n(1);function k(e){return Object(w.jsx)(v.a,{p:5,pt:5,mt:3,children:Object(w.jsx)(m.a,{container:!0,children:e.children})})}var y=a.a.createContext({selectedJournal:0,setSelectedJournal:function(){}});function C(e){var t=Object(r.useState)(0),n=Object(i.a)(t,2),a=n[0],c=n[1];return Object(w.jsx)(y.Provider,{value:{selectedJournal:a,setSelectedJournal:c},children:e.children})}var g=n(23),N=n(24),S=n(31),I=n(30),q=new(n(132).a)("rpg-notes");q.version(1).stores({journals:"++id,&name",characters:"++id,name,npc,journal_id",places:"++id,name,journal_id",quests:"++id,name,complete,journal_id",items:"++id,name,journal_id",events:"++id,name,journal_id"}),q.open().then((function(){console.log("database opened")})).catch((function(e){console.error("Open failed: "+e.stack)}));var J=function(){function e(){Object(g.a)(this,e),this._store=q}return Object(N.a)(e,[{key:"store",get:function(){return this._store},set:function(e){this._store=e}}]),e}(),_=function(e){Object(S.a)(n,e);var t=Object(I.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"index",value:function(){var e=Object(x.a)(O.a.mark((function e(){var t,n=this,r=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=r.length>0&&void 0!==r[0]?r[0]:null)||isNaN(t)){e.next=3;break}return e.abrupt("return",this.store.transaction("rw",this.store.characters,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.store.characters.where("journal_id").equals(t).sortBy("npc"));case 1:case"end":return e.stop()}}),e)})))));case 3:return e.abrupt("return",this.store.transaction("rw",this.store.characters,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.store.characters.toArray());case 1:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"show",value:function(){var e=Object(x.a)(O.a.mark((function e(t){var n=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.store.transaction("rw",this.store.characters,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.store.characters.where("id").equals(t).first());case 1:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=Object(x.a)(O.a.mark((function e(t){var n=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.store.transaction("rw",this.store.characters,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.store.characters.add(t));case 1:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(x.a)(O.a.mark((function e(t,n){var r=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.store.transaction("rw",this.store.characters,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.store.characters.update(t,n));case 1:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=Object(x.a)(O.a.mark((function e(t){var n=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.store.transaction("rw",this.store.characters,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.store.characters.where("id").equals(t).delete());case 1:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(J),A=n(49),P=n(304),L=n(315),E=n(316),F=n(317),T=n(314),H=n(296),G=n(297),M=n(298),B=n(340),R=n(301),D=n(303),Q=n(339),W=n(305),Y=n(306),z=new _;function K(e){var t=Object(r.useState)(""),n=Object(i.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(!1),o=Object(i.a)(s,2),u=o[0],j=o[1],l=Object(r.useContext)(y).selectedJournal;function h(){c(""),j(!1)}return Object(w.jsxs)(H.a,{open:e.open,onClose:e.onClose,children:[Object(w.jsx)(G.a,{children:"Add a Character"}),Object(w.jsxs)(M.a,{children:[Object(w.jsx)(B.a,{label:"Character Name",value:a,onChange:function(e){c(e.target.value)}}),Object(w.jsx)(R.a,{children:Object(w.jsx)(D.a,{control:Object(w.jsx)(Q.a,{label:"NPC",checked:u,onChange:function(e){j(!!e.target.checked)}}),label:"NPC"})})]}),Object(w.jsxs)(W.a,{children:[Object(w.jsx)(Y.a,{variant:"contained",onClick:function(){z.create({name:a,npc:!!u,journal_id:l}),h(),e.onClose()},children:"Save"}),Object(w.jsx)(Y.a,{variant:"contained",onClick:function(){c(""),h(),e.onClose()},children:"Cancel"})]})]})}var U=n(307),V=n(309),X=n(133),Z=n.n(X),$=Object(U.a)((function(e){return{root:{width:"100%"}}}));function ee(e){var t=$();return Object(w.jsx)(Z.a,{className:t.root,value:e.value,onChange:e.onChange,theme:"snow",modules:{toolbar:!1}})}var te=new _,ne=Object(U.a)((function(e){return{dialog:{width:"800px",maxWidth:"100%"},textField:{width:"100%"}}}));function re(e){var t=ne(),n=Object(r.useState)(""),a=Object(i.a)(n,2),c=a[0],s=a[1],o=Object(r.useState)(""),u=Object(i.a)(o,2),j=u[0],l=u[1],h=Object(r.useState)(!1),b=Object(i.a)(h,2),p=b[0],f=b[1],v=Object(r.useState)(!1),k=Object(i.a)(v,2),y=k[0],C=k[1];function g(){te.update(e.characterId,{name:j,notes:c,npc:y}),e.onClose()}return Object(r.useEffect)((function(){Object(x.a)(O.a.mark((function t(){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,te.show(e.characterId);case 2:n=t.sent,s(n.notes),l(n.name),C(n.npc);case 6:case"end":return t.stop()}}),t)})))()}),[e.characterId]),Object(w.jsxs)("div",{children:[Object(w.jsx)(P.a,{onClick:function(){return f(!0)},children:Object(w.jsx)(d.a,{color:"primary"})}),Object(w.jsx)(H.a,{open:p,onClose:function(){f(!1),g()},children:Object(w.jsxs)(M.a,{className:t.dialog,children:[Object(w.jsxs)(m.a,{container:!0,spacing:1,children:[Object(w.jsx)(m.a,{item:!0,xs:3,md:1,children:Object(w.jsx)(P.a,{onClick:g,children:Object(w.jsx)(V.a,{})})}),Object(w.jsx)(m.a,{item:!0,xs:9,md:8,children:Object(w.jsx)(B.a,{className:t.textField,value:j,onChange:function(e){return l(e.target.value)}})}),Object(w.jsx)(m.a,{item:!0,xs:12,md:3,children:Object(w.jsx)(D.a,{control:Object(w.jsx)(Q.a,{label:"NPC",checked:y,onChange:function(e){C(!!e.target.checked)}}),label:"NPC"})})]}),Object(w.jsx)(ee,{value:c,onChange:s})]})})]})}var ae=n(311),ce=n(310);function se(e){var t,n,a,c=Object(r.useState)(!1),s=Object(i.a)(c,2),o=s[0],u=s[1];function j(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t&&e.onConfirm(),u(!1)}return Object(w.jsxs)("div",{children:["button"===e.type?Object(w.jsx)(Y.a,{onClick:function(){return u(!0)},children:null!==(t=e.activator)&&void 0!==t?t:"Delete"}):Object(w.jsx)(P.a,{onClick:function(){return u(!0)},children:null!==(n=e.activator)&&void 0!==n?n:Object(w.jsx)(ce.a,{color:"error"})}),Object(w.jsxs)(H.a,{open:o,onClose:function(){return j(!1)},children:[Object(w.jsx)(M.a,{children:Object(w.jsx)(ae.a,{children:Object(w.jsx)(A.a,{children:null!==(a=e.message)&&void 0!==a?a:"Are you sure?"})})}),Object(w.jsxs)(W.a,{children:[Object(w.jsx)(Y.a,{variant:"contained",onClick:function(){return j(!0)},children:"Confirm"}),Object(w.jsx)(Y.a,{variant:"contained",onClick:function(){return j(!1)},children:"Cancel"})]})]})]})}var ie=n(338),oe=n(312),ue=n(313),je=n(342),le=function(e){Object(S.a)(n,e);var t=Object(I.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"index",value:function(){var e=Object(x.a)(O.a.mark((function e(){var t=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.store.transaction("rw",this.store.journals,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.store.journals.toArray());case 1:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"show",value:function(){var e=Object(x.a)(O.a.mark((function e(t){var n=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.store.transaction("rw",this.store.journals,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.store.journals.where("id").equals(t).first());case 1:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=Object(x.a)(O.a.mark((function e(t){var n=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.store.transaction("rw",this.store.journals,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.store.journals.add(t));case 1:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(x.a)(O.a.mark((function e(t,n){var r=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.store.transaction("rw",this.store.journals,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.store.journals.update(t,n));case 1:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=Object(x.a)(O.a.mark((function e(t){var n=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.store.transaction("rw",this.store.journals,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.store.journals.where("id").equals(t).delete());case 1:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(J),he=new le;function be(e){var t=Object(r.useState)(""),n=Object(i.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(""),o=Object(i.a)(s,2),u=o[0],j=o[1];function l(){return(l=Object(x.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,he.create({name:a});case 4:c(""),e.onClose(!0),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),j("Check that the journal name is unique");case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))).apply(this,arguments)}return Object(w.jsx)(H.a,{open:e.open,onClose:function(){c(""),e.onClose()},children:Object(w.jsx)(M.a,{children:Object(w.jsx)("form",{onSubmit:function(e){return l.apply(this,arguments)},children:Object(w.jsxs)(m.a,{container:!0,spacing:4,p:5,m:5,alignItems:"center",children:[Object(w.jsxs)(m.a,{item:!0,xs:12,sm:8,children:[Object(w.jsx)(je.a,{id:"journal-name-input-label",children:"Create Journal"}),Object(w.jsx)(B.a,{value:a,error:!!u,helperText:u,onChange:function(e){c(e.target.value),j("")}})]}),Object(w.jsx)(m.a,{item:!0,xs:12,sm:4,children:Object(w.jsx)(Y.a,{color:"primary",variant:"contained",type:"submit",children:"Save"})})]})})})})}var pe=a.a.createContext({journalList:[],fetchJournalList:function(){}});function de(e){var t=new le,n=Object(r.useState)([]),a=Object(i.a)(n,2),c=a[0],s=a[1];function o(){return u.apply(this,arguments)}function u(){return(u=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,t.index();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){o()}),[c]),Object(w.jsx)(pe.Provider,{value:{journalList:c,fetchJournalList:o},children:e.children})}var fe=Object(U.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},selectRoot:{color:"white",flexGrow:1}}}));function Oe(){var e=fe(),t=Object(r.useContext)(y),n=t.selectedJournal,a=t.setSelectedJournal,c=Object(r.useContext)(pe),s=c.journalList,o=c.fetchJournalList;function u(){return j.apply(this,arguments)}function j(){return(j=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){o()}),[]);var l=Object(r.useState)(!1),h=Object(i.a)(l,2),b=h[0],p=h[1];return Object(w.jsxs)("div",{children:[Object(w.jsx)(R.a,{className:e.selectRoot,children:Object(w.jsxs)(ie.a,{className:e.selectRoot,value:n,onChange:function(e){a(e.target.value)},children:[Object(w.jsx)(oe.a,{disabled:!0,value:0,children:"Select a Journal"}),s.map((function(e,t){return Object(w.jsx)(oe.a,{value:e.id,children:e.name},t)}))]})}),Object(w.jsx)(P.a,{className:e.grow,color:"inherit",onClick:function(){p(!0)},children:Object(w.jsx)(ue.a,{})}),Object(w.jsx)(be,{open:b,onClose:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];p(!1),e&&u()}})]})}var xe=new _;function ve(){var e=Object(r.useContext)(y).selectedJournal,t=Object(r.useState)([]),n=Object(i.a)(t,2),a=n[0],c=n[1];function s(e){return o.apply(this,arguments)}function o(){return(o=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,xe.index(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){s(e)}),[e]);var u=Object(r.useState)(!1),j=Object(i.a)(u,2),l=j[0],h=j[1];function b(){return(b=Object(x.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xe.destroy(n);case 2:s(e);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(w.jsx)(k,{children:e?Object(w.jsxs)(m.a,{container:!0,spacing:3,children:[Object(w.jsx)(m.a,{item:!0,xs:12,children:Object(w.jsxs)(A.a,{variant:"h4",children:[Object(w.jsx)(K,{open:l,onClose:function(){return s(e),void h(!1)}}),Object(w.jsx)(P.a,{onClick:function(){h(!0)},children:Object(w.jsx)(T.a,{})}),"Characters"]})}),a.map((function(t,n){var r;return Object(w.jsx)(m.a,{item:!0,xs:12,md:6,children:Object(w.jsxs)(L.a,{className:"fullHeight",children:[Object(w.jsxs)(E.a,{children:[Object(w.jsx)(A.a,{variant:"h5",children:t.name}),Object(w.jsx)(A.a,{variant:"body2",children:t.npc?"NPC":"PC"}),Object(w.jsx)(A.a,{variant:"body2",dangerouslySetInnerHTML:{__html:null===(r=t.notes)||void 0===r?void 0:r.substring(0,300)}})]}),Object(w.jsx)("div",{className:"flexGrow"}),Object(w.jsxs)(F.a,{children:[Object(w.jsx)(se,{message:"Are you sure you want to delete ".concat(t.name,"?"),onConfirm:function(){return function(e){return b.apply(this,arguments)}(t.id)}}),Object(w.jsx)(re,{onClose:function(){return s(e)},characterId:t.id})]})]})},n)}))]}):Object(w.jsxs)("div",{style:{margin:"auto"},children:["Please Select a Journal",Object(w.jsx)(Oe,{})]})})}var me=function(e){Object(S.a)(n,e);var t=Object(I.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"index",value:function(){var e=Object(x.a)(O.a.mark((function e(){var t,n=this,r=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=r.length>0&&void 0!==r[0]?r[0]:null)||isNaN(t)){e.next=3;break}return e.abrupt("return",this.store.transaction("rw",this.store.quests,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.store.quests.where("journal_id").equals(t).sortBy("complete"));case 1:case"end":return e.stop()}}),e)})))));case 3:return e.abrupt("return",this.store.transaction("rw",this.store.quests,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.store.quests.toArray());case 1:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"show",value:function(){var e=Object(x.a)(O.a.mark((function e(t){var n=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.store.transaction("rw",this.store.quests,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.store.quests.where("id").equals(t).first());case 1:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=Object(x.a)(O.a.mark((function e(t){var n=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.store.transaction("rw",this.store.quests,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.store.quests.add(t));case 1:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(x.a)(O.a.mark((function e(t,n){var r=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.store.transaction("rw",this.store.quests,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.store.quests.update(t,n));case 1:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=Object(x.a)(O.a.mark((function e(t){var n=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.store.transaction("rw",this.store.quests,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.store.quests.where("id").equals(t).delete());case 1:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(J),we=n(318),ke=n(319),ye=new me;function Ce(e){var t=Object(r.useState)(""),n=Object(i.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(!1),o=Object(i.a)(s,2),u=o[0],j=o[1],l=Object(r.useContext)(y).selectedJournal;function h(){c(""),j(!1)}return Object(w.jsxs)(H.a,{open:e.open,onClose:e.onClose,children:[Object(w.jsx)(G.a,{children:"Add a Quest"}),Object(w.jsxs)(M.a,{children:[Object(w.jsx)(B.a,{label:"Quest Name",value:a,onChange:function(e){c(e.target.value)}}),Object(w.jsx)(R.a,{children:Object(w.jsx)(D.a,{control:Object(w.jsx)(Q.a,{label:"Complete",checked:u,onChange:function(e){j(!!e.target.checked)}}),label:"Complete"})})]}),Object(w.jsxs)(W.a,{children:[Object(w.jsx)(Y.a,{variant:"contained",onClick:function(){ye.create({name:a,complete:!!u,journal_id:l}),h(),e.onClose()},children:"Save"}),Object(w.jsx)(Y.a,{variant:"contained",onClick:function(){c(""),h(),e.onClose()},children:"Cancel"})]})]})}var ge=new me,Ne=Object(U.a)((function(e){return{dialog:{width:"800px",maxWidth:"100%"},textField:{width:"100%"}}}));function Se(e){var t=Ne(),n=Object(r.useState)(""),a=Object(i.a)(n,2),c=a[0],s=a[1],o=Object(r.useState)(""),u=Object(i.a)(o,2),j=u[0],l=u[1],h=Object(r.useState)(!1),b=Object(i.a)(h,2),p=b[0],f=b[1],v=Object(r.useState)(!1),k=Object(i.a)(v,2),y=k[0],C=k[1];function g(){ge.update(e.questId,{name:j,notes:c,complete:y}),e.onClose()}return Object(r.useEffect)((function(){Object(x.a)(O.a.mark((function t(){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ge.show(e.questId);case 2:n=t.sent,s(n.notes),l(n.name),C(n.complete);case 6:case"end":return t.stop()}}),t)})))()}),[e.questId]),Object(w.jsxs)("div",{children:[Object(w.jsx)(P.a,{onClick:function(){return f(!0)},children:Object(w.jsx)(d.a,{color:"primary"})}),Object(w.jsx)(H.a,{open:p,onClose:function(){f(!1),g()},children:Object(w.jsxs)(M.a,{className:t.dialog,children:[Object(w.jsxs)(m.a,{container:!0,spacing:1,children:[Object(w.jsx)(m.a,{item:!0,xs:3,md:1,children:Object(w.jsx)(P.a,{onClick:g,children:Object(w.jsx)(V.a,{})})}),Object(w.jsx)(m.a,{item:!0,xs:9,md:8,children:Object(w.jsx)(B.a,{className:t.textField,value:j,onChange:function(e){return l(e.target.value)}})}),Object(w.jsx)(m.a,{item:!0,xs:12,md:3,children:Object(w.jsx)(D.a,{control:Object(w.jsx)(Q.a,{label:"Complete",checked:y,onChange:function(e){C(!!e.target.checked)}}),label:"Complete"})})]}),Object(w.jsx)(ee,{value:c,onChange:s})]})})]})}var Ie=new me;function qe(){var e=Object(r.useContext)(y).selectedJournal,t=Object(r.useState)([]),n=Object(i.a)(t,2),a=n[0],c=n[1];function s(e){return o.apply(this,arguments)}function o(){return(o=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,Ie.index(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){s(e)}),[e]);var u=Object(r.useState)(!1),j=Object(i.a)(u,2),l=j[0],h=j[1];function b(){return(b=Object(x.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ie.destroy(n);case 2:s(e);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(w.jsx)(k,{children:e?Object(w.jsxs)(m.a,{container:!0,spacing:3,children:[Object(w.jsx)(m.a,{item:!0,xs:12,children:Object(w.jsxs)(A.a,{variant:"h4",children:[Object(w.jsx)(Ce,{open:l,onClose:function(){return s(e),void h(!1)}}),Object(w.jsx)(P.a,{onClick:function(){h(!0)},children:Object(w.jsx)(T.a,{})}),"Quests"]})}),a.map((function(t,n){var r;return Object(w.jsx)(m.a,{item:!0,xs:12,md:6,children:Object(w.jsxs)(L.a,{className:"fullHeight",children:[Object(w.jsxs)(E.a,{children:[Object(w.jsx)(A.a,{variant:"h5",className:"wrapIcon",children:Object(w.jsxs)(m.a,{container:!0,direction:"row",alignItems:"center",children:[t.complete?Object(w.jsx)(we.a,{color:"primary"}):Object(w.jsx)(ke.a,{color:"secondary"}),t.name]})}),Object(w.jsx)(A.a,{variant:"body2",dangerouslySetInnerHTML:{__html:null===(r=t.notes)||void 0===r?void 0:r.substring(0,300)}})]}),Object(w.jsx)("div",{className:"flexGrow"}),Object(w.jsxs)(F.a,{children:[Object(w.jsx)(se,{message:"Are you sure you want to delete ".concat(t.name,"?"),onConfirm:function(){return function(e){return b.apply(this,arguments)}(t.id)}}),Object(w.jsx)(Se,{onClose:function(){return s(e)},questId:t.id})]})]})},n)}))]}):Object(w.jsxs)("div",{style:{margin:"auto"},children:["Please Select a Journal",Object(w.jsx)(Oe,{})]})})}var Je=function(e){Object(S.a)(n,e);var t=Object(I.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"index",value:function(){var e=Object(x.a)(O.a.mark((function e(){var t,n=this,r=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=r.length>0&&void 0!==r[0]?r[0]:null)||isNaN(t)){e.next=3;break}return e.abrupt("return",this.store.transaction("rw",this.store.places,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.store.places.where("journal_id").equals(t).toArray());case 1:case"end":return e.stop()}}),e)})))));case 3:return e.abrupt("return",this.store.transaction("rw",this.store.places,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.store.places.toArray());case 1:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"show",value:function(){var e=Object(x.a)(O.a.mark((function e(t){var n=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.store.transaction("rw",this.store.places,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.store.places.where("id").equals(t).first());case 1:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=Object(x.a)(O.a.mark((function e(t){var n=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.store.transaction("rw",this.store.places,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.store.places.add(t));case 1:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(x.a)(O.a.mark((function e(t,n){var r=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.store.transaction("rw",this.store.places,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.store.places.update(t,n));case 1:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=Object(x.a)(O.a.mark((function e(t){var n=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.store.transaction("rw",this.store.places,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.store.places.where("id").equals(t).delete());case 1:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(J),_e=new Je;function Ae(e){var t=Object(r.useState)(""),n=Object(i.a)(t,2),a=n[0],c=n[1],s=Object(r.useContext)(y).selectedJournal;function o(){c("")}return Object(w.jsxs)(H.a,{open:e.open,onClose:e.onClose,children:[Object(w.jsx)(G.a,{children:"Add a Place"}),Object(w.jsx)(M.a,{children:Object(w.jsx)(B.a,{label:"Place Name",value:a,onChange:function(e){c(e.target.value)}})}),Object(w.jsxs)(W.a,{children:[Object(w.jsx)(Y.a,{variant:"contained",onClick:function(){_e.create({name:a,journal_id:s}),o(),e.onClose()},children:"Save"}),Object(w.jsx)(Y.a,{variant:"contained",onClick:function(){c(""),o(),e.onClose()},children:"Cancel"})]})]})}var Pe=new Je,Le=Object(U.a)((function(e){return{dialog:{width:"800px",maxWidth:"100%"},textField:{width:"100%"}}}));function Ee(e){var t=Le(),n=Object(r.useState)(""),a=Object(i.a)(n,2),c=a[0],s=a[1],o=Object(r.useState)(""),u=Object(i.a)(o,2),j=u[0],l=u[1],h=Object(r.useState)(!1),b=Object(i.a)(h,2),p=b[0],f=b[1];function v(){Pe.update(e.placeId,{name:j,notes:c}),e.onClose()}return Object(r.useEffect)((function(){Object(x.a)(O.a.mark((function t(){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Pe.show(e.placeId);case 2:n=t.sent,s(n.notes),l(n.name);case 5:case"end":return t.stop()}}),t)})))()}),[e.placeId]),Object(w.jsxs)("div",{children:[Object(w.jsx)(P.a,{onClick:function(){return f(!0)},children:Object(w.jsx)(d.a,{color:"primary"})}),Object(w.jsx)(H.a,{open:p,onClose:function(){f(!1),v()},children:Object(w.jsxs)(M.a,{className:t.dialog,children:[Object(w.jsxs)(m.a,{container:!0,spacing:1,children:[Object(w.jsx)(m.a,{item:!0,xs:3,md:1,children:Object(w.jsx)(P.a,{onClick:v,children:Object(w.jsx)(V.a,{})})}),Object(w.jsx)(m.a,{item:!0,xs:9,md:8,children:Object(w.jsx)(B.a,{className:t.textField,value:j,onChange:function(e){return l(e.target.value)}})})]}),Object(w.jsx)(ee,{value:c,onChange:s})]})})]})}var Fe=new Je;function Te(){var e=Object(r.useContext)(y).selectedJournal,t=Object(r.useState)([]),n=Object(i.a)(t,2),a=n[0],c=n[1];function s(e){return o.apply(this,arguments)}function o(){return(o=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,Fe.index(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){s(e)}),[e]);var u=Object(r.useState)(!1),j=Object(i.a)(u,2),l=j[0],h=j[1];function b(){return(b=Object(x.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fe.destroy(n);case 2:s(e);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(w.jsx)(k,{children:e?Object(w.jsxs)(m.a,{container:!0,spacing:3,children:[Object(w.jsx)(m.a,{item:!0,xs:12,children:Object(w.jsxs)(A.a,{variant:"h4",children:[Object(w.jsx)(Ae,{open:l,onClose:function(){return s(e),void h(!1)}}),Object(w.jsx)(P.a,{onClick:function(){h(!0)},children:Object(w.jsx)(T.a,{})}),"Places"]})}),a.map((function(t,n){var r;return Object(w.jsx)(m.a,{item:!0,xs:12,md:6,children:Object(w.jsxs)(L.a,{className:"fullHeight",children:[Object(w.jsxs)(E.a,{children:[Object(w.jsx)(A.a,{variant:"h5",className:"wrapIcon"}),Object(w.jsx)(A.a,{variant:"body2",dangerouslySetInnerHTML:{__html:null===(r=t.notes)||void 0===r?void 0:r.substring(0,300)}})]}),Object(w.jsx)("div",{className:"flexGrow"}),Object(w.jsxs)(F.a,{children:[Object(w.jsx)(se,{message:"Are you sure you want to delete ".concat(t.name,"?"),onConfirm:function(){return function(e){return b.apply(this,arguments)}(t.id)}}),Object(w.jsx)(Ee,{onClose:function(){return s(e)},placeId:t.id})]})]})},n)}))]}):Object(w.jsxs)("div",{style:{margin:"auto"},children:["Please Select a Journal",Object(w.jsx)(Oe,{})]})})}var He=function(e){Object(S.a)(n,e);var t=Object(I.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"index",value:function(){var e=Object(x.a)(O.a.mark((function e(){var t,n=this,r=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=r.length>0&&void 0!==r[0]?r[0]:null)||isNaN(t)){e.next=3;break}return e.abrupt("return",this.store.transaction("rw",this.store.events,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.store.events.where("journal_id").equals(t).toArray());case 1:case"end":return e.stop()}}),e)})))));case 3:return e.abrupt("return",this.store.transaction("rw",this.store.events,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.store.events.toArray());case 1:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"show",value:function(){var e=Object(x.a)(O.a.mark((function e(t){var n=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.store.transaction("rw",this.store.events,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.store.events.where("id").equals(t).first());case 1:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=Object(x.a)(O.a.mark((function e(t){var n=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.store.transaction("rw",this.store.events,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.store.events.add(t));case 1:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(x.a)(O.a.mark((function e(t,n){var r=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.store.transaction("rw",this.store.events,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.store.events.update(t,n));case 1:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=Object(x.a)(O.a.mark((function e(t){var n=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.store.transaction("rw",this.store.events,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.store.events.where("id").equals(t).delete());case 1:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(J),Ge=new He;function Me(e){var t=Object(r.useState)(""),n=Object(i.a)(t,2),a=n[0],c=n[1],s=Object(r.useContext)(y).selectedJournal;function o(){c("")}return Object(w.jsxs)(H.a,{open:e.open,onClose:e.onClose,children:[Object(w.jsx)(G.a,{children:"Add a Event"}),Object(w.jsx)(M.a,{children:Object(w.jsx)(B.a,{label:"Event Name",value:a,onChange:function(e){c(e.target.value)}})}),Object(w.jsxs)(W.a,{children:[Object(w.jsx)(Y.a,{variant:"contained",onClick:function(){Ge.create({name:a,journal_id:s}),o(),e.onClose()},children:"Save"}),Object(w.jsx)(Y.a,{variant:"contained",onClick:function(){c(""),o(),e.onClose()},children:"Cancel"})]})]})}var Be=new He,Re=Object(U.a)((function(e){return{dialog:{width:"800px",maxWidth:"100%"},textField:{width:"100%"}}}));function De(e){var t=Re(),n=Object(r.useState)(""),a=Object(i.a)(n,2),c=a[0],s=a[1],o=Object(r.useState)(""),u=Object(i.a)(o,2),j=u[0],l=u[1],h=Object(r.useState)(!1),b=Object(i.a)(h,2),p=b[0],f=b[1];function v(){Be.update(e.eventId,{name:j,notes:c}),e.onClose()}return Object(r.useEffect)((function(){Object(x.a)(O.a.mark((function t(){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Be.show(e.eventId);case 2:n=t.sent,s(n.notes),l(n.name);case 5:case"end":return t.stop()}}),t)})))()}),[e.eventId]),Object(w.jsxs)("div",{children:[Object(w.jsx)(P.a,{onClick:function(){return f(!0)},children:Object(w.jsx)(d.a,{color:"primary"})}),Object(w.jsx)(H.a,{open:p,onClose:function(){f(!1),v()},children:Object(w.jsxs)(M.a,{className:t.dialog,children:[Object(w.jsxs)(m.a,{container:!0,spacing:1,children:[Object(w.jsx)(m.a,{item:!0,xs:3,md:1,children:Object(w.jsx)(P.a,{onClick:v,children:Object(w.jsx)(V.a,{})})}),Object(w.jsx)(m.a,{item:!0,xs:9,md:8,children:Object(w.jsx)(B.a,{className:t.textField,value:j,onChange:function(e){return l(e.target.value)}})})]}),Object(w.jsx)(ee,{value:c,onChange:s})]})})]})}var Qe=new He;function We(){var e=Object(r.useContext)(y).selectedJournal,t=Object(r.useState)([]),n=Object(i.a)(t,2),a=n[0],c=n[1];function s(e){return o.apply(this,arguments)}function o(){return(o=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,Qe.index(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){s(e)}),[e]);var u=Object(r.useState)(!1),j=Object(i.a)(u,2),l=j[0],h=j[1];function b(){return(b=Object(x.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Qe.destroy(n);case 2:s(e);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(w.jsx)(k,{children:e?Object(w.jsxs)(m.a,{container:!0,spacing:3,children:[Object(w.jsx)(m.a,{item:!0,xs:12,children:Object(w.jsxs)(A.a,{variant:"h4",children:[Object(w.jsx)(Me,{open:l,onClose:function(){return s(e),void h(!1)}}),Object(w.jsx)(P.a,{onClick:function(){h(!0)},children:Object(w.jsx)(T.a,{})}),"Events"]})}),a.map((function(t,n){var r;return Object(w.jsx)(m.a,{item:!0,xs:12,md:6,children:Object(w.jsxs)(L.a,{className:"fullHeight",children:[Object(w.jsxs)(E.a,{children:[Object(w.jsx)(A.a,{variant:"h5",className:"wrapIcon"}),Object(w.jsx)(A.a,{variant:"body2",dangerouslySetInnerHTML:{__html:null===(r=t.notes)||void 0===r?void 0:r.substring(0,300)}})]}),Object(w.jsx)("div",{className:"flexGrow"}),Object(w.jsxs)(F.a,{children:[Object(w.jsx)(se,{message:"Are you sure you want to delete ".concat(t.name,"?"),onConfirm:function(){return function(e){return b.apply(this,arguments)}(t.id)}}),Object(w.jsx)(De,{onClose:function(){return s(e)},eventId:t.id})]})]})},n)}))]}):Object(w.jsxs)("div",{style:{margin:"auto"},children:["Please Select a Journal",Object(w.jsx)(Oe,{})]})})}var Ye=new le;function ze(){var e=Object(r.useContext)(y).selectedJournal,t=Object(r.useState)([]),n=Object(i.a)(t,2),a=n[0],c=n[1];function s(e){return o.apply(this,arguments)}function o(){return(o=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,Ye.index(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return(u=Object(x.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ye.destroy(n);case 2:s(e);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(r.useEffect)((function(){s(e)}),[e]),Object(w.jsx)(k,{children:Object(w.jsxs)(m.a,{container:!0,spacing:3,children:[Object(w.jsx)(m.a,{item:!0,xs:12,children:Object(w.jsx)(A.a,{variant:"h4",children:"Journals"})}),a.map((function(e,t){return Object(w.jsx)(m.a,{item:!0,xs:12,md:6,children:Object(w.jsxs)(L.a,{className:"fullHeight",children:[Object(w.jsx)(E.a,{children:Object(w.jsx)(A.a,{variant:"h5",children:e.name})}),Object(w.jsx)("div",{className:"flexGrow"}),Object(w.jsx)(F.a,{children:Object(w.jsx)(se,{message:"Are you sure you want to delete ".concat(e.name,"?"),onConfirm:function(){return function(e){return u.apply(this,arguments)}(e.id)}})})]})},t)}))]})})}var Ke=function(e){Object(S.a)(n,e);var t=Object(I.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"index",value:function(){var e=Object(x.a)(O.a.mark((function e(){var t,n=this,r=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=r.length>0&&void 0!==r[0]?r[0]:null)||isNaN(t)){e.next=3;break}return e.abrupt("return",this.store.transaction("rw",this.store.items,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.store.items.where("journal_id").equals(t).toArray());case 1:case"end":return e.stop()}}),e)})))));case 3:return e.abrupt("return",this.store.transaction("rw",this.store.items,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.store.items.toArray());case 1:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"show",value:function(){var e=Object(x.a)(O.a.mark((function e(t){var n=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.store.transaction("rw",this.store.items,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.store.items.where("id").equals(t).first());case 1:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=Object(x.a)(O.a.mark((function e(t){var n=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.store.transaction("rw",this.store.items,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.store.items.add(t));case 1:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(x.a)(O.a.mark((function e(t,n){var r=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.store.transaction("rw",this.store.items,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.store.items.update(t,n));case 1:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=Object(x.a)(O.a.mark((function e(t){var n=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.store.transaction("rw",this.store.items,Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.store.items.where("id").equals(t).delete());case 1:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(J),Ue=new Ke;function Ve(e){var t=Object(r.useState)(""),n=Object(i.a)(t,2),a=n[0],c=n[1],s=Object(r.useContext)(y).selectedJournal;function o(){c("")}return Object(w.jsxs)(H.a,{open:e.open,onClose:e.onClose,children:[Object(w.jsx)(G.a,{children:"Add a Item"}),Object(w.jsx)(M.a,{children:Object(w.jsx)(B.a,{label:"Item Name",value:a,onChange:function(e){c(e.target.value)}})}),Object(w.jsxs)(W.a,{children:[Object(w.jsx)(Y.a,{variant:"contained",onClick:function(){Ue.create({name:a,journal_id:s}),o(),e.onClose()},children:"Save"}),Object(w.jsx)(Y.a,{variant:"contained",onClick:function(){c(""),o(),e.onClose()},children:"Cancel"})]})]})}var Xe=new Ke,Ze=Object(U.a)((function(e){return{dialog:{width:"800px",maxWidth:"100%"},textField:{width:"100%"}}}));function $e(e){var t=Ze(),n=Object(r.useState)(""),a=Object(i.a)(n,2),c=a[0],s=a[1],o=Object(r.useState)(""),u=Object(i.a)(o,2),j=u[0],l=u[1],h=Object(r.useState)(!1),b=Object(i.a)(h,2),p=b[0],f=b[1];function v(){Xe.update(e.itemId,{name:j,notes:c}),e.onClose()}return Object(r.useEffect)((function(){Object(x.a)(O.a.mark((function t(){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Xe.show(e.itemId);case 2:n=t.sent,s(n.notes),l(n.name);case 5:case"end":return t.stop()}}),t)})))()}),[e.itemId]),Object(w.jsxs)("div",{children:[Object(w.jsx)(P.a,{onClick:function(){return f(!0)},children:Object(w.jsx)(d.a,{color:"primary"})}),Object(w.jsx)(H.a,{open:p,onClose:function(){f(!1),v()},children:Object(w.jsxs)(M.a,{className:t.dialog,children:[Object(w.jsxs)(m.a,{container:!0,spacing:1,children:[Object(w.jsx)(m.a,{item:!0,xs:3,md:1,children:Object(w.jsx)(P.a,{onClick:v,children:Object(w.jsx)(V.a,{})})}),Object(w.jsx)(m.a,{item:!0,xs:9,md:8,children:Object(w.jsx)(B.a,{className:t.textField,value:j,onChange:function(e){return l(e.target.value)}})})]}),Object(w.jsx)(ee,{value:c,onChange:s})]})})]})}var et=new Ke;function tt(){var e=Object(r.useContext)(y).selectedJournal,t=Object(r.useState)([]),n=Object(i.a)(t,2),a=n[0],c=n[1];function s(e){return o.apply(this,arguments)}function o(){return(o=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,et.index(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){s(e)}),[e]);var u=Object(r.useState)(!1),j=Object(i.a)(u,2),l=j[0],h=j[1];function b(){return(b=Object(x.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,et.destroy(n);case 2:s(e);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(w.jsx)(k,{children:e?Object(w.jsxs)(m.a,{container:!0,spacing:3,children:[Object(w.jsx)(m.a,{item:!0,xs:12,children:Object(w.jsxs)(A.a,{variant:"h4",children:[Object(w.jsx)(Ve,{open:l,onClose:function(){return s(e),void h(!1)}}),Object(w.jsx)(P.a,{onClick:function(){h(!0)},children:Object(w.jsx)(T.a,{})}),"Items"]})}),a.map((function(t,n){var r;return Object(w.jsx)(m.a,{item:!0,xs:12,md:6,children:Object(w.jsxs)(L.a,{className:"fullHeight",children:[Object(w.jsxs)(E.a,{children:[Object(w.jsx)(A.a,{variant:"h5",className:"wrapIcon"}),Object(w.jsx)(A.a,{variant:"body2",dangerouslySetInnerHTML:{__html:null===(r=t.notes)||void 0===r?void 0:r.substring(0,300)}})]}),Object(w.jsx)("div",{className:"flexGrow"}),Object(w.jsxs)(F.a,{children:[Object(w.jsx)(se,{message:"Are you sure you want to delete ".concat(t.name,"?"),onConfirm:function(){return function(e){return b.apply(this,arguments)}(t.id)}}),Object(w.jsx)($e,{onClose:function(){return s(e)},itemId:t.id})]})]})},n)}))]}):Object(w.jsxs)("div",{style:{margin:"auto"},children:["Please Select a Journal",Object(w.jsx)(Oe,{})]})})}var nt=Object(U.a)({block:{display:"block",marginTop:"10px"}});function rt(){var e=nt();return Object(w.jsx)(k,{children:Object(w.jsx)(m.a,{container:!0,children:Object(w.jsxs)(m.a,{item:!0,children:[Object(w.jsx)(A.a,{className:e.block,variant:"h2",children:"This Dumb App for Dummies"}),Object(w.jsx)(A.a,{className:e.block,variant:"h5",children:"Journals"}),Object(w.jsx)(A.a,{className:e.block,children:"Journals are a collection of notes. You can have multiple journals to keep characters, quests etc separated based on campaigns, chapters, or like - whatever."}),Object(w.jsx)(A.a,{className:e.block,children:"You will need to select a journal before making or viewing any notes."}),Object(w.jsx)(A.a,{className:e.block,variant:"h5",children:"Quests, Items, Characters, Locations, Events"}),Object(w.jsx)(A.a,{className:e.block,children:"These are just categories of notes. There's not much difference. Characters let's you flag between NPCs or PCs, and Quests have a completion flag. Otherwise, they're all the same."}),Object(w.jsx)(A.a,{className:e.block,variant:"h5",children:"Roadmap"}),Object(w.jsx)(A.a,{className:e.block,children:"I might make some tweaks. Like a relationship between characters and items (in-inventory reference to a character). I also might add the ability to link to other notes from within the editor. But this is probably the end."}),Object(w.jsx)(A.a,{className:e.block,variant:"h5",children:"Data"}),Object(w.jsx)(A.a,{className:e.block,children:"This is a completely serverless application. ALL data is stored within your browser. That means that clearing your app data may (will) delete your journal. I MAY create a save/open function to maintain specific journals - but I wouldn't count on it."})]})})})}var at=[{path:"/quests",text:"Quests",exact:!0,icon:Object(w.jsx)(u.a,{}),component:Object(w.jsx)(qe,{}),inNav:!0},{path:"/characters",text:"Characters",exact:!0,icon:Object(w.jsx)(j.a,{}),component:Object(w.jsx)(ve,{}),inNav:!0},{path:"/places",text:"Places",exact:!0,icon:Object(w.jsx)(l.a,{}),component:Object(w.jsx)(Te,{}),inNav:!0},{path:"/events",text:"Events",exact:!0,icon:Object(w.jsx)(h.a,{}),component:Object(w.jsx)(We,{}),inNav:!0},{path:"/items",text:"Items",exact:!0,icon:Object(w.jsx)(b.a,{}),component:Object(w.jsx)(tt,{}),inNav:!0,divided:!0},{path:"/journals",text:"Manage Journals",exact:!0,icon:Object(w.jsx)(p.a,{}),component:Object(w.jsx)(ze,{}),inNav:!0},{path:"/",text:"Instructions",exact:!0,component:Object(w.jsx)(rt,{}),icon:Object(w.jsx)(d.a,{}),inNav:!0},{path:"/rpg-notes",text:"Instructions",exact:!0,component:Object(w.jsx)(rt,{}),icon:Object(w.jsx)(d.a,{}),inNav:!1}];function ct(){return Object(w.jsx)(o.c,{children:at.map((function(e){return Object(w.jsx)(o.a,{path:e.path,exact:e.exact,children:e.component},e.text)}))})}var st=n(61),it=n(326),ot=n(327),ut=n(328),jt=Object(U.a)((function(e){return{root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},selectRoot:{color:"white"}}}));function lt(e){var t=jt();return Object(w.jsx)(it.a,{position:"static",children:Object(w.jsxs)(ot.a,{children:[Object(w.jsx)(P.a,{color:"inherit",className:t.menuButton,edge:"start",onClick:function(){e.onMenuClick()},children:Object(w.jsx)(ut.a,{})}),Object(w.jsx)(A.a,{className:t.grow,children:"RP Notes"}),Object(w.jsx)(Oe,{})]})})}var ht=n(343),bt=n(302),pt=n(266),dt=n(329),ft=n(331),Ot=n(332),xt=n(330),vt=Object(U.a)({list:{maxWidth:"100%",width:350},fullList:{width:"100%"},flex:{display:"flex"}});function mt(e){var t=vt(),n=Object(o.f)();return Object(w.jsx)(ht.a,{variant:"temporary",open:e.open,anchor:"left",onClose:e.onClose,children:Object(w.jsx)(bt.a,{component:"nav",className:t.list,children:at.map((function(e,r){var a;return e.inNav?Object(w.jsxs)("div",{children:[Object(w.jsxs)(pt.a,{component:st.b,button:!0,to:e.path,className:t.fullList,selected:e.path===n.pathname,children:[Object(w.jsx)(dt.a,{children:null!==(a=e.icon)&&void 0!==a?a:Object(w.jsx)(xt.a,{})}),Object(w.jsx)(ft.a,{primary:e.text})]}),e.divided?Object(w.jsx)(Ot.a,{}):""]},r):Object(w.jsx)("div",{})}))})})}var wt=n(333),kt=n(134),yt=n(334),Ct=n(336),gt=n(100),Nt=(n(260),n(261),n(335));var St=function(){var e=Object(wt.a)("(prefers-color-scheme: dark)"),t=a.a.useMemo((function(){return Object(kt.a)({palette:{type:e?"dark":"light"}})}),[e]),n=Object(r.useState)(!1),c=Object(i.a)(n,2),s=c[0],o=c[1];return Object(w.jsx)("div",{className:"App",children:Object(w.jsxs)(yt.a,{theme:t,children:[Object(w.jsx)(Nt.a,{}),Object(w.jsx)(de,{children:Object(w.jsx)(C,{children:Object(w.jsxs)(st.a,{basename:"/rpg-notes",children:[Object(w.jsx)(mt,{open:s,onClose:function(){o(!1)}}),Object(w.jsx)(lt,{onMenuClick:function(){o(!0)}}),Object(w.jsx)(Ct.a,{children:Object(w.jsx)(m.a,{container:!0,spacing:3,children:Object(w.jsx)(m.a,{item:!0,xs:12,children:Object(w.jsx)(gt.a,{children:Object(w.jsx)(ct,{})})})})})]})})})]})})},It=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,345)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};s.a.render(Object(w.jsx)(St,{}),document.getElementById("root")),It()}},[[262,1,2]]]);
//# sourceMappingURL=main.1da30d8b.chunk.js.map