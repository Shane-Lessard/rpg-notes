{"version":3,"sources":["Components/Page.js","Contexts/SelectedJournalProvider.js","Services/Service.js","Services/CharacterService.js","Components/Characters/AddCharacterDialog.js","Components/Editor.js","Components/Characters/EditCharacterDialog.js","Components/Confirm.js","Services/JournalService.js","Components/AddJournalDialog.js","Contexts/JournalListProvider.js","Components/JournalSelector.js","Views/Characters.js","Services/QuestService.js","Components/Quests/AddQuestDialog.js","Components/Quests/EditQuestDialog.js","Views/Quests.js","Services/PlaceService.js","Components/Places/AddPlaceDialog.js","Components/Places/EditPlaceDialog.js","Views/Places.js","Services/EventService.js","Components/Events/AddEventDialog.js","Components/Events/EditEventDialog.js","Views/Events.js","Views/Journals.js","Services/ItemService.js","Components/Items/AddItemDialog.js","Components/Items/EditItemDialog.js","Views/Items.js","Views/Instructions.js","definedRoutes.js","Routes.js","Components/TopBar.js","Components/NavDrawer.js","App.js","reportWebVitals.js","index.js"],"names":["Page","props","Box","p","pt","mt","Grid","container","children","SelectedJournalContext","React","createContext","selectedJournal","setSelectedJournal","SelectedJournalProvider","useState","journal","setJournal","Provider","value","db","Dexie","version","stores","journals","characters","places","quests","items","events","open","then","console","log","catch","e","error","stack","Service","this","_store","store","CharacterService","a","journal_id","isNaN","transaction","where","equals","sortBy","toArray","id","first","character","add","update","delete","characterService","AddCharacterDialog","name","setName","npc","setNpc","useContext","clear","Dialog","onClose","DialogTitle","DialogContent","TextField","label","onChange","target","FormControl","FormControlLabel","control","Checkbox","checked","DialogActions","Button","variant","onClick","create","useStyles","makeStyles","theme","root","width","Editor","classes","className","modules","toolbar","dialog","maxWidth","textField","EditCharacterDialog","content","setContent","setOpen","saveAndClose","characterId","notes","useEffect","show","IconButton","Info","color","spacing","item","xs","md","Save","Confirm","answer","confirmed","onConfirm","type","activator","Delete","DialogContentText","Typography","message","JournalService","journalService","AddJournalDialog","validation","setValidation","preventDefault","onSubmit","m","alignItems","sm","InputLabel","helperText","JournalListContext","journalList","fetchJournalList","JournalListProvider","setJournalList","index","grow","flexGrow","menuButton","marginLeft","marginRight","selectRoot","JournalSelector","fetchJournals","addJournalDialog","setAddJournalDialog","Select","MenuItem","disabled","map","i","Add","resync","Characters","setCharacters","fetchCharacters","journalId","addCharacterDialog","setAddCharacterDialog","destroy","AddOutlined","Card","CardContent","dangerouslySetInnerHTML","__html","substring","CardActions","destroyCharacter","style","margin","QuestService","quest","questService","AddQuestDialog","complete","setComplete","EditQuestDialog","questId","Quests","setQuests","fetchQuests","addQuestDialog","setAddQuestDialog","direction","Done","PriorityHigh","destroyQuest","PlaceService","place","placeService","AddPlaceDialog","EditPlaceDialog","placeId","Places","setPlaces","fetchPlaces","addPlaceDialog","setAddPlaceDialog","destroyPlace","EventService","event","eventService","AddEventDialog","EditEventDialog","eventId","Events","setEvents","fetchEvents","addEventDialog","setAddEventDialog","destroyEvent","Journals","setJournals","destroyJournal","ItemService","itemService","AddItemDialog","EditItemDialog","itemId","Items","setItems","fetchItems","addItemDialog","setAddItemDialog","destroyItem","block","display","marginTop","Instructions","routes","path","text","exact","icon","Timer","component","inNav","Person","Explore","Today","ShoppingCart","divided","Notes","Routes","route","TopBar","AppBar","position","Toolbar","edge","onMenuClick","MenuTwoTone","list","fullList","flex","NavDrawer","location","useLocation","Drawer","anchor","List","ListItem","Link","button","to","selected","pathname","ListItemIcon","Casino","ListItemText","primary","Divider","App","prefersDarkMode","useMediaQuery","useMemo","createTheme","palette","nav","toggleNav","CssBaseline","Container","Paper","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"8SAGe,SAASA,EAAKC,GAE5B,OACC,cAACC,EAAA,EAAD,CAAKC,EAAG,EAAGC,GAAI,EAAGC,GAAI,EAAtB,SACC,cAACC,EAAA,EAAD,CAAMC,WAAS,EAAf,SACEN,EAAMO,aCNJ,IAAMC,EAAyBC,IAAMC,cAAc,CACzDC,gBAAiB,EACjBC,mBAAoB,eAGN,SAASC,EAAwBb,GAAQ,IAAD,EAExBc,mBAAS,GAFe,mBAE/CC,EAF+C,KAEtCC,EAFsC,KAItD,OACC,cAACR,EAAuBS,SAAxB,CACCC,MAAO,CACNP,gBAAiBI,EACjBH,mBAAoBI,GAHtB,SAMEhB,EAAMO,W,oCChBJY,EAAK,I,OAAIC,GAAM,aACrBD,EAAGE,QAAQ,GAAGC,OAAO,CACpBC,SAAU,aACVC,WAAY,2BACZC,OAAQ,uBACRC,OAAQ,gCACRC,MAAO,uBACPC,OAAQ,yBAETT,EAAGU,OAAOC,MAAK,WACdC,QAAQC,IAAI,sBACVC,OAAM,SAASC,GACjBH,QAAQI,MAAM,gBAAkBD,EAAEE,U,IAGdC,E,WACpB,aAAe,oBACdC,KAAKC,OAASpB,E,uCAGf,WACC,OAAOmB,KAAKC,Q,IAGb,SAAUC,GACTF,KAAKC,OAASC,M,KCzBKC,E,kMAEpB,+CAAAC,EAAA,2DAAYC,EAAZ,+BAAyB,OACLC,MAAMD,GAD1B,yCAESL,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMhB,WAAxC,sBACN,sBAAAkB,EAAA,+EACQ,EAAKF,MAAMhB,WAAWsB,MAAM,cAClCC,OAAOJ,GACPK,OAAO,QAHT,6CAHH,gCASQV,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMhB,WAAxC,sBAAoD,sBAAAkB,EAAA,+EACnD,EAAKF,MAAMhB,WAAWyB,WAD6B,6CAT5D,gD,+GAcA,WAAWC,GAAX,oBAAAR,EAAA,+EACQJ,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMhB,WAAxC,sBAAoD,sBAAAkB,EAAA,+EACnD,EAAKF,MAAMhB,WAAWsB,MAAM,MAAMC,OAAOG,GAAIC,SADM,6CAD5D,gD,kHAMA,WAAaC,GAAb,oBAAAV,EAAA,+EACQJ,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMhB,WAAxC,sBAAoD,sBAAAkB,EAAA,+EACnD,EAAKF,MAAMhB,WAAW6B,IAAID,IADyB,6CAD5D,gD,kHAMA,WAAaF,EAAIE,GAAjB,oBAAAV,EAAA,+EACQJ,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMhB,WAAxC,sBAAoD,sBAAAkB,EAAA,+EACnD,EAAKF,MAAMhB,WAAW8B,OAAOJ,EAAIE,IADkB,6CAD5D,gD,qHAMA,WAAcF,GAAd,oBAAAR,EAAA,+EACQJ,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMhB,WAAxC,sBAAoD,sBAAAkB,EAAA,+EACnD,EAAKF,MAAMhB,WAAWsB,MAAM,MAAMC,OAAOG,GAAIK,UADM,6CAD5D,gD,4DAlC6ClB,G,sICaxCmB,EAAmB,IAAIf,EAEd,SAASgB,EAAmBzD,GAAQ,IAAD,EAEzBc,mBAAS,IAFgB,mBAE1C4C,EAF0C,KAEpCC,EAFoC,OAG3B7C,oBAAS,GAHkB,mBAG1C8C,EAH0C,KAGrCC,EAHqC,KAI1ClD,EAAmBmD,qBAAWtD,GAA9BG,gBAkBP,SAASoD,IACRJ,EAAQ,IACRE,GAAO,GAGR,OACC,eAACG,EAAA,EAAD,CAAQnC,KAAM7B,EAAM6B,KAAMoC,QAASjE,EAAMiE,QAAzC,UACC,cAACC,EAAA,EAAD,8BAGA,eAACC,EAAA,EAAD,WACC,cAACC,EAAA,EAAD,CACCC,MAAM,iBACNnD,MAAOwC,EACPY,SAAU,SAACpC,GAAOyB,EAAQzB,EAAEqC,OAAOrD,UAGpC,cAACsD,EAAA,EAAD,UACC,cAACC,EAAA,EAAD,CACCC,QACC,cAACC,EAAA,EAAD,CACCN,MAAM,MACNO,QAAShB,EACTU,SAAU,SAAApC,GACT2B,IAAS3B,EAAEqC,OAAOK,YAIrBP,MAAM,aAIT,eAACQ,EAAA,EAAD,WACC,cAACC,EAAA,EAAD,CAAQC,QAAQ,YAAYC,QA3C/B,WACCxB,EAAiByB,OAAO,CACvBvB,KAAMA,EACNE,MAAOA,EACPjB,WAAYhC,IAEboD,IACA/D,EAAMiE,WAoCJ,kBACA,cAACa,EAAA,EAAD,CAAQC,QAAQ,YAAYC,QAlD/B,WACCrB,EAAQ,IACRI,IACA/D,EAAMiE,WA+CJ,0B,wCCrEEiB,EAAYC,aAAW,SAAAC,GAC5B,MAAO,CACNC,KAAM,CACLC,MAAO,YAKK,SAASC,GAAOvF,GAE9B,IAAMwF,EAAUN,IAMhB,OACC,cAAC,IAAD,CACCO,UAAWD,EAAQH,KACnBnE,MAAOlB,EAAMkB,MACboD,SAAUtE,EAAMsE,SAChBc,MAAM,OACNM,QAVc,CACfC,SAAS,KCFX,IAAMnC,GAAmB,IAAIf,EAEvByC,GAAYC,aAAW,SAAAC,GAC5B,MAAO,CACNQ,OAAQ,CACPN,MAAO,QACPO,SAAU,QAEXC,UAAW,CACVR,MAAO,YAKK,SAASS,GAAoB/F,GAE3C,IAAMwF,EAAUN,KAFkC,EAIpBpE,mBAAS,IAJW,mBAI3CkF,EAJ2C,KAIlCC,EAJkC,OAK1BnF,mBAAS,IALiB,mBAK3C4C,EAL2C,KAKrCC,EALqC,OAM1B7C,oBAAS,GANiB,mBAM3Ce,EAN2C,KAMrCqE,EANqC,OAO5BpF,oBAAS,GAPmB,mBAO3C8C,EAP2C,KAOtCC,EAPsC,KAkBlD,SAASsC,IACR3C,GAAiBF,OAAOtD,EAAMoG,YAAa,CAC1C1C,KAAMA,EACN2C,MAAOL,EACPpC,IAAKA,IAEN5D,EAAMiE,UAUP,OAzBAqC,qBAAU,WACT,sBAAC,4BAAA5D,EAAA,sEACsBc,GAAiB+C,KAAKvG,EAAMoG,aADlD,OACIhD,EADJ,OAEA6C,EAAW7C,EAAUiD,OACrB1C,EAAQP,EAAUM,MAClBG,EAAOT,EAAUQ,KAJjB,0CAAD,KAME,CAAC5D,EAAMoG,cAmBT,gCACC,cAACI,EAAA,EAAD,CAAYxB,QAAS,kBAAMkB,GAAQ,IAAnC,SACC,cAACO,EAAA,EAAD,CAAMC,MAAM,cAEb,cAAC1C,EAAA,EAAD,CAAQnC,KAAMA,EACZoC,QACC,WACCiC,GAAQ,GACRC,KAJJ,SAOC,eAAChC,EAAA,EAAD,CACCsB,UAAWD,EAAQI,OADpB,UAGC,eAACvF,EAAA,EAAD,CAAMC,WAAS,EAACqG,QAAS,EAAzB,UACC,cAACtG,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAtB,SACC,cAACN,EAAA,EAAD,CAAYxB,QAASmB,EAArB,SACC,cAACY,EAAA,EAAD,QAGF,cAAC1G,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAtB,SACC,cAAC1C,EAAA,EAAD,CACCqB,UAAWD,EAAQM,UACnB5E,MAAOwC,EACPY,SAAU,SAACpC,GAAD,OAAOyB,EAAQzB,EAAEqC,OAAOrD,YAIpC,cAACb,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACC,cAACrC,EAAA,EAAD,CACCC,QACC,cAACC,EAAA,EAAD,CACCN,MAAM,MACNO,QAAShB,EACTU,SAAU,SAAApC,GACT2B,IAAS3B,EAAEqC,OAAOK,YAIrBP,MAAM,aAIT,cAACkB,GAAD,CAAQrE,MAAO8E,EAAS1B,SAAU2B,Y,wBC/FxB,SAASe,GAAQhH,GAAQ,IAAD,QAEdc,oBAAS,GAFK,mBAE/Be,EAF+B,KAEzBqE,EAFyB,KAItC,SAASe,IAA2B,IAApBC,EAAmB,wDAC9BA,GACHlH,EAAMmH,YAEPjB,GAAQ,GAGT,OACC,gCAEiB,WAAflG,EAAMoH,KACL,cAACtC,EAAA,EAAD,CAAQE,QAAS,kBAAMkB,GAAQ,IAA/B,mBACElG,EAAMqH,iBADR,QACqB,WAGrB,cAACb,EAAA,EAAD,CAAYxB,QAAS,kBAAMkB,GAAQ,IAAnC,mBACElG,EAAMqH,iBADR,QACqB,cAACC,GAAA,EAAD,CAAQZ,MAAM,YAGrC,eAAC1C,EAAA,EAAD,CAAQnC,KAAMA,EAAMoC,QAAS,kBAAMgD,GAAO,IAA1C,UACC,cAAC9C,EAAA,EAAD,UACC,cAACoD,GAAA,EAAD,UACC,cAACC,EAAA,EAAD,oBAEExH,EAAMyH,eAFR,QAEmB,sBAKrB,eAAC5C,EAAA,EAAD,WACC,cAACC,EAAA,EAAD,CAAQC,QAAQ,YACdC,QAAS,kBAAMiC,GAAO,IADxB,qBAEA,cAACnC,EAAA,EAAD,CAAQC,QAAQ,YACdC,QAAS,kBAAMiC,GAAO,IADxB,6B,4CC9CgBS,G,kMAEpB,iCAAAhF,EAAA,+EACQJ,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMjB,SAAxC,sBAAkD,sBAAAmB,EAAA,+EACjD,EAAKF,MAAMjB,SAAS0B,WAD6B,6CAD1D,gD,+GAMA,WAAWC,GAAX,oBAAAR,EAAA,+EACQJ,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMjB,SAAxC,sBAAkD,sBAAAmB,EAAA,+EACjD,EAAKF,MAAMjB,SAASuB,MAAM,MAAMC,OAAOG,GAAIC,SADM,6CAD1D,gD,kHAMA,WAAapC,GAAb,oBAAA2B,EAAA,+EACQJ,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMjB,SAAxC,sBAAkD,sBAAAmB,EAAA,+EACjD,EAAKF,MAAMjB,SAAS8B,IAAItC,IADyB,6CAD1D,gD,kHAMA,WAAamC,EAAInC,GAAjB,oBAAA2B,EAAA,+EACQJ,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMjB,SAAxC,sBAAkD,sBAAAmB,EAAA,+EACjD,EAAKF,MAAMjB,SAAS+B,OAAOJ,EAAInC,IADkB,6CAD1D,gD,qHAMA,WAAcmC,GAAd,oBAAAR,EAAA,+EACQJ,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMjB,SAAxC,sBAAkD,sBAAAmB,EAAA,+EACjD,EAAKF,MAAMjB,SAASuB,MAAM,MAAMC,OAAOG,GAAIK,UADM,6CAD1D,gD,4DA1B2ClB,GCStCsF,GAAiB,IAAID,GAEZ,SAASE,GAAiB5H,GAAQ,IAAD,EAEvBc,mBAAS,IAFc,mBAExC4C,EAFwC,KAElCC,EAFkC,OAGX7C,mBAAS,IAHE,mBAGxC+G,EAHwC,KAG5BC,EAH4B,iDAK/C,WAA4B5F,GAA5B,SAAAQ,EAAA,6DAECR,EAAE6F,iBAFH,kBAKQJ,GAAe1C,OAAO,CAC3BvB,KAAMA,IANT,OAQEC,EAAQ,IACR3D,EAAMiE,SAAQ,GAThB,gDAWE6D,EAAc,yCAXhB,0DAL+C,sBA2B/C,OACC,cAAC9D,EAAA,EAAD,CAAQnC,KAAM7B,EAAM6B,KAAMoC,QAP3B,WACCN,EAAQ,IACR3D,EAAMiE,WAKN,SACC,cAACE,EAAA,EAAD,UACC,sBAAM6D,SA9BsC,4CA8B5C,SACC,eAAC3H,EAAA,EAAD,CAAMC,WAAS,EAACqG,QAAS,EAAGzG,EAAG,EAAG+H,EAAG,EAAGC,WAAW,SAAnD,UACC,eAAC7H,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAIsB,GAAI,EAAvB,UACC,cAACC,GAAA,EAAD,CAAYlF,GAAG,2BAAf,4BAEA,cAACkB,EAAA,EAAD,CACClD,MAAOwC,EACPvB,QAAS0F,EACTQ,WAAYR,EACZvD,SACC,SAACpC,GACAyB,EAAQzB,EAAEqC,OAAOrD,OACjB4G,EAAc,UAKlB,cAACzH,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAIsB,GAAI,EAAvB,SACC,cAACrD,EAAA,EAAD,CAAQ4B,MAAM,UAAU3B,QAAQ,YAC9BqC,KAAK,SADP,6BC1DA,IAAMkB,GAAqB7H,IAAMC,cAAc,CACrD6H,YAAa,GACbC,iBAAkB,eAGJ,SAASC,GAAoBzI,GAE3C,IAAM2H,EAAiB,IAAID,GAFuB,EAIZ5G,mBAAS,IAJG,mBAI3CyH,EAJ2C,KAI9BG,EAJ8B,cAWnCF,IAXmC,2EAWlD,sBAAA9F,EAAA,kEACCgG,EADD,SACsBf,EAAegB,QADrC,8EAXkD,sBAelD,OATArC,qBAAU,WACTkC,MAEE,CAACD,IAOH,cAACD,GAAmBrH,SAApB,CACCC,MAAO,CACNqH,YAAaA,EACbC,iBAAkBA,GAHpB,SAMExI,EAAMO,WCjBV,IAAM2E,GAAYC,aAAW,SAACC,GAAD,MAAY,CAExCwD,KAAM,CACLC,SAAU,GAEXC,WAAY,CACXC,YAAa,GACbC,YAAa,IAEdC,WAAY,CACXvC,MAAO,QACPmC,SAAU,OAIG,SAASK,KAEvB,IAAM1D,EAAUN,KAFyB,EAIKpB,qBAC7CtD,GADMG,EAJkC,EAIlCA,gBAAiBC,EAJiB,EAIjBA,mBAJiB,EAODkD,qBAAWwE,IAA5CC,EAPkC,EAOlCA,YAAaC,EAPqB,EAOrBA,iBAPqB,SAS1BW,IAT0B,2EASzC,sBAAAzG,EAAA,sDACC8F,IADD,4CATyC,sBAazClC,qBAAU,WACTkC,MAEE,IAhBsC,MAkBO1H,oBAAS,GAlBhB,mBAkBlCsI,EAlBkC,KAkBhBC,EAlBgB,KA+BzC,OACC,gCACC,cAAC7E,EAAA,EAAD,CAAaiB,UAAWD,EAAQyD,WAAhC,SACC,eAACK,GAAA,EAAD,CACC7D,UAAWD,EAAQyD,WACnB/H,MAAOP,EAEP2D,SAAU,SAACpC,GAAOtB,EAAmBsB,EAAEqC,OAAOrD,QAJ/C,UAKC,cAACqI,GAAA,EAAD,CAAUC,UAAQ,EAACtI,MAAO,EAA1B,8BAECqH,EAAYkB,KAAI,SAAC1I,EAAS2I,GACzB,OAAO,cAACH,GAAA,EAAD,CACFrI,MAAOH,EAAQmC,GADb,SACkBnC,EAAQ2C,MADXgG,WAM1B,cAAClD,EAAA,EAAD,CAAYf,UAAWD,EAAQoD,KAAMlC,MAAM,UACxC1B,QA7BL,WACCqE,GAAoB,IA2BnB,SAEC,cAACM,GAAA,EAAD,MAED,cAAC/B,GAAD,CACC/F,KAAMuH,EACNnF,QA9BH,WAAgD,IAAjB2F,EAAgB,wDAC9CP,GAAoB,GAChBO,GACHT,UCrCH,IAAM3F,GAAmB,IAAIf,EAEd,SAASoH,KAAc,IAE9BlJ,EAAmBmD,qBAAWtD,GAA9BG,gBAF6B,EAIAG,mBAAS,IAJT,mBAI7BU,EAJ6B,KAIjBsI,EAJiB,cAMrBC,EANqB,8EAMpC,WAA+BC,GAA/B,SAAAtH,EAAA,kEACCoH,EADD,SACqBtG,GAAiBmF,MAAMqB,GAD5C,8EANoC,sBAUpC1D,qBAAU,WACTyD,EAAgBpJ,KACd,CAACA,IAZgC,MAcgBG,oBAAS,GAdzB,mBAc7BmJ,EAd6B,KAcTC,EAdS,iDAyBpC,WAAgChH,GAAhC,SAAAR,EAAA,sEACOc,GAAiB2G,QAAQjH,GADhC,OAEC6G,EAAgBpJ,GAFjB,4CAzBoC,sBA8BpC,OACC,cAACZ,EAAD,UAEGY,EAMA,eAACN,EAAA,EAAD,CAAMC,WAAS,EAACqG,QAAS,EAAzB,UACC,cAACtG,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAf,SACC,eAACW,EAAA,EAAD,CAAYzC,QAAQ,KAApB,UACC,cAACtB,EAAD,CAAoB5B,KAAMoI,EACrBhG,QAAS,kBAtBpB8F,EAAgBpJ,QAChBuJ,GAAsB,MAsBhB,cAAC1D,EAAA,EAAD,CACCxB,QAAS,WA5BhBkF,GAAsB,IA2BhB,SAEC,cAACE,EAAA,EAAD,MALF,kBAUA5I,EAAWiI,KAAI,SAACrG,EAAWuF,GAAW,IAAD,EACrC,OACC,cAACtI,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACC,eAACuD,EAAA,EAAD,CAAM5E,UAAW,aAAjB,UACC,eAAC6E,EAAA,EAAD,WACC,cAAC9C,EAAA,EAAD,CAAYzC,QAAQ,KAApB,SACE3B,EAAUM,OAEZ,cAAC8D,EAAA,EAAD,CAAYzC,QAAQ,QAApB,SACE3B,EAAUQ,IAAM,MAAQ,OAE1B,cAAC4D,EAAA,EAAD,CACCzC,QAAQ,QACRwF,wBAAyB,CACxBC,OAAM,UAAEpH,EAAUiD,aAAZ,aAAE,EAAiBoE,UACxB,EAAG,WAIP,qBAAKhF,UAAW,aAChB,eAACiF,EAAA,EAAD,WACC,cAAC1D,GAAD,CACCS,QAAO,0CAAqCrE,EAAUM,KAA/C,KACPyD,UAAW,kBA1Ec,2CA0ERwD,CAChBvH,EAAUF,OAEZ,cAAC6C,GAAD,CACC9B,QAAS,kBAAM8F,EACdpJ,IACDyF,YAAahD,EAAUF,YA3BIyF,SAnBlC,sBAAKiC,MAAO,CAACC,OAAQ,QAArB,oCAEC,cAAC3B,GAAD,S,ICtDe4B,G,kMAEpB,+CAAApI,EAAA,2DAAYC,EAAZ,+BAAyB,OACLC,MAAMD,GAD1B,yCAESL,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMd,OAAxC,sBACN,sBAAAgB,EAAA,+EACQ,EAAKF,MAAMd,OAAOoB,MAAM,cAC9BC,OAAOJ,GACPK,OAAO,aAHT,6CAHH,gCASQV,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMd,OAAxC,sBAAgD,sBAAAgB,EAAA,+EAC/C,EAAKF,MAAMd,OAAOuB,WAD6B,6CATxD,gD,+GAcA,WAAWC,GAAX,oBAAAR,EAAA,+EACQJ,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMd,OAAxC,sBAAgD,sBAAAgB,EAAA,+EAC/C,EAAKF,MAAMd,OAAOoB,MAAM,MAAMC,OAAOG,GAAIC,SADM,6CADxD,gD,kHAMA,WAAa4H,GAAb,oBAAArI,EAAA,+EACQJ,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMd,OAAxC,sBAAgD,sBAAAgB,EAAA,+EAC/C,EAAKF,MAAMd,OAAO2B,IAAI0H,IADyB,6CADxD,gD,kHAMA,WAAa7H,EAAI6H,GAAjB,oBAAArI,EAAA,+EACQJ,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMd,OAAxC,sBAAgD,sBAAAgB,EAAA,+EAC/C,EAAKF,MAAMd,OAAO4B,OAAOJ,EAAI6H,IADkB,6CADxD,gD,qHAMA,WAAc7H,GAAd,oBAAAR,EAAA,+EACQJ,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMd,OAAxC,sBAAgD,sBAAAgB,EAAA,+EAC/C,EAAKF,MAAMd,OAAOoB,MAAM,MAAMC,OAAOG,GAAIK,UADM,6CADxD,gD,4DAlCyClB,G,oBCapC2I,GAAe,IAAIF,GAEV,SAASG,GAAejL,GAAQ,IAAD,EAErBc,mBAAS,IAFY,mBAEtC4C,EAFsC,KAEhCC,EAFgC,OAGb7C,oBAAS,GAHI,mBAGtCoK,EAHsC,KAG5BC,EAH4B,KAItCxK,EAAmBmD,qBAAWtD,GAA9BG,gBAkBP,SAASoD,IACRJ,EAAQ,IACRwH,GAAY,GAGb,OACC,eAACnH,EAAA,EAAD,CAAQnC,KAAM7B,EAAM6B,KAAMoC,QAASjE,EAAMiE,QAAzC,UACC,cAACC,EAAA,EAAD,0BAGA,eAACC,EAAA,EAAD,WACC,cAACC,EAAA,EAAD,CACCC,MAAM,aACNnD,MAAOwC,EACPY,SAAU,SAACpC,GAAOyB,EAAQzB,EAAEqC,OAAOrD,UAGpC,cAACsD,EAAA,EAAD,UACC,cAACC,EAAA,EAAD,CACCC,QACC,cAACC,EAAA,EAAD,CACCN,MAAM,WACNO,QAASsG,EACT5G,SAAU,SAAApC,GACTiJ,IAAcjJ,EAAEqC,OAAOK,YAI1BP,MAAM,kBAIT,eAACQ,EAAA,EAAD,WACC,cAACC,EAAA,EAAD,CAAQC,QAAQ,YAAYC,QA3C/B,WACCgG,GAAa/F,OAAO,CACnBvB,KAAMA,EACNwH,WAAYA,EACZvI,WAAYhC,IAEboD,IACA/D,EAAMiE,WAoCJ,kBACA,cAACa,EAAA,EAAD,CAAQC,QAAQ,YAAYC,QAlD/B,WACCrB,EAAQ,IACRI,IACA/D,EAAMiE,WA+CJ,0BC1DJ,IAAM+G,GAAe,IAAIF,GAEnB5F,GAAYC,aAAW,SAAAC,GAC5B,MAAO,CACNQ,OAAQ,CACPN,MAAO,QACPO,SAAU,QAEXC,UAAW,CACVR,MAAO,YAKK,SAAS8F,GAAgBpL,GAEvC,IAAMwF,EAAUN,KAF8B,EAIhBpE,mBAAS,IAJO,mBAIvCkF,EAJuC,KAI9BC,EAJ8B,OAKtBnF,mBAAS,IALa,mBAKvC4C,EALuC,KAKjCC,EALiC,OAMtB7C,oBAAS,GANa,mBAMvCe,EANuC,KAMjCqE,EANiC,OAOdpF,oBAAS,GAPK,mBAOvCoK,EAPuC,KAO7BC,EAP6B,KAkB9C,SAAShF,IACR6E,GAAa1H,OAAOtD,EAAMqL,QAAS,CAClC3H,KAAMA,EACN2C,MAAOL,EACPkF,SAAUA,IAEXlL,EAAMiE,UAUP,OAzBAqC,qBAAU,WACT,sBAAC,4BAAA5D,EAAA,sEACkBsI,GAAazE,KAAKvG,EAAMqL,SAD1C,OACIN,EADJ,OAEA9E,EAAW8E,EAAM1E,OACjB1C,EAAQoH,EAAMrH,MACdyH,EAAYJ,EAAMG,UAJlB,0CAAD,KAME,CAAClL,EAAMqL,UAmBT,gCACC,cAAC7E,EAAA,EAAD,CAAYxB,QAAS,kBAAMkB,GAAQ,IAAnC,SACC,cAACO,EAAA,EAAD,CAAMC,MAAM,cAEb,cAAC1C,EAAA,EAAD,CAAQnC,KAAMA,EACZoC,QACC,WACCiC,GAAQ,GACRC,KAJJ,SAOC,eAAChC,EAAA,EAAD,CACCsB,UAAWD,EAAQI,OADpB,UAGC,eAACvF,EAAA,EAAD,CAAMC,WAAS,EAACqG,QAAS,EAAzB,UACC,cAACtG,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAtB,SACC,cAACN,EAAA,EAAD,CAAYxB,QAASmB,EAArB,SACC,cAACY,EAAA,EAAD,QAGF,cAAC1G,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAtB,SACC,cAAC1C,EAAA,EAAD,CACCqB,UAAWD,EAAQM,UACnB5E,MAAOwC,EACPY,SAAU,SAACpC,GAAD,OAAOyB,EAAQzB,EAAEqC,OAAOrD,YAIpC,cAACb,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACC,cAACrC,EAAA,EAAD,CACCC,QACC,cAACC,EAAA,EAAD,CACCN,MAAM,WACNO,QAASsG,EACT5G,SAAU,SAAApC,GACTiJ,IAAcjJ,EAAEqC,OAAOK,YAI1BP,MAAM,kBAIT,cAACkB,GAAD,CAAQrE,MAAO8E,EAAS1B,SAAU2B,YCzFvC,IAAM+E,GAAe,IAAIF,GAEV,SAASQ,KAAU,IAE1B3K,EAAmBmD,qBAAWtD,GAA9BG,gBAFyB,EAIJG,mBAAS,IAJL,mBAIzBY,EAJyB,KAIjB6J,EAJiB,cAMjBC,EANiB,8EAMhC,WAA2BxB,GAA3B,SAAAtH,EAAA,kEACC6I,EADD,SACiBP,GAAarC,MAAMqB,GADpC,8EANgC,sBAUhC1D,qBAAU,WACTkF,EAAY7K,KACV,CAACA,IAZ4B,MAcYG,oBAAS,GAdrB,mBAczB2K,EAdyB,KAcTC,EAdS,iDAyBhC,WAA4BxI,GAA5B,SAAAR,EAAA,sEACOsI,GAAab,QAAQjH,GAD5B,OAECsI,EAAY7K,GAFb,4CAzBgC,sBA8BhC,OACC,cAACZ,EAAD,UAEGY,EAMA,eAACN,EAAA,EAAD,CAAMC,WAAS,EAACqG,QAAS,EAAzB,UACC,cAACtG,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAf,SACC,eAACW,EAAA,EAAD,CAAYzC,QAAQ,KAApB,UACC,cAACkG,GAAD,CAAgBpJ,KAAM4J,EAClBxH,QAAS,kBAtBnBuH,EAAY7K,QACZ+K,GAAkB,MAsBZ,cAAClF,EAAA,EAAD,CACCxB,QAAS,WA5BhB0G,GAAkB,IA2BZ,SAEC,cAACtB,EAAA,EAAD,MALF,cAUA1I,EAAO+H,KAAI,SAACsB,EAAOpC,GAAW,IAAD,EAC7B,OACC,cAACtI,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACC,eAACuD,EAAA,EAAD,CAAM5E,UAAW,aAAjB,UACC,eAAC6E,EAAA,EAAD,WACC,cAAC9C,EAAA,EAAD,CAAYzC,QAAQ,KACjBU,UAAW,WADd,SAEC,eAACpF,EAAA,EAAD,CAAMC,WAAS,EAACqL,UAAU,MACvBzD,WAAW,SADd,UAGE6C,EAAMG,SACL,cAACU,GAAA,EAAD,CACClF,MAAM,YAEP,cAACmF,GAAA,EAAD,CACCnF,MAAM,cAERqE,EAAMrH,UAGT,cAAC8D,EAAA,EAAD,CACCzC,QAAQ,QACRwF,wBAAyB,CACxBC,OAAM,UAAEO,EAAM1E,aAAR,aAAE,EAAaoE,UACpB,EAAG,WAIP,qBAAKhF,UAAW,aAChB,eAACiF,EAAA,EAAD,WACC,cAAC1D,GAAD,CACCS,QAAO,0CAAqCsD,EAAMrH,KAA3C,KACPyD,UAAW,kBAnFU,2CAmFJ2E,CAChBf,EAAM7H,OAER,cAACkI,GAAD,CACCnH,QAAS,kBAAMuH,EACd7K,IACD0K,QAASN,EAAM7H,YApCYyF,SAnBlC,sBAAKiC,MAAO,CAACC,OAAQ,QAArB,oCAEC,cAAC3B,GAAD,S,ICtDe6C,G,kMAEpB,+CAAArJ,EAAA,2DAAYC,EAAZ,+BAAyB,OACLC,MAAMD,GAD1B,yCAESL,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMf,OAAxC,sBACN,sBAAAiB,EAAA,+EACQ,EAAKF,MAAMf,OAAOqB,MAAM,cAC9BC,OAAOJ,GACPM,WAHF,6CAHH,gCASQX,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMf,OAAxC,sBAAgD,sBAAAiB,EAAA,+EAC/C,EAAKF,MAAMf,OAAOwB,WAD6B,6CATxD,gD,+GAcA,WAAWC,GAAX,oBAAAR,EAAA,+EACQJ,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMf,OAAxC,sBAAgD,sBAAAiB,EAAA,+EAC/C,EAAKF,MAAMf,OAAOqB,MAAM,MAAMC,OAAOG,GAAIC,SADM,6CADxD,gD,kHAMA,WAAa6I,GAAb,oBAAAtJ,EAAA,+EACQJ,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMf,OAAxC,sBAAgD,sBAAAiB,EAAA,+EAC/C,EAAKF,MAAMf,OAAO4B,IAAI2I,IADyB,6CADxD,gD,kHAMA,WAAa9I,EAAI8I,GAAjB,oBAAAtJ,EAAA,+EACQJ,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMf,OAAxC,sBAAgD,sBAAAiB,EAAA,+EAC/C,EAAKF,MAAMf,OAAO6B,OAAOJ,EAAI8I,IADkB,6CADxD,gD,qHAMA,WAAc9I,GAAd,oBAAAR,EAAA,+EACQJ,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMf,OAAxC,sBAAgD,sBAAAiB,EAAA,+EAC/C,EAAKF,MAAMf,OAAOqB,MAAM,MAAMC,OAAOG,GAAIK,UADM,6CADxD,gD,4DAlCyClB,GCUpC4J,GAAe,IAAIF,GAEV,SAASG,GAAelM,GAAQ,IAAD,EAErBc,mBAAS,IAFY,mBAEtC4C,EAFsC,KAEhCC,EAFgC,KAGtChD,EAAmBmD,qBAAWtD,GAA9BG,gBAiBP,SAASoD,IACRJ,EAAQ,IAGT,OACC,eAACK,EAAA,EAAD,CAAQnC,KAAM7B,EAAM6B,KAAMoC,QAASjE,EAAMiE,QAAzC,UACC,cAACC,EAAA,EAAD,0BAGA,cAACC,EAAA,EAAD,UACC,cAACC,EAAA,EAAD,CACCC,MAAM,aACNnD,MAAOwC,EACPY,SAAU,SAACpC,GAAOyB,EAAQzB,EAAEqC,OAAOrD,YAGrC,eAAC2D,EAAA,EAAD,WACC,cAACC,EAAA,EAAD,CAAQC,QAAQ,YAAYC,QA1B/B,WACCiH,GAAahH,OAAO,CACnBvB,KAAMA,EACNf,WAAYhC,IAEboD,IACA/D,EAAMiE,WAoBJ,kBACA,cAACa,EAAA,EAAD,CAAQC,QAAQ,YAAYC,QAjC/B,WACCrB,EAAQ,IACRI,IACA/D,EAAMiE,WA8BJ,0BCvCJ,IAAMgI,GAAe,IAAIF,GAEnB7G,GAAYC,aAAW,SAAAC,GAC5B,MAAO,CACNQ,OAAQ,CACPN,MAAO,QACPO,SAAU,QAEXC,UAAW,CACVR,MAAO,YAKK,SAAS6G,GAAgBnM,GAEvC,IAAMwF,EAAUN,KAF8B,EAIhBpE,mBAAS,IAJO,mBAIvCkF,EAJuC,KAI9BC,EAJ8B,OAKtBnF,mBAAS,IALa,mBAKvC4C,EALuC,KAKjCC,EALiC,OAMtB7C,oBAAS,GANa,mBAMvCe,EANuC,KAMjCqE,EANiC,KAgB9C,SAASC,IACR8F,GAAa3I,OAAOtD,EAAMoM,QAAS,CAClC1I,KAAMA,EACN2C,MAAOL,IAERhG,EAAMiE,UASP,OAtBAqC,qBAAU,WACT,sBAAC,4BAAA5D,EAAA,sEACkBuJ,GAAa1F,KAAKvG,EAAMoM,SAD1C,OACIJ,EADJ,OAEA/F,EAAW+F,EAAM3F,OACjB1C,EAAQqI,EAAMtI,MAHd,0CAAD,KAKE,CAAC1D,EAAMoM,UAiBT,gCACC,cAAC5F,EAAA,EAAD,CAAYxB,QAAS,kBAAMkB,GAAQ,IAAnC,SACC,cAACO,EAAA,EAAD,CAAMC,MAAM,cAEb,cAAC1C,EAAA,EAAD,CAAQnC,KAAMA,EACZoC,QACC,WACCiC,GAAQ,GACRC,KAJJ,SAOC,eAAChC,EAAA,EAAD,CACCsB,UAAWD,EAAQI,OADpB,UAGC,eAACvF,EAAA,EAAD,CAAMC,WAAS,EAACqG,QAAS,EAAzB,UACC,cAACtG,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAtB,SACC,cAACN,EAAA,EAAD,CAAYxB,QAASmB,EAArB,SACC,cAACY,EAAA,EAAD,QAGF,cAAC1G,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAtB,SACC,cAAC1C,EAAA,EAAD,CACCqB,UAAWD,EAAQM,UACnB5E,MAAOwC,EACPY,SAAU,SAACpC,GAAD,OAAOyB,EAAQzB,EAAEqC,OAAOrD,eAKrC,cAACqE,GAAD,CAAQrE,MAAO8E,EAAS1B,SAAU2B,YCrEvC,IAAMgG,GAAe,IAAIF,GAEV,SAASM,KAAU,IAE1B1L,EAAmBmD,qBAAWtD,GAA9BG,gBAFyB,EAIJG,mBAAS,IAJL,mBAIzBW,EAJyB,KAIjB6K,EAJiB,cAMjBC,EANiB,8EAMhC,WAA2BvC,GAA3B,SAAAtH,EAAA,kEACC4J,EADD,SACiBL,GAAatD,MAAMqB,GADpC,8EANgC,sBAUhC1D,qBAAU,WACTiG,EAAY5L,KACV,CAACA,IAZ4B,MAcYG,oBAAS,GAdrB,mBAczB0L,EAdyB,KAcTC,EAdS,iDAyBhC,WAA4BvJ,GAA5B,SAAAR,EAAA,sEACOuJ,GAAa9B,QAAQjH,GAD5B,OAECqJ,EAAY5L,GAFb,4CAzBgC,sBA8BhC,OACC,cAACZ,EAAD,UAEGY,EAMA,eAACN,EAAA,EAAD,CAAMC,WAAS,EAACqG,QAAS,EAAzB,UACC,cAACtG,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAf,SACC,eAACW,EAAA,EAAD,CAAYzC,QAAQ,KAApB,UACC,cAACmH,GAAD,CAAgBrK,KAAM2K,EAClBvI,QAAS,kBAtBnBsI,EAAY5L,QACZ8L,GAAkB,MAsBZ,cAACjG,EAAA,EAAD,CACCxB,QAAS,WA5BhByH,GAAkB,IA2BZ,SAEC,cAACrC,EAAA,EAAD,MALF,cAUA3I,EAAOgI,KAAI,SAACuC,EAAOrD,GAAW,IAAD,EAC7B,OACC,cAACtI,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACC,eAACuD,EAAA,EAAD,CAAM5E,UAAW,aAAjB,UACC,eAAC6E,EAAA,EAAD,WACC,cAAC9C,EAAA,EAAD,CAAYzC,QAAQ,KACjBU,UAAW,aAEd,cAAC+B,EAAA,EAAD,CACCzC,QAAQ,QACRwF,wBAAyB,CACxBC,OAAM,UAAEwB,EAAM3F,aAAR,aAAE,EAAaoE,UACpB,EAAG,WAIP,qBAAKhF,UAAW,aAChB,eAACiF,EAAA,EAAD,WACC,cAAC1D,GAAD,CACCS,QAAO,0CAAqCuE,EAAMtI,KAA3C,KACPyD,UAAW,kBAvEU,2CAuEJuF,CAChBV,EAAM9I,OAER,cAACiJ,GAAD,CACClI,QAAS,kBAAMsI,EACd5L,IACDyL,QAASJ,EAAM9I,YAxBYyF,SAnBlC,sBAAKiC,MAAO,CAACC,OAAQ,QAArB,oCAEC,cAAC3B,GAAD,S,ICtDeyD,G,kMAEpB,+CAAAjK,EAAA,2DAAYC,EAAZ,+BAAyB,OACLC,MAAMD,GAD1B,yCAESL,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMZ,OAAxC,sBACN,sBAAAc,EAAA,+EACQ,EAAKF,MAAMZ,OAAOkB,MAAM,cAC9BC,OAAOJ,GACPM,WAHF,6CAHH,gCASQX,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMZ,OAAxC,sBAAgD,sBAAAc,EAAA,+EAC/C,EAAKF,MAAMZ,OAAOqB,WAD6B,6CATxD,gD,+GAcA,WAAWC,GAAX,oBAAAR,EAAA,+EACQJ,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMZ,OAAxC,sBAAgD,sBAAAc,EAAA,+EAC/C,EAAKF,MAAMZ,OAAOkB,MAAM,MAAMC,OAAOG,GAAIC,SADM,6CADxD,gD,kHAMA,WAAayJ,GAAb,oBAAAlK,EAAA,+EACQJ,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMZ,OAAxC,sBAAgD,sBAAAc,EAAA,+EAC/C,EAAKF,MAAMZ,OAAOyB,IAAIuJ,IADyB,6CADxD,gD,kHAMA,WAAa1J,EAAI0J,GAAjB,oBAAAlK,EAAA,+EACQJ,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMZ,OAAxC,sBAAgD,sBAAAc,EAAA,+EAC/C,EAAKF,MAAMZ,OAAO0B,OAAOJ,EAAI0J,IADkB,6CADxD,gD,qHAMA,WAAc1J,GAAd,oBAAAR,EAAA,+EACQJ,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMZ,OAAxC,sBAAgD,sBAAAc,EAAA,+EAC/C,EAAKF,MAAMZ,OAAOkB,MAAM,MAAMC,OAAOG,GAAIK,UADM,6CADxD,gD,4DAlCyClB,GCUpCwK,GAAe,IAAIF,GAEV,SAASG,GAAe9M,GAAQ,IAAD,EAErBc,mBAAS,IAFY,mBAEtC4C,EAFsC,KAEhCC,EAFgC,KAGtChD,EAAmBmD,qBAAWtD,GAA9BG,gBAiBP,SAASoD,IACRJ,EAAQ,IAGT,OACC,eAACK,EAAA,EAAD,CAAQnC,KAAM7B,EAAM6B,KAAMoC,QAASjE,EAAMiE,QAAzC,UACC,cAACC,EAAA,EAAD,0BAGA,cAACC,EAAA,EAAD,UACC,cAACC,EAAA,EAAD,CACCC,MAAM,aACNnD,MAAOwC,EACPY,SAAU,SAACpC,GAAOyB,EAAQzB,EAAEqC,OAAOrD,YAGrC,eAAC2D,EAAA,EAAD,WACC,cAACC,EAAA,EAAD,CAAQC,QAAQ,YAAYC,QA1B/B,WACC6H,GAAa5H,OAAO,CACnBvB,KAAMA,EACNf,WAAYhC,IAEboD,IACA/D,EAAMiE,WAoBJ,kBACA,cAACa,EAAA,EAAD,CAAQC,QAAQ,YAAYC,QAjC/B,WACCrB,EAAQ,IACRI,IACA/D,EAAMiE,WA8BJ,0BCvCJ,IAAM4I,GAAe,IAAIF,GAEnBzH,GAAYC,aAAW,SAAAC,GAC5B,MAAO,CACNQ,OAAQ,CACPN,MAAO,QACPO,SAAU,QAEXC,UAAW,CACVR,MAAO,YAKK,SAASyH,GAAgB/M,GAEvC,IAAMwF,EAAUN,KAF8B,EAIhBpE,mBAAS,IAJO,mBAIvCkF,EAJuC,KAI9BC,EAJ8B,OAKtBnF,mBAAS,IALa,mBAKvC4C,EALuC,KAKjCC,EALiC,OAMtB7C,oBAAS,GANa,mBAMvCe,EANuC,KAMjCqE,EANiC,KAgB9C,SAASC,IACR0G,GAAavJ,OAAOtD,EAAMgN,QAAS,CAClCtJ,KAAMA,EACN2C,MAAOL,IAERhG,EAAMiE,UASP,OAtBAqC,qBAAU,WACT,sBAAC,4BAAA5D,EAAA,sEACkBmK,GAAatG,KAAKvG,EAAMgN,SAD1C,OACIJ,EADJ,OAEA3G,EAAW2G,EAAMvG,OACjB1C,EAAQiJ,EAAMlJ,MAHd,0CAAD,KAKE,CAAC1D,EAAMgN,UAiBT,gCACC,cAACxG,EAAA,EAAD,CAAYxB,QAAS,kBAAMkB,GAAQ,IAAnC,SACC,cAACO,EAAA,EAAD,CAAMC,MAAM,cAEb,cAAC1C,EAAA,EAAD,CAAQnC,KAAMA,EACZoC,QACC,WACCiC,GAAQ,GACRC,KAJJ,SAOC,eAAChC,EAAA,EAAD,CACCsB,UAAWD,EAAQI,OADpB,UAGC,eAACvF,EAAA,EAAD,CAAMC,WAAS,EAACqG,QAAS,EAAzB,UACC,cAACtG,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAtB,SACC,cAACN,EAAA,EAAD,CAAYxB,QAASmB,EAArB,SACC,cAACY,EAAA,EAAD,QAGF,cAAC1G,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAtB,SACC,cAAC1C,EAAA,EAAD,CACCqB,UAAWD,EAAQM,UACnB5E,MAAOwC,EACPY,SAAU,SAACpC,GAAD,OAAOyB,EAAQzB,EAAEqC,OAAOrD,eAKrC,cAACqE,GAAD,CAAQrE,MAAO8E,EAAS1B,SAAU2B,YCrEvC,IAAM4G,GAAe,IAAIF,GAEV,SAASM,KAAU,IAE1BtM,EAAmBmD,qBAAWtD,GAA9BG,gBAFyB,EAIJG,mBAAS,IAJL,mBAIzBc,EAJyB,KAIjBsL,EAJiB,cAMjBC,EANiB,8EAMhC,WAA2BnD,GAA3B,SAAAtH,EAAA,kEACCwK,EADD,SACiBL,GAAalE,MAAMqB,GADpC,8EANgC,sBAUhC1D,qBAAU,WACT6G,EAAYxM,KACV,CAACA,IAZ4B,MAcYG,oBAAS,GAdrB,mBAczBsM,EAdyB,KAcTC,EAdS,iDAyBhC,WAA4BnK,GAA5B,SAAAR,EAAA,sEACOmK,GAAa1C,QAAQjH,GAD5B,OAECiK,EAAYxM,GAFb,4CAzBgC,sBA8BhC,OACC,cAACZ,EAAD,UAEGY,EAMA,eAACN,EAAA,EAAD,CAAMC,WAAS,EAACqG,QAAS,EAAzB,UACC,cAACtG,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAf,SACC,eAACW,EAAA,EAAD,CAAYzC,QAAQ,KAApB,UACC,cAAC+H,GAAD,CAAgBjL,KAAMuL,EAClBnJ,QAAS,kBAtBnBkJ,EAAYxM,QACZ0M,GAAkB,MAsBZ,cAAC7G,EAAA,EAAD,CACCxB,QAAS,WA5BhBqI,GAAkB,IA2BZ,SAEC,cAACjD,EAAA,EAAD,MALF,cAUAxI,EAAO6H,KAAI,SAACmD,EAAOjE,GAAW,IAAD,EAC7B,OACC,cAACtI,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACC,eAACuD,EAAA,EAAD,CAAM5E,UAAW,aAAjB,UACC,eAAC6E,EAAA,EAAD,WACC,cAAC9C,EAAA,EAAD,CAAYzC,QAAQ,KACjBU,UAAW,aAEd,cAAC+B,EAAA,EAAD,CACCzC,QAAQ,QACRwF,wBAAyB,CACxBC,OAAM,UAAEoC,EAAMvG,aAAR,aAAE,EAAaoE,UACpB,EAAG,WAIP,qBAAKhF,UAAW,aAChB,eAACiF,EAAA,EAAD,WACC,cAAC1D,GAAD,CACCS,QAAO,0CAAqCmF,EAAMlJ,KAA3C,KACPyD,UAAW,kBAvEU,2CAuEJmG,CAChBV,EAAM1J,OAER,cAAC6J,GAAD,CACC9I,QAAS,kBAAMkJ,EACdxM,IACDqM,QAASJ,EAAM1J,YAxBYyF,SAnBlC,sBAAKiC,MAAO,CAACC,OAAQ,QAArB,oCAEC,cAAC3B,GAAD,SC3CN,IAAMvB,GAAiB,IAAID,GAEZ,SAAS6F,KAAY,IAE5B5M,EAAmBmD,qBAAWtD,GAA9BG,gBAF2B,EAIFG,mBAAS,IAJP,mBAI3BS,EAJ2B,KAIjBiM,EAJiB,cAMnBrE,EANmB,8EAMlC,WAA6Ba,GAA7B,SAAAtH,EAAA,kEACC8K,EADD,SACmB7F,GAAegB,MAAMqB,GADxC,8EANkC,kEAclC,WAA8B9G,GAA9B,SAAAR,EAAA,sEACOiF,GAAewC,QAAQjH,GAD9B,OAECiG,EAAcxI,GAFf,4CAdkC,sBAmBlC,OATA2F,qBAAU,WACT6C,EAAcxI,KACZ,CAACA,IAQH,cAACZ,EAAD,UACC,eAACM,EAAA,EAAD,CAAMC,WAAS,EAACqG,QAAS,EAAzB,UACC,cAACtG,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAf,SACC,cAACW,EAAA,EAAD,CAAYzC,QAAQ,KAApB,wBAIAxD,EAASkI,KAAI,SAAC1I,EAAS4H,GACvB,OACC,cAACtI,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACC,eAACuD,EAAA,EAAD,CAAM5E,UAAW,aAAjB,UACC,cAAC6E,EAAA,EAAD,UACC,cAAC9C,EAAA,EAAD,CAAYzC,QAAQ,KAApB,SACEhE,EAAQ2C,SAGX,qBAAK+B,UAAW,aAChB,cAACiF,EAAA,EAAD,UACC,cAAC1D,GAAD,CACCS,QAAO,0CAAqC1G,EAAQ2C,KAA7C,KACPyD,UAAW,kBAxCc,2CAwCRsG,CAChB1M,EAAQmC,aAZkByF,W,IC1ChB+E,G,kMAEpB,+CAAAhL,EAAA,2DAAYC,EAAZ,+BAAyB,OACLC,MAAMD,GAD1B,yCAESL,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMb,MAAxC,sBACN,sBAAAe,EAAA,+EACQ,EAAKF,MAAMb,MAAMmB,MAAM,cAC7BC,OAAOJ,GACPM,WAHF,6CAHH,gCASQX,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMb,MAAxC,sBAA+C,sBAAAe,EAAA,+EAC9C,EAAKF,MAAMb,MAAMsB,WAD6B,6CATvD,gD,+GAcA,WAAWC,GAAX,oBAAAR,EAAA,+EACQJ,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMb,MAAxC,sBAA+C,sBAAAe,EAAA,+EAC9C,EAAKF,MAAMb,MAAMmB,MAAM,MAAMC,OAAOG,GAAIC,SADM,6CADvD,gD,kHAMA,WAAayD,GAAb,oBAAAlE,EAAA,+EACQJ,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMb,MAAxC,sBAA+C,sBAAAe,EAAA,+EAC9C,EAAKF,MAAMb,MAAM0B,IAAIuD,IADyB,6CADvD,gD,kHAMA,WAAa1D,EAAI0D,GAAjB,oBAAAlE,EAAA,+EACQJ,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMb,MAAxC,sBAA+C,sBAAAe,EAAA,+EAC9C,EAAKF,MAAMb,MAAM2B,OAAOJ,EAAI0D,IADkB,6CADvD,gD,qHAMA,WAAc1D,GAAd,oBAAAR,EAAA,+EACQJ,KAAKE,MAAMK,YAAY,KAAMP,KAAKE,MAAMb,MAAxC,sBAA+C,sBAAAe,EAAA,+EAC9C,EAAKF,MAAMb,MAAMmB,MAAM,MAAMC,OAAOG,GAAIK,UADM,6CADvD,gD,4DAlCwClB,GCUnCsL,GAAc,IAAID,GAET,SAASE,GAAc5N,GAAQ,IAAD,EAEpBc,mBAAS,IAFW,mBAErC4C,EAFqC,KAE/BC,EAF+B,KAGrChD,EAAmBmD,qBAAWtD,GAA9BG,gBAiBP,SAASoD,IACRJ,EAAQ,IAGT,OACC,eAACK,EAAA,EAAD,CAAQnC,KAAM7B,EAAM6B,KAAMoC,QAASjE,EAAMiE,QAAzC,UACC,cAACC,EAAA,EAAD,yBAGA,cAACC,EAAA,EAAD,UACC,cAACC,EAAA,EAAD,CACCC,MAAM,YACNnD,MAAOwC,EACPY,SAAU,SAACpC,GAAOyB,EAAQzB,EAAEqC,OAAOrD,YAGrC,eAAC2D,EAAA,EAAD,WACC,cAACC,EAAA,EAAD,CAAQC,QAAQ,YAAYC,QA1B/B,WACC2I,GAAY1I,OAAO,CAClBvB,KAAMA,EACNf,WAAYhC,IAEboD,IACA/D,EAAMiE,WAoBJ,kBACA,cAACa,EAAA,EAAD,CAAQC,QAAQ,YAAYC,QAjC/B,WACCrB,EAAQ,IACRI,IACA/D,EAAMiE,WA8BJ,0BCvCJ,IAAM0J,GAAc,IAAID,GAElBxI,GAAYC,aAAW,SAAAC,GAC5B,MAAO,CACNQ,OAAQ,CACPN,MAAO,QACPO,SAAU,QAEXC,UAAW,CACVR,MAAO,YAKK,SAASuI,GAAe7N,GAEtC,IAAMwF,EAAUN,KAF6B,EAIfpE,mBAAS,IAJM,mBAItCkF,EAJsC,KAI7BC,EAJ6B,OAKrBnF,mBAAS,IALY,mBAKtC4C,EALsC,KAKhCC,EALgC,OAMrB7C,oBAAS,GANY,mBAMtCe,EANsC,KAMhCqE,EANgC,KAgB7C,SAASC,IACRwH,GAAYrK,OAAOtD,EAAM8N,OAAQ,CAChCpK,KAAMA,EACN2C,MAAOL,IAERhG,EAAMiE,UASP,OAtBAqC,qBAAU,WACT,sBAAC,4BAAA5D,EAAA,sEACiBiL,GAAYpH,KAAKvG,EAAM8N,QADxC,OACIlH,EADJ,OAEAX,EAAWW,EAAKP,OAChB1C,EAAQiD,EAAKlD,MAHb,0CAAD,KAKE,CAAC1D,EAAM8N,SAiBT,gCACC,cAACtH,EAAA,EAAD,CAAYxB,QAAS,kBAAMkB,GAAQ,IAAnC,SACC,cAACO,EAAA,EAAD,CAAMC,MAAM,cAEb,cAAC1C,EAAA,EAAD,CAAQnC,KAAMA,EACZoC,QACC,WACCiC,GAAQ,GACRC,KAJJ,SAOC,eAAChC,EAAA,EAAD,CACCsB,UAAWD,EAAQI,OADpB,UAGC,eAACvF,EAAA,EAAD,CAAMC,WAAS,EAACqG,QAAS,EAAzB,UACC,cAACtG,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAtB,SACC,cAACN,EAAA,EAAD,CAAYxB,QAASmB,EAArB,SACC,cAACY,EAAA,EAAD,QAGF,cAAC1G,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAtB,SACC,cAAC1C,EAAA,EAAD,CACCqB,UAAWD,EAAQM,UACnB5E,MAAOwC,EACPY,SAAU,SAACpC,GAAD,OAAOyB,EAAQzB,EAAEqC,OAAOrD,eAKrC,cAACqE,GAAD,CAAQrE,MAAO8E,EAAS1B,SAAU2B,YCrEvC,IAAM0H,GAAc,IAAID,GAET,SAASK,KAAS,IAEzBpN,EAAmBmD,qBAAWtD,GAA9BG,gBAFwB,EAILG,mBAAS,IAJJ,mBAIxBa,EAJwB,KAIjBqM,EAJiB,cAMhBC,EANgB,8EAM/B,WAA0BjE,GAA1B,SAAAtH,EAAA,kEACCsL,EADD,SACgBL,GAAYhF,MAAMqB,GADlC,8EAN+B,sBAU/B1D,qBAAU,WACT2H,EAAWtN,KACT,CAACA,IAZ2B,MAcWG,oBAAS,GAdpB,mBAcxBoN,EAdwB,KAcTC,EAdS,iDAyB/B,WAA2BjL,GAA3B,SAAAR,EAAA,sEACOiL,GAAYxD,QAAQjH,GAD3B,OAEC+K,EAAWtN,GAFZ,4CAzB+B,sBA8B/B,OACC,cAACZ,EAAD,UAEGY,EAMA,eAACN,EAAA,EAAD,CAAMC,WAAS,EAACqG,QAAS,EAAzB,UACC,cAACtG,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAf,SACC,eAACW,EAAA,EAAD,CAAYzC,QAAQ,KAApB,UACC,cAAC6I,GAAD,CAAe/L,KAAMqM,EACfjK,QAAS,kBAtBrBgK,EAAWtN,QACXwN,GAAiB,MAsBX,cAAC3H,EAAA,EAAD,CACCxB,QAAS,WA5BhBmJ,GAAiB,IA2BX,SAEC,cAAC/D,EAAA,EAAD,MALF,aAUAzI,EAAM8H,KAAI,SAAC7C,EAAM+B,GAAW,IAAD,EAC3B,OACC,cAACtI,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACC,eAACuD,EAAA,EAAD,CAAM5E,UAAW,aAAjB,UACC,eAAC6E,EAAA,EAAD,WACC,cAAC9C,EAAA,EAAD,CAAYzC,QAAQ,KACjBU,UAAW,aAEd,cAAC+B,EAAA,EAAD,CACCzC,QAAQ,QACRwF,wBAAyB,CACxBC,OAAM,UAAE5D,EAAKP,aAAP,aAAE,EAAYoE,UACnB,EAAG,WAIP,qBAAKhF,UAAW,aAChB,eAACiF,EAAA,EAAD,WACC,cAAC1D,GAAD,CACCS,QAAO,0CAAqCb,EAAKlD,KAA1C,KACPyD,UAAW,kBAvES,2CAuEHiH,CAChBxH,EAAK1D,OAEP,cAAC2K,GAAD,CACC5J,QAAS,kBAAMgK,EACdtN,IACDmN,OAAQlH,EAAK1D,YAxBcyF,SAnBlC,sBAAKiC,MAAO,CAACC,OAAQ,QAArB,oCAEC,cAAC3B,GAAD,SCpDN,IAAMhE,GAAYC,YAAW,CAC5BkJ,MAAO,CACNC,QAAS,QACTC,UAAW,UAIE,SAASC,KAEvB,IAAMhJ,EAAUN,KAEhB,OACC,cAACnF,EAAD,UACC,cAACM,EAAA,EAAD,CAAMC,WAAS,EAAf,SACC,eAACD,EAAA,EAAD,CAAMuG,MAAI,EAAV,UACC,cAACY,EAAA,EAAD,CAAY/B,UAAWD,EAAQ6I,MAAOtJ,QAAQ,KAA9C,uCAGA,cAACyC,EAAA,EAAD,CAAY/B,UAAWD,EAAQ6I,MAAOtJ,QAAQ,KAA9C,sBAGA,cAACyC,EAAA,EAAD,CAAY/B,UAAWD,EAAQ6I,MAA/B,2KAMA,cAAC7G,EAAA,EAAD,CAAY/B,UAAWD,EAAQ6I,MAA/B,mFAIA,cAAC7G,EAAA,EAAD,CAAY/B,UAAWD,EAAQ6I,MAAOtJ,QAAQ,KAA9C,0DAGA,cAACyC,EAAA,EAAD,CAAY/B,UAAWD,EAAQ6I,MAA/B,iMAMA,cAAC7G,EAAA,EAAD,CAAY/B,UAAWD,EAAQ6I,MAAOtJ,QAAQ,KAA9C,qBAGA,cAACyC,EAAA,EAAD,CAAY/B,UAAWD,EAAQ6I,MAA/B,2OAOA,cAAC7G,EAAA,EAAD,CAAY/B,UAAWD,EAAQ6I,MAAOtJ,QAAQ,KAA9C,kBAGA,cAACyC,EAAA,EAAD,CAAY/B,UAAWD,EAAQ6I,MAA/B,8QCvCL,IA4DeI,GA5DA,CACd,CACCC,KAAM,UACNC,KAAM,SACNC,OAAO,EACPC,KAAM,cAACC,EAAA,EAAD,IACNC,UAAW,cAACzD,GAAD,IACX0D,OAAO,GAER,CACCN,KAAM,cACNC,KAAM,aACNC,OAAO,EACPC,KAAM,cAACI,EAAA,EAAD,IACNF,UAAW,cAAClF,GAAD,IACXmF,OAAO,GAER,CACCN,KAAM,UACNC,KAAM,SACNC,OAAO,EACPC,KAAM,cAACK,EAAA,EAAD,IACNH,UAAW,cAAC1C,GAAD,IACX2C,OAAO,GAER,CACCN,KAAM,UACNC,KAAM,SACNC,OAAO,EACPC,KAAM,cAACM,EAAA,EAAD,IACNJ,UAAW,cAAC9B,GAAD,IACX+B,OAAO,GAER,CACCN,KAAM,SACNC,KAAM,QACNC,OAAO,EACPC,KAAM,cAACO,EAAA,EAAD,IACNL,UAAW,cAAChB,GAAD,IACXiB,OAAO,EACPK,SAAS,GAEV,CACCX,KAAM,YACNC,KAAM,kBACNC,OAAO,EACPC,KAAM,cAACS,EAAA,EAAD,IACNP,UAAW,cAACxB,GAAD,IACXyB,OAAO,GAER,CACCN,KAAM,IACNC,KAAM,eACNC,OAAO,EACPG,UAAW,cAACP,GAAD,IACXK,KAAM,cAACpI,EAAA,EAAD,IACNuI,OAAO,ICtEM,SAASO,KAEvB,OACC,cAAC,IAAD,UAEEd,GAAOhF,KAAI,SAAA+F,GACV,OACC,cAAC,IAAD,CAAwBd,KAAMc,EAAMd,KAChCE,MAAOY,EAAMZ,MADjB,SAEEY,EAAMT,WAFIS,EAAMb,W,2CCAlBzJ,GAAYC,aAAW,SAACC,GAAD,MAAY,CACxCC,KAAM,CACLwD,SAAU,GAEXD,KAAM,CACLC,SAAU,GAEXC,WAAY,CACXC,YAAa,GACbC,YAAa,IAEdC,WAAY,CACXvC,MAAO,aAIM,SAAS+I,GAAOzP,GAE9B,IAAMwF,EAAUN,KAEhB,OACC,cAACwK,GAAA,EAAD,CAAQC,SAAS,SAAjB,SACC,eAACC,GAAA,EAAD,WACC,cAACpJ,EAAA,EAAD,CAAYE,MAAM,UAAUjB,UAAWD,EAAQsD,WAC5C+G,KAAK,QAAQ7K,QAAS,WAAOhF,EAAM8P,eADtC,SAEC,cAACC,GAAA,EAAD,MAED,cAACvI,EAAA,EAAD,CAAY/B,UAAWD,EAAQoD,KAA/B,sBAGA,cAACM,GAAD,S,0EC3BEhE,GAAYC,YAAW,CAC5B6K,KAAM,CACLnK,SAAU,OACVP,MAAO,KAER2K,SAAU,CACT3K,MAAO,QAER4K,KAAM,CACL5B,QAAS,UAII,SAAS6B,GAAUnQ,GAEjC,IAAMwF,EAAUN,KACVkL,EAAWC,cAEjB,OACC,cAACC,GAAA,EAAD,CACCvL,QAAQ,YACRlD,KAAM7B,EAAM6B,KACZ0O,OAAQ,OACRtM,QAASjE,EAAMiE,QAJhB,SAMC,cAACuM,GAAA,EAAD,CAAMzB,UAAU,MAAMtJ,UAAWD,EAAQwK,KAAzC,SAEEvB,GAAOhF,KAAI,SAAC+F,EAAO7G,GAEA,IAAD,EAAjB,OAAI6G,EAAMR,MAER,gCACC,eAACyB,GAAA,EAAD,CACC1B,UAAW2B,KACXC,QAAM,EACNC,GAAIpB,EAAMd,KACVjJ,UAAWD,EAAQyK,SACnBY,SAAUrB,EAAMd,OAChB0B,EAASU,SANV,UAQC,cAACC,GAAA,EAAD,oBACEvB,EAAMX,YADR,QACgB,cAACmC,GAAA,EAAD,MAEhB,cAACC,GAAA,EAAD,CAAcC,QAAS1B,EAAMb,UAG7Ba,EAAMH,QAAU,cAAC8B,GAAA,EAAD,IAAa,KAfrBxI,GAqBL,+B,gFCJEyI,OA3Cf,WAEC,IAAMC,EAAkBC,aAAc,gCAEhClM,EAAQ3E,IAAM8Q,SACnB,kBACCC,aAAY,CACXC,QAAS,CACRrK,KAAMiK,EAAkB,OAAS,aAGpC,CAACA,IAXY,EAcWvQ,oBAAS,GAdpB,mBAcP4Q,EAdO,KAcFC,EAdE,KAgBd,OACC,qBAAKlM,UAAU,MAAf,SACC,eAAC,KAAD,CAAkBL,MAAOA,EAAzB,UACC,cAACwM,GAAA,EAAD,IACA,cAACnJ,GAAD,UACC,cAAC5H,EAAD,UACC,eAAC,KAAD,WACC,cAACsP,GAAD,CAAWtO,KAAM6P,EACZzN,QAAS,WAAO0N,GAAU,MAC/B,cAAClC,GAAD,CAAQK,YAAa,WAAO6B,GAAU,MACtC,cAACE,GAAA,EAAD,UACC,cAACxR,EAAA,EAAD,CAAMC,WAAS,EAACqG,QAAS,EAAzB,SACC,cAACtG,EAAA,EAAD,CAAMuG,MAAI,EAACC,GAAI,GAAf,SACC,cAACiL,GAAA,EAAD,UACC,cAACvC,GAAD,yBCpCIwC,GAbS,SAAAC,GACnBA,GAAeA,aAAuBC,UACzC,8BAAqBnQ,MACpB,YAAgD,IAA9CoQ,EAA6C,EAA7CA,OAAQC,EAAqC,EAArCA,OAAQC,EAA6B,EAA7BA,OAAQC,EAAqB,EAArBA,OAAQC,EAAa,EAAbA,QACjCJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCHZO,IAASC,OACR,cAAC,GAAD,IACAC,SAASC,eAAe,SAMzBX,O","file":"static/js/main.7e04502f.chunk.js","sourcesContent":["import React from 'react'\nimport {Box, Grid} from '@material-ui/core'\n\nexport default function Page(props) {\n\n\treturn (\n\t\t<Box p={5} pt={5} mt={3}>\n\t\t\t<Grid container>\n\t\t\t\t{props.children}\n\t\t\t</Grid>\n\t\t</Box>\n\t)\n\n}\n","import React, {useState} from 'react'\n\nexport const SelectedJournalContext = React.createContext({\n\tselectedJournal: 0,\n\tsetSelectedJournal: () => {},\n})\n\nexport default function SelectedJournalProvider(props) {\n\n\tconst [journal, setJournal] = useState(0)\n\n\treturn (\n\t\t<SelectedJournalContext.Provider\n\t\t\tvalue={{\n\t\t\t\tselectedJournal: journal,\n\t\t\t\tsetSelectedJournal: setJournal,\n\t\t\t}}\n\t\t>\n\t\t\t{props.children}\n\t\t</SelectedJournalContext.Provider>\n\t)\n}\n","import Dexie from 'dexie'\n\nconst db = new Dexie('rpg-notes')\ndb.version(1).stores({\n\tjournals: '++id,&name',\n\tcharacters: '++id,name,npc,journal_id',\n\tplaces: '++id,name,journal_id',\n\tquests: '++id,name,complete,journal_id',\n\titems: '++id,name,journal_id',\n\tevents: '++id,name,journal_id',\n})\ndb.open().then(() => {\n\tconsole.log('database opened')\n}).catch(function(e) {\n\tconsole.error('Open failed: ' + e.stack)\n})\n\nexport default class Service {\n\tconstructor() {\n\t\tthis._store = db\n\t}\n\n\tget store() {\n\t\treturn this._store\n\t}\n\n\tset store(store) {\n\t\tthis._store = store\n\t}\n\n}\n","import Service from './Service'\n\nexport default class CharacterService extends Service {\n\n\tasync index(journal_id = null) {\n\t\tif (journal_id && !isNaN(journal_id)) {\n\t\t\treturn this.store.transaction('rw', this.store.characters,\n\t\t\t\tasync () => {\n\t\t\t\t\treturn this.store.characters.where('journal_id').\n\t\t\t\t\t\tequals(journal_id).\n\t\t\t\t\t\tsortBy('npc')\n\t\t\t\t})\n\t\t}\n\t\treturn this.store.transaction('rw', this.store.characters, async () => {\n\t\t\treturn this.store.characters.toArray()\n\t\t})\n\t}\n\n\tasync show(id) {\n\t\treturn this.store.transaction('rw', this.store.characters, async () => {\n\t\t\treturn this.store.characters.where('id').equals(id).first()\n\t\t})\n\t}\n\n\tasync create(character) {\n\t\treturn this.store.transaction('rw', this.store.characters, async () => {\n\t\t\treturn this.store.characters.add(character)\n\t\t})\n\t}\n\n\tasync update(id, character) {\n\t\treturn this.store.transaction('rw', this.store.characters, async () => {\n\t\t\treturn this.store.characters.update(id, character)\n\t\t})\n\t}\n\n\tasync destroy(id) {\n\t\treturn this.store.transaction('rw', this.store.characters, async () => {\n\t\t\treturn this.store.characters.where('id').equals(id).delete()\n\t\t})\n\t}\n\n}\n","import React, {useContext, useState} from 'react'\nimport {\n\tButton,\n\tCheckbox,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogTitle,\n\tFormControl,\n\tFormControlLabel,\n\tTextField,\n} from '@material-ui/core'\nimport CharacterService from '../../Services/CharacterService'\nimport {SelectedJournalContext} from '../../Contexts/SelectedJournalProvider'\n\nconst characterService = new CharacterService()\n\nexport default function AddCharacterDialog(props) {\n\n\tconst [name, setName] = useState('')\n\tconst [npc, setNpc] = useState(false)\n\tconst {selectedJournal} = useContext(SelectedJournalContext)\n\n\tfunction cancel() {\n\t\tsetName('')\n\t\tclear()\n\t\tprops.onClose()\n\t}\n\n\tfunction submit() {\n\t\tcharacterService.create({\n\t\t\tname: name,\n\t\t\tnpc: !!npc,\n\t\t\tjournal_id: selectedJournal,\n\t\t})\n\t\tclear()\n\t\tprops.onClose()\n\t}\n\n\tfunction clear() {\n\t\tsetName('')\n\t\tsetNpc(false)\n\t}\n\n\treturn (\n\t\t<Dialog open={props.open} onClose={props.onClose}>\n\t\t\t<DialogTitle>\n\t\t\t\tAdd a Character\n\t\t\t</DialogTitle>\n\t\t\t<DialogContent>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"Character Name\"\n\t\t\t\t\tvalue={name}\n\t\t\t\t\tonChange={(e) => {setName(e.target.value)}}\n\t\t\t\t/>\n\n\t\t\t\t<FormControl>\n\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\tlabel=\"NPC\"\n\t\t\t\t\t\t\t\tchecked={npc}\n\t\t\t\t\t\t\t\tonChange={e => {\n\t\t\t\t\t\t\t\t\tsetNpc(!!e.target.checked)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlabel=\"NPC\"\n\t\t\t\t\t/>\n\t\t\t\t</FormControl>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button variant=\"contained\" onClick={submit}>Save</Button>\n\t\t\t\t<Button variant=\"contained\" onClick={cancel}>Cancel</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t)\n}\n","import React from 'react'\nimport ReactQuill from 'react-quill'\nimport {makeStyles} from '@material-ui/core'\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\troot: {\n\t\t\twidth: '100%',\n\t\t},\n\t}\n})\n\nexport default function Editor(props) {\n\n\tconst classes = useStyles()\n\n\tconst modules = {\n\t\ttoolbar: false,\n\t}\n\n\treturn (\n\t\t<ReactQuill\n\t\t\tclassName={classes.root}\n\t\t\tvalue={props.value}\n\t\t\tonChange={props.onChange}\n\t\t\ttheme=\"snow\"\n\t\t\tmodules={modules}\n\t\t/>\n\t)\n\n}\n","import React, {useEffect, useState} from 'react'\nimport {\n\tCheckbox,\n\tDialog,\n\tDialogContent,\n\tFormControlLabel,\n\tGrid,\n\tIconButton,\n\tmakeStyles,\n\tTextField,\n} from '@material-ui/core'\nimport CharacterService from '../../Services/CharacterService'\nimport {Info, Save} from '@material-ui/icons'\nimport Editor from '../Editor'\n\nconst characterService = new CharacterService()\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\tdialog: {\n\t\t\twidth: '800px',\n\t\t\tmaxWidth: '100%',\n\t\t},\n\t\ttextField: {\n\t\t\twidth: '100%',\n\t\t},\n\t}\n})\n\nexport default function EditCharacterDialog(props) {\n\n\tconst classes = useStyles()\n\n\tconst [content, setContent] = useState('')\n\tconst [name, setName] = useState('')\n\tconst [open, setOpen] = useState(false)\n\tconst [npc, setNpc] = useState(false)\n\n\tuseEffect(() => {\n\t\t(async function() {\n\t\t\tlet character = await characterService.show(props.characterId)\n\t\t\tsetContent(character.notes)\n\t\t\tsetName(character.name)\n\t\t\tsetNpc(character.npc)\n\t\t})()\n\t}, [props.characterId])\n\n\tfunction saveAndClose() {\n\t\tcharacterService.update(props.characterId, {\n\t\t\tname: name,\n\t\t\tnotes: content,\n\t\t\tnpc: npc,\n\t\t})\n\t\tprops.onClose()\n\t}\n\n\t/*function cancelAndClose(){\n\t\tsetContent(character.notes)\n\t\tsetName(character.name)\n\t\tsetNpc(character.npc)\n\t\tprops.onClose()\n\t}*/\n\n\treturn (\n\t\t<div>\n\t\t\t<IconButton onClick={() => setOpen(true)}>\n\t\t\t\t<Info color=\"primary\"/>\n\t\t\t</IconButton>\n\t\t\t<Dialog open={open}\n\t\t\t\t\tonClose={\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\tsetOpen(false)\n\t\t\t\t\t\t\tsaveAndClose()\n\t\t\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<DialogContent\n\t\t\t\t\tclassName={classes.dialog}\n\t\t\t\t>\n\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t<Grid item xs={3} md={1}>\n\t\t\t\t\t\t\t<IconButton onClick={saveAndClose}>\n\t\t\t\t\t\t\t\t<Save/>\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={9} md={8}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\n\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12} md={3}>\n\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\tlabel=\"NPC\"\n\t\t\t\t\t\t\t\t\t\tchecked={npc}\n\t\t\t\t\t\t\t\t\t\tonChange={e => {\n\t\t\t\t\t\t\t\t\t\t\tsetNpc(!!e.target.checked)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabel=\"NPC\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Editor value={content} onChange={setContent}/>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t</div>\n\t)\n\n}\n","import React, {useState} from 'react'\nimport {\n\tButton,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogContentText,\n\tIconButton,\n\tTypography,\n} from '@material-ui/core'\nimport {Delete} from '@material-ui/icons'\n\nexport default function Confirm(props) {\n\n\tconst [open, setOpen] = useState(false)\n\n\tfunction answer(confirmed = false) {\n\t\tif (confirmed) {\n\t\t\tprops.onConfirm()\n\t\t}\n\t\tsetOpen(false)\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t{\n\t\t\t\tprops.type === 'button' ?\n\t\t\t\t\t<Button onClick={() => setOpen(true)}>\n\t\t\t\t\t\t{props.activator ?? 'Delete'}\n\t\t\t\t\t</Button>\n\t\t\t\t\t:\n\t\t\t\t\t<IconButton onClick={() => setOpen(true)}>\n\t\t\t\t\t\t{props.activator ?? <Delete color=\"error\"/>}\n\t\t\t\t\t</IconButton>\n\t\t\t}\n\t\t\t<Dialog open={open} onClose={() => answer(false)}>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogContentText>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tprops.message ?? 'Are you sure?'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</DialogContentText>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button variant=\"contained\"\n\t\t\t\t\t\t\tonClick={() => answer(true)}>Confirm</Button>\n\t\t\t\t\t<Button variant=\"contained\"\n\t\t\t\t\t\t\tonClick={() => answer(false)}>Cancel</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</div>\n\t)\n\n}\n","import Service from './Service'\n\nexport default class JournalService extends Service {\n\n\tasync index() {\n\t\treturn this.store.transaction('rw', this.store.journals, async () => {\n\t\t\treturn this.store.journals.toArray()\n\t\t})\n\t}\n\n\tasync show(id) {\n\t\treturn this.store.transaction('rw', this.store.journals, async () => {\n\t\t\treturn this.store.journals.where('id').equals(id).first()\n\t\t})\n\t}\n\n\tasync create(journal) {\n\t\treturn this.store.transaction('rw', this.store.journals, async () => {\n\t\t\treturn this.store.journals.add(journal)\n\t\t})\n\t}\n\n\tasync update(id, journal) {\n\t\treturn this.store.transaction('rw', this.store.journals, async () => {\n\t\t\treturn this.store.journals.update(id, journal)\n\t\t})\n\t}\n\n\tasync destroy(id) {\n\t\treturn this.store.transaction('rw', this.store.journals, async () => {\n\t\t\treturn this.store.journals.where('id').equals(id).delete()\n\t\t})\n\t}\n\n}\n","import React, {useState} from 'react'\nimport {\n\tButton,\n\tDialog,\n\tDialogContent,\n\tGrid,\n\tInputLabel,\n\tTextField,\n} from '@material-ui/core'\nimport JournalService from '../Services/JournalService'\n\nconst journalService = new JournalService()\n\nexport default function AddJournalDialog(props) {\n\n\tconst [name, setName] = useState('')\n\tconst [validation, setValidation] = useState('')\n\n\tasync function handleSubmit(e) {\n\n\t\te.preventDefault()\n\n\t\ttry {\n\t\t\tawait journalService.create({\n\t\t\t\tname: name,\n\t\t\t})\n\t\t\tsetName('')\n\t\t\tprops.onClose(true)\n\t\t} catch (e) {\n\t\t\tsetValidation('Check that the journal name is unique')\n\t\t}\n\n\t}\n\n\tfunction handleClose() {\n\t\tsetName('')\n\t\tprops.onClose()\n\t}\n\n\t//TODO change to Dialog for consistency\n\treturn (\n\t\t<Dialog open={props.open} onClose={handleClose}>\n\t\t\t<DialogContent>\n\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t<Grid container spacing={4} p={5} m={5} alignItems=\"center\">\n\t\t\t\t\t\t<Grid item xs={12} sm={8}>\n\t\t\t\t\t\t\t<InputLabel id=\"journal-name-input-label\">Create\n\t\t\t\t\t\t\t\tJournal</InputLabel>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\t\terror={!!validation}\n\t\t\t\t\t\t\t\thelperText={validation}\n\t\t\t\t\t\t\t\tonChange={\n\t\t\t\t\t\t\t\t\t(e) => {\n\t\t\t\t\t\t\t\t\t\tsetName(e.target.value)\n\t\t\t\t\t\t\t\t\t\tsetValidation('')\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12} sm={4}>\n\t\t\t\t\t\t\t<Button color=\"primary\" variant=\"contained\"\n\t\t\t\t\t\t\t\t\ttype=\"submit\">Save</Button>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</form>\n\t\t\t</DialogContent>\n\t\t</Dialog>\n\t)\n\n}\n","import React, {useEffect, useState} from 'react'\nimport JournalService from '../Services/JournalService'\n\nexport const JournalListContext = React.createContext({\n\tjournalList: [],\n\tfetchJournalList: () => {},\n})\n\nexport default function JournalListProvider(props) {\n\n\tconst journalService = new JournalService()\n\n\tconst [journalList, setJournalList] = useState([])\n\n\tuseEffect(() => {\n\t\tfetchJournalList()\n\t\t// eslint-disable-next-line\n\t}, [journalList])\n\n\tasync function fetchJournalList() {\n\t\tsetJournalList(await journalService.index())\n\t}\n\n\treturn (\n\t\t<JournalListContext.Provider\n\t\t\tvalue={{\n\t\t\t\tjournalList: journalList,\n\t\t\t\tfetchJournalList: fetchJournalList,\n\t\t\t}}\n\t\t>\n\t\t\t{props.children}\n\t\t</JournalListContext.Provider>\n\t)\n\n}\n","import React, {useContext, useEffect, useState} from 'react'\nimport {\n\tFormControl,\n\tIconButton,\n\tmakeStyles,\n\tMenuItem,\n\tSelect,\n} from '@material-ui/core'\nimport {Add} from '@material-ui/icons'\nimport AddJournalDialog from './AddJournalDialog'\nimport {SelectedJournalContext} from '../Contexts/SelectedJournalProvider'\nimport {JournalListContext} from '../Contexts/JournalListProvider'\n\nconst useStyles = makeStyles((theme) => ({\n\n\tgrow: {\n\t\tflexGrow: 1,\n\t},\n\tmenuButton: {\n\t\tmarginLeft: -12,\n\t\tmarginRight: 20,\n\t},\n\tselectRoot: {\n\t\tcolor: 'white',\n\t\tflexGrow: 1,\n\t},\n}))\n\nexport default function JournalSelector() {\n\n\tconst classes = useStyles()\n\n\tconst {selectedJournal, setSelectedJournal} = useContext(\n\t\tSelectedJournalContext)\n\n\tconst {journalList, fetchJournalList} = useContext(JournalListContext)\n\n\tasync function fetchJournals() {\n\t\tfetchJournalList()\n\t}\n\n\tuseEffect(() => {\n\t\tfetchJournalList()\n\t\t// eslint-disable-next-line\n\t}, [])\n\n\tconst [addJournalDialog, setAddJournalDialog] = useState(false)\n\n\tfunction openAddJournalDialog() {\n\t\tsetAddJournalDialog(true)\n\t}\n\n\tfunction closeAddJournalDialog(resync = false) {\n\t\tsetAddJournalDialog(false)\n\t\tif (resync) {\n\t\t\tfetchJournals()\n\t\t}\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<FormControl className={classes.selectRoot}>\n\t\t\t\t<Select\n\t\t\t\t\tclassName={classes.selectRoot}\n\t\t\t\t\tvalue={selectedJournal}\n\t\t\t\t\t//displayEmpty\n\t\t\t\t\tonChange={(e) => {setSelectedJournal(e.target.value)}}>\n\t\t\t\t\t<MenuItem disabled value={0}>Select a Journal</MenuItem>\n\t\t\t\t\t{\n\t\t\t\t\t\tjournalList.map((journal, i) => {\n\t\t\t\t\t\t\treturn <MenuItem key={i}\n\t\t\t\t\t\t\t\t\t\t\t value={journal.id}>{journal.name}</MenuItem>\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t\t<IconButton className={classes.grow} color=\"inherit\"\n\t\t\t\t\t\tonClick={openAddJournalDialog}>\n\t\t\t\t<Add/>\n\t\t\t</IconButton>\n\t\t\t<AddJournalDialog\n\t\t\t\topen={addJournalDialog}\n\t\t\t\tonClose={closeAddJournalDialog}\n\t\t\t/>\n\t\t</div>\n\t)\n\n}\n","import React, {useContext, useEffect, useState} from 'react'\nimport Page from '../Components/Page'\nimport {SelectedJournalContext} from '../Contexts/SelectedJournalProvider'\nimport CharacterService from '../Services/CharacterService'\nimport {\n\tCard,\n\tCardActions,\n\tCardContent,\n\tGrid,\n\tIconButton,\n\tTypography,\n} from '@material-ui/core'\nimport {AddOutlined} from '@material-ui/icons'\nimport AddCharacterDialog from '../Components/Characters/AddCharacterDialog'\nimport EditCharacterDialog from '../Components/Characters/EditCharacterDialog'\nimport Confirm from '../Components/Confirm'\nimport JournalSelector from '../Components/JournalSelector'\n\nconst characterService = new CharacterService()\n\nexport default function Characters() {\n\n\tconst {selectedJournal} = useContext(SelectedJournalContext)\n\n\tconst [characters, setCharacters] = useState([])\n\n\tasync function fetchCharacters(journalId) {\n\t\tsetCharacters(await characterService.index(journalId))\n\t}\n\n\tuseEffect(() => {\n\t\tfetchCharacters(selectedJournal)\n\t}, [selectedJournal])\n\n\tconst [addCharacterDialog, setAddCharacterDialog] = useState(false)\n\n\tfunction openAddCharacterDialog() {\n\t\tsetAddCharacterDialog(true)\n\t}\n\n\tfunction closeAddCharacterDialog() {\n\t\tfetchCharacters(selectedJournal)\n\t\tsetAddCharacterDialog(false)\n\t}\n\n\tasync function destroyCharacter(id) {\n\t\tawait characterService.destroy(id)\n\t\tfetchCharacters(selectedJournal)\n\t}\n\n\treturn (\n\t\t<Page>\n\t\t\t{\n\t\t\t\t!selectedJournal ?\n\t\t\t\t\t<div style={{margin: 'auto'}}>\n\t\t\t\t\t\tPlease Select a Journal\n\t\t\t\t\t\t<JournalSelector/>\n\t\t\t\t\t</div>\n\t\t\t\t\t:\n\t\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Typography variant=\"h4\">\n\t\t\t\t\t\t\t\t<AddCharacterDialog open={addCharacterDialog}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClose={() => closeAddCharacterDialog()}/>\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tonClick={() => openAddCharacterDialog()}>\n\t\t\t\t\t\t\t\t\t<AddOutlined/>\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\tCharacters\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t{characters.map((character, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} key={index}>\n\t\t\t\t\t\t\t\t\t<Card className={'fullHeight'}>\n\t\t\t\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"h5\">\n\t\t\t\t\t\t\t\t\t\t\t\t{character.name}\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"body2\">\n\t\t\t\t\t\t\t\t\t\t\t\t{character.npc ? 'NPC' : 'PC'}\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t__html: character.notes?.substring(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t0, 300),\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t\t\t<div className={'flexGrow'}/>\n\t\t\t\t\t\t\t\t\t\t<CardActions>\n\t\t\t\t\t\t\t\t\t\t\t<Confirm\n\t\t\t\t\t\t\t\t\t\t\t\tmessage={`Are you sure you want to delete ${character.name}?`}\n\t\t\t\t\t\t\t\t\t\t\t\tonConfirm={() => destroyCharacter(\n\t\t\t\t\t\t\t\t\t\t\t\t\tcharacter.id)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<EditCharacterDialog\n\t\t\t\t\t\t\t\t\t\t\t\tonClose={() => fetchCharacters(\n\t\t\t\t\t\t\t\t\t\t\t\t\tselectedJournal)}\n\t\t\t\t\t\t\t\t\t\t\t\tcharacterId={character.id}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</CardActions>\n\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Grid>\n\t\t\t}\n\t\t</Page>\n\t)\n}\n","import Service from './Service'\n\nexport default class QuestService extends Service {\n\n\tasync index(journal_id = null) {\n\t\tif (journal_id && !isNaN(journal_id)) {\n\t\t\treturn this.store.transaction('rw', this.store.quests,\n\t\t\t\tasync () => {\n\t\t\t\t\treturn this.store.quests.where('journal_id').\n\t\t\t\t\t\tequals(journal_id).\n\t\t\t\t\t\tsortBy('complete')\n\t\t\t\t})\n\t\t}\n\t\treturn this.store.transaction('rw', this.store.quests, async () => {\n\t\t\treturn this.store.quests.toArray()\n\t\t})\n\t}\n\n\tasync show(id) {\n\t\treturn this.store.transaction('rw', this.store.quests, async () => {\n\t\t\treturn this.store.quests.where('id').equals(id).first()\n\t\t})\n\t}\n\n\tasync create(quest) {\n\t\treturn this.store.transaction('rw', this.store.quests, async () => {\n\t\t\treturn this.store.quests.add(quest)\n\t\t})\n\t}\n\n\tasync update(id, quest) {\n\t\treturn this.store.transaction('rw', this.store.quests, async () => {\n\t\t\treturn this.store.quests.update(id, quest)\n\t\t})\n\t}\n\n\tasync destroy(id) {\n\t\treturn this.store.transaction('rw', this.store.quests, async () => {\n\t\t\treturn this.store.quests.where('id').equals(id).delete()\n\t\t})\n\t}\n\n}\n","import React, {useContext, useState} from 'react'\nimport {\n\tButton,\n\tCheckbox,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogTitle,\n\tFormControl,\n\tFormControlLabel,\n\tTextField,\n} from '@material-ui/core'\nimport QuestService from '../../Services/QuestService'\nimport {SelectedJournalContext} from '../../Contexts/SelectedJournalProvider'\n\nconst questService = new QuestService()\n\nexport default function AddQuestDialog(props) {\n\n\tconst [name, setName] = useState('')\n\tconst [complete, setComplete] = useState(false)\n\tconst {selectedJournal} = useContext(SelectedJournalContext)\n\n\tfunction cancel() {\n\t\tsetName('')\n\t\tclear()\n\t\tprops.onClose()\n\t}\n\n\tfunction submit() {\n\t\tquestService.create({\n\t\t\tname: name,\n\t\t\tcomplete: !!complete,\n\t\t\tjournal_id: selectedJournal,\n\t\t})\n\t\tclear()\n\t\tprops.onClose()\n\t}\n\n\tfunction clear() {\n\t\tsetName('')\n\t\tsetComplete(false)\n\t}\n\n\treturn (\n\t\t<Dialog open={props.open} onClose={props.onClose}>\n\t\t\t<DialogTitle>\n\t\t\t\tAdd a Quest\n\t\t\t</DialogTitle>\n\t\t\t<DialogContent>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"Quest Name\"\n\t\t\t\t\tvalue={name}\n\t\t\t\t\tonChange={(e) => {setName(e.target.value)}}\n\t\t\t\t/>\n\n\t\t\t\t<FormControl>\n\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\tlabel=\"Complete\"\n\t\t\t\t\t\t\t\tchecked={complete}\n\t\t\t\t\t\t\t\tonChange={e => {\n\t\t\t\t\t\t\t\t\tsetComplete(!!e.target.checked)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlabel=\"Complete\"\n\t\t\t\t\t/>\n\t\t\t\t</FormControl>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button variant=\"contained\" onClick={submit}>Save</Button>\n\t\t\t\t<Button variant=\"contained\" onClick={cancel}>Cancel</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t)\n}\n","import React, {useEffect, useState} from 'react'\nimport {\n\tCheckbox,\n\tDialog,\n\tDialogContent,\n\tFormControlLabel,\n\tGrid,\n\tIconButton,\n\tmakeStyles,\n\tTextField,\n} from '@material-ui/core'\nimport QuestService from '../../Services/QuestService'\nimport {Info, Save} from '@material-ui/icons'\nimport Editor from '../Editor'\n\nconst questService = new QuestService()\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\tdialog: {\n\t\t\twidth: '800px',\n\t\t\tmaxWidth: '100%',\n\t\t},\n\t\ttextField: {\n\t\t\twidth: '100%',\n\t\t},\n\t}\n})\n\nexport default function EditQuestDialog(props) {\n\n\tconst classes = useStyles()\n\n\tconst [content, setContent] = useState('')\n\tconst [name, setName] = useState('')\n\tconst [open, setOpen] = useState(false)\n\tconst [complete, setComplete] = useState(false)\n\n\tuseEffect(() => {\n\t\t(async function() {\n\t\t\tlet quest = await questService.show(props.questId)\n\t\t\tsetContent(quest.notes)\n\t\t\tsetName(quest.name)\n\t\t\tsetComplete(quest.complete)\n\t\t})()\n\t}, [props.questId])\n\n\tfunction saveAndClose() {\n\t\tquestService.update(props.questId, {\n\t\t\tname: name,\n\t\t\tnotes: content,\n\t\t\tcomplete: complete,\n\t\t})\n\t\tprops.onClose()\n\t}\n\n\t/*function cancelAndClose(){\n\t\tsetContent(quest.notes)\n\t\tsetName(quest.name)\n\t\tsetComplete(quest.complete)\n\t\tprops.onClose()\n\t}*/\n\n\treturn (\n\t\t<div>\n\t\t\t<IconButton onClick={() => setOpen(true)}>\n\t\t\t\t<Info color=\"primary\"/>\n\t\t\t</IconButton>\n\t\t\t<Dialog open={open}\n\t\t\t\t\tonClose={\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\tsetOpen(false)\n\t\t\t\t\t\t\tsaveAndClose()\n\t\t\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<DialogContent\n\t\t\t\t\tclassName={classes.dialog}\n\t\t\t\t>\n\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t<Grid item xs={3} md={1}>\n\t\t\t\t\t\t\t<IconButton onClick={saveAndClose}>\n\t\t\t\t\t\t\t\t<Save/>\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={9} md={8}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\n\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12} md={3}>\n\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\tlabel=\"Complete\"\n\t\t\t\t\t\t\t\t\t\tchecked={complete}\n\t\t\t\t\t\t\t\t\t\tonChange={e => {\n\t\t\t\t\t\t\t\t\t\t\tsetComplete(!!e.target.checked)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabel=\"Complete\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Editor value={content} onChange={setContent}/>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t</div>\n\t)\n\n}\n","import React, {useContext, useEffect, useState} from 'react'\nimport Page from '../Components/Page'\nimport {SelectedJournalContext} from '../Contexts/SelectedJournalProvider'\nimport QuestService from '../Services/QuestService'\nimport {\n\tCard,\n\tCardActions,\n\tCardContent,\n\tGrid,\n\tIconButton,\n\tTypography,\n} from '@material-ui/core'\nimport {AddOutlined, Done, PriorityHigh} from '@material-ui/icons'\nimport AddQuestDialog from '../Components/Quests/AddQuestDialog'\nimport EditQuestDialog from '../Components/Quests/EditQuestDialog'\nimport Confirm from '../Components/Confirm'\nimport JournalSelector from '../Components/JournalSelector'\n\nconst questService = new QuestService()\n\nexport default function Quests() {\n\n\tconst {selectedJournal} = useContext(SelectedJournalContext)\n\n\tconst [quests, setQuests] = useState([])\n\n\tasync function fetchQuests(journalId) {\n\t\tsetQuests(await questService.index(journalId))\n\t}\n\n\tuseEffect(() => {\n\t\tfetchQuests(selectedJournal)\n\t}, [selectedJournal])\n\n\tconst [addQuestDialog, setAddQuestDialog] = useState(false)\n\n\tfunction openAddQuestDialog() {\n\t\tsetAddQuestDialog(true)\n\t}\n\n\tfunction closeAddQuestDialog() {\n\t\tfetchQuests(selectedJournal)\n\t\tsetAddQuestDialog(false)\n\t}\n\n\tasync function destroyQuest(id) {\n\t\tawait questService.destroy(id)\n\t\tfetchQuests(selectedJournal)\n\t}\n\n\treturn (\n\t\t<Page>\n\t\t\t{\n\t\t\t\t!selectedJournal ?\n\t\t\t\t\t<div style={{margin: 'auto'}}>\n\t\t\t\t\t\tPlease Select a Journal\n\t\t\t\t\t\t<JournalSelector/>\n\t\t\t\t\t</div>\n\t\t\t\t\t:\n\t\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Typography variant=\"h4\">\n\t\t\t\t\t\t\t\t<AddQuestDialog open={addQuestDialog}\n\t\t\t\t\t\t\t\t\t\t\t\tonClose={() => closeAddQuestDialog()}/>\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tonClick={() => openAddQuestDialog()}>\n\t\t\t\t\t\t\t\t\t<AddOutlined/>\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\tQuests\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t{quests.map((quest, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} key={index}>\n\t\t\t\t\t\t\t\t\t<Card className={'fullHeight'}>\n\t\t\t\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"h5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={'wrapIcon'}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid container direction=\"row\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t  alignItems=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tquest.complete ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Done\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PriorityHigh\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{quest.name}\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t__html: quest.notes?.substring(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t0, 300),\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t\t\t<div className={'flexGrow'}/>\n\t\t\t\t\t\t\t\t\t\t<CardActions>\n\t\t\t\t\t\t\t\t\t\t\t<Confirm\n\t\t\t\t\t\t\t\t\t\t\t\tmessage={`Are you sure you want to delete ${quest.name}?`}\n\t\t\t\t\t\t\t\t\t\t\t\tonConfirm={() => destroyQuest(\n\t\t\t\t\t\t\t\t\t\t\t\t\tquest.id)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<EditQuestDialog\n\t\t\t\t\t\t\t\t\t\t\t\tonClose={() => fetchQuests(\n\t\t\t\t\t\t\t\t\t\t\t\t\tselectedJournal)}\n\t\t\t\t\t\t\t\t\t\t\t\tquestId={quest.id}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</CardActions>\n\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Grid>\n\t\t\t}\n\t\t</Page>\n\t)\n}\n","import Service from './Service'\n\nexport default class PlaceService extends Service {\n\n\tasync index(journal_id = null) {\n\t\tif (journal_id && !isNaN(journal_id)) {\n\t\t\treturn this.store.transaction('rw', this.store.places,\n\t\t\t\tasync () => {\n\t\t\t\t\treturn this.store.places.where('journal_id').\n\t\t\t\t\t\tequals(journal_id).\n\t\t\t\t\t\ttoArray()\n\t\t\t\t})\n\t\t}\n\t\treturn this.store.transaction('rw', this.store.places, async () => {\n\t\t\treturn this.store.places.toArray()\n\t\t})\n\t}\n\n\tasync show(id) {\n\t\treturn this.store.transaction('rw', this.store.places, async () => {\n\t\t\treturn this.store.places.where('id').equals(id).first()\n\t\t})\n\t}\n\n\tasync create(place) {\n\t\treturn this.store.transaction('rw', this.store.places, async () => {\n\t\t\treturn this.store.places.add(place)\n\t\t})\n\t}\n\n\tasync update(id, place) {\n\t\treturn this.store.transaction('rw', this.store.places, async () => {\n\t\t\treturn this.store.places.update(id, place)\n\t\t})\n\t}\n\n\tasync destroy(id) {\n\t\treturn this.store.transaction('rw', this.store.places, async () => {\n\t\t\treturn this.store.places.where('id').equals(id).delete()\n\t\t})\n\t}\n\n}\n","import React, {useContext, useState} from 'react'\nimport {\n\tButton,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogTitle,\n\tTextField,\n} from '@material-ui/core'\nimport PlaceService from '../../Services/PlaceService'\nimport {SelectedJournalContext} from '../../Contexts/SelectedJournalProvider'\n\nconst placeService = new PlaceService()\n\nexport default function AddPlaceDialog(props) {\n\n\tconst [name, setName] = useState('')\n\tconst {selectedJournal} = useContext(SelectedJournalContext)\n\n\tfunction cancel() {\n\t\tsetName('')\n\t\tclear()\n\t\tprops.onClose()\n\t}\n\n\tfunction submit() {\n\t\tplaceService.create({\n\t\t\tname: name,\n\t\t\tjournal_id: selectedJournal,\n\t\t})\n\t\tclear()\n\t\tprops.onClose()\n\t}\n\n\tfunction clear() {\n\t\tsetName('')\n\t}\n\n\treturn (\n\t\t<Dialog open={props.open} onClose={props.onClose}>\n\t\t\t<DialogTitle>\n\t\t\t\tAdd a Place\n\t\t\t</DialogTitle>\n\t\t\t<DialogContent>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"Place Name\"\n\t\t\t\t\tvalue={name}\n\t\t\t\t\tonChange={(e) => {setName(e.target.value)}}\n\t\t\t\t/>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button variant=\"contained\" onClick={submit}>Save</Button>\n\t\t\t\t<Button variant=\"contained\" onClick={cancel}>Cancel</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t)\n}\n","import React, {useEffect, useState} from 'react'\nimport {\n\tDialog,\n\tDialogContent,\n\tGrid,\n\tIconButton,\n\tmakeStyles,\n\tTextField,\n} from '@material-ui/core'\nimport PlaceService from '../../Services/PlaceService'\nimport {Info, Save} from '@material-ui/icons'\nimport Editor from '../Editor'\n\nconst placeService = new PlaceService()\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\tdialog: {\n\t\t\twidth: '800px',\n\t\t\tmaxWidth: '100%',\n\t\t},\n\t\ttextField: {\n\t\t\twidth: '100%',\n\t\t},\n\t}\n})\n\nexport default function EditPlaceDialog(props) {\n\n\tconst classes = useStyles()\n\n\tconst [content, setContent] = useState('')\n\tconst [name, setName] = useState('')\n\tconst [open, setOpen] = useState(false)\n\n\tuseEffect(() => {\n\t\t(async function() {\n\t\t\tlet place = await placeService.show(props.placeId)\n\t\t\tsetContent(place.notes)\n\t\t\tsetName(place.name)\n\t\t})()\n\t}, [props.placeId])\n\n\tfunction saveAndClose() {\n\t\tplaceService.update(props.placeId, {\n\t\t\tname: name,\n\t\t\tnotes: content,\n\t\t})\n\t\tprops.onClose()\n\t}\n\n\t/*function cancelAndClose(){\n\t\tsetContent(place.notes)\n\t\tsetName(place.name)\n\t\tprops.onClose()\n\t}*/\n\n\treturn (\n\t\t<div>\n\t\t\t<IconButton onClick={() => setOpen(true)}>\n\t\t\t\t<Info color=\"primary\"/>\n\t\t\t</IconButton>\n\t\t\t<Dialog open={open}\n\t\t\t\t\tonClose={\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\tsetOpen(false)\n\t\t\t\t\t\t\tsaveAndClose()\n\t\t\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<DialogContent\n\t\t\t\t\tclassName={classes.dialog}\n\t\t\t\t>\n\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t<Grid item xs={3} md={1}>\n\t\t\t\t\t\t\t<IconButton onClick={saveAndClose}>\n\t\t\t\t\t\t\t\t<Save/>\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={9} md={8}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\n\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Editor value={content} onChange={setContent}/>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t</div>\n\t)\n\n}\n","import React, {useContext, useEffect, useState} from 'react'\nimport Page from '../Components/Page'\nimport {SelectedJournalContext} from '../Contexts/SelectedJournalProvider'\nimport PlaceService from '../Services/PlaceService'\nimport {\n\tCard,\n\tCardActions,\n\tCardContent,\n\tGrid,\n\tIconButton,\n\tTypography,\n} from '@material-ui/core'\nimport {AddOutlined} from '@material-ui/icons'\nimport AddPlaceDialog from '../Components/Places/AddPlaceDialog'\nimport EditPlaceDialog from '../Components/Places/EditPlaceDialog'\nimport Confirm from '../Components/Confirm'\nimport JournalSelector from '../Components/JournalSelector'\n\nconst placeService = new PlaceService()\n\nexport default function Places() {\n\n\tconst {selectedJournal} = useContext(SelectedJournalContext)\n\n\tconst [places, setPlaces] = useState([])\n\n\tasync function fetchPlaces(journalId) {\n\t\tsetPlaces(await placeService.index(journalId))\n\t}\n\n\tuseEffect(() => {\n\t\tfetchPlaces(selectedJournal)\n\t}, [selectedJournal])\n\n\tconst [addPlaceDialog, setAddPlaceDialog] = useState(false)\n\n\tfunction openAddPlaceDialog() {\n\t\tsetAddPlaceDialog(true)\n\t}\n\n\tfunction closeAddPlaceDialog() {\n\t\tfetchPlaces(selectedJournal)\n\t\tsetAddPlaceDialog(false)\n\t}\n\n\tasync function destroyPlace(id) {\n\t\tawait placeService.destroy(id)\n\t\tfetchPlaces(selectedJournal)\n\t}\n\n\treturn (\n\t\t<Page>\n\t\t\t{\n\t\t\t\t!selectedJournal ?\n\t\t\t\t\t<div style={{margin: 'auto'}}>\n\t\t\t\t\t\tPlease Select a Journal\n\t\t\t\t\t\t<JournalSelector/>\n\t\t\t\t\t</div>\n\t\t\t\t\t:\n\t\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Typography variant=\"h4\">\n\t\t\t\t\t\t\t\t<AddPlaceDialog open={addPlaceDialog}\n\t\t\t\t\t\t\t\t\t\t\t\tonClose={() => closeAddPlaceDialog()}/>\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tonClick={() => openAddPlaceDialog()}>\n\t\t\t\t\t\t\t\t\t<AddOutlined/>\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\tPlaces\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t{places.map((place, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} key={index}>\n\t\t\t\t\t\t\t\t\t<Card className={'fullHeight'}>\n\t\t\t\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"h5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={'wrapIcon'}>\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t__html: place.notes?.substring(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t0, 300),\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t\t\t<div className={'flexGrow'}/>\n\t\t\t\t\t\t\t\t\t\t<CardActions>\n\t\t\t\t\t\t\t\t\t\t\t<Confirm\n\t\t\t\t\t\t\t\t\t\t\t\tmessage={`Are you sure you want to delete ${place.name}?`}\n\t\t\t\t\t\t\t\t\t\t\t\tonConfirm={() => destroyPlace(\n\t\t\t\t\t\t\t\t\t\t\t\t\tplace.id)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<EditPlaceDialog\n\t\t\t\t\t\t\t\t\t\t\t\tonClose={() => fetchPlaces(\n\t\t\t\t\t\t\t\t\t\t\t\t\tselectedJournal)}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceId={place.id}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</CardActions>\n\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Grid>\n\t\t\t}\n\t\t</Page>\n\t)\n}\n","import Service from './Service'\n\nexport default class EventService extends Service {\n\n\tasync index(journal_id = null) {\n\t\tif (journal_id && !isNaN(journal_id)) {\n\t\t\treturn this.store.transaction('rw', this.store.events,\n\t\t\t\tasync () => {\n\t\t\t\t\treturn this.store.events.where('journal_id').\n\t\t\t\t\t\tequals(journal_id).\n\t\t\t\t\t\ttoArray()\n\t\t\t\t})\n\t\t}\n\t\treturn this.store.transaction('rw', this.store.events, async () => {\n\t\t\treturn this.store.events.toArray()\n\t\t})\n\t}\n\n\tasync show(id) {\n\t\treturn this.store.transaction('rw', this.store.events, async () => {\n\t\t\treturn this.store.events.where('id').equals(id).first()\n\t\t})\n\t}\n\n\tasync create(event) {\n\t\treturn this.store.transaction('rw', this.store.events, async () => {\n\t\t\treturn this.store.events.add(event)\n\t\t})\n\t}\n\n\tasync update(id, event) {\n\t\treturn this.store.transaction('rw', this.store.events, async () => {\n\t\t\treturn this.store.events.update(id, event)\n\t\t})\n\t}\n\n\tasync destroy(id) {\n\t\treturn this.store.transaction('rw', this.store.events, async () => {\n\t\t\treturn this.store.events.where('id').equals(id).delete()\n\t\t})\n\t}\n\n}\n","import React, {useContext, useState} from 'react'\nimport {\n\tButton,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogTitle,\n\tTextField,\n} from '@material-ui/core'\nimport EventService from '../../Services/EventService'\nimport {SelectedJournalContext} from '../../Contexts/SelectedJournalProvider'\n\nconst eventService = new EventService()\n\nexport default function AddEventDialog(props) {\n\n\tconst [name, setName] = useState('')\n\tconst {selectedJournal} = useContext(SelectedJournalContext)\n\n\tfunction cancel() {\n\t\tsetName('')\n\t\tclear()\n\t\tprops.onClose()\n\t}\n\n\tfunction submit() {\n\t\teventService.create({\n\t\t\tname: name,\n\t\t\tjournal_id: selectedJournal,\n\t\t})\n\t\tclear()\n\t\tprops.onClose()\n\t}\n\n\tfunction clear() {\n\t\tsetName('')\n\t}\n\n\treturn (\n\t\t<Dialog open={props.open} onClose={props.onClose}>\n\t\t\t<DialogTitle>\n\t\t\t\tAdd a Event\n\t\t\t</DialogTitle>\n\t\t\t<DialogContent>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"Event Name\"\n\t\t\t\t\tvalue={name}\n\t\t\t\t\tonChange={(e) => {setName(e.target.value)}}\n\t\t\t\t/>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button variant=\"contained\" onClick={submit}>Save</Button>\n\t\t\t\t<Button variant=\"contained\" onClick={cancel}>Cancel</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t)\n}\n","import React, {useEffect, useState} from 'react'\nimport {\n\tDialog,\n\tDialogContent,\n\tGrid,\n\tIconButton,\n\tmakeStyles,\n\tTextField,\n} from '@material-ui/core'\nimport EventService from '../../Services/EventService'\nimport {Info, Save} from '@material-ui/icons'\nimport Editor from '../Editor'\n\nconst eventService = new EventService()\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\tdialog: {\n\t\t\twidth: '800px',\n\t\t\tmaxWidth: '100%',\n\t\t},\n\t\ttextField: {\n\t\t\twidth: '100%',\n\t\t},\n\t}\n})\n\nexport default function EditEventDialog(props) {\n\n\tconst classes = useStyles()\n\n\tconst [content, setContent] = useState('')\n\tconst [name, setName] = useState('')\n\tconst [open, setOpen] = useState(false)\n\n\tuseEffect(() => {\n\t\t(async function() {\n\t\t\tlet event = await eventService.show(props.eventId)\n\t\t\tsetContent(event.notes)\n\t\t\tsetName(event.name)\n\t\t})()\n\t}, [props.eventId])\n\n\tfunction saveAndClose() {\n\t\teventService.update(props.eventId, {\n\t\t\tname: name,\n\t\t\tnotes: content,\n\t\t})\n\t\tprops.onClose()\n\t}\n\n\t/*function cancelAndClose(){\n\t\tsetContent(event.notes)\n\t\tsetName(event.name)\n\t\tprops.onClose()\n\t}*/\n\n\treturn (\n\t\t<div>\n\t\t\t<IconButton onClick={() => setOpen(true)}>\n\t\t\t\t<Info color=\"primary\"/>\n\t\t\t</IconButton>\n\t\t\t<Dialog open={open}\n\t\t\t\t\tonClose={\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\tsetOpen(false)\n\t\t\t\t\t\t\tsaveAndClose()\n\t\t\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<DialogContent\n\t\t\t\t\tclassName={classes.dialog}\n\t\t\t\t>\n\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t<Grid item xs={3} md={1}>\n\t\t\t\t\t\t\t<IconButton onClick={saveAndClose}>\n\t\t\t\t\t\t\t\t<Save/>\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={9} md={8}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\n\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Editor value={content} onChange={setContent}/>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t</div>\n\t)\n\n}\n","import React, {useContext, useEffect, useState} from 'react'\nimport Page from '../Components/Page'\nimport {SelectedJournalContext} from '../Contexts/SelectedJournalProvider'\nimport EventService from '../Services/EventService'\nimport {\n\tCard,\n\tCardActions,\n\tCardContent,\n\tGrid,\n\tIconButton,\n\tTypography,\n} from '@material-ui/core'\nimport {AddOutlined} from '@material-ui/icons'\nimport AddEventDialog from '../Components/Events/AddEventDialog'\nimport EditEventDialog from '../Components/Events/EditEventDialog'\nimport Confirm from '../Components/Confirm'\nimport JournalSelector from '../Components/JournalSelector'\n\nconst eventService = new EventService()\n\nexport default function Events() {\n\n\tconst {selectedJournal} = useContext(SelectedJournalContext)\n\n\tconst [events, setEvents] = useState([])\n\n\tasync function fetchEvents(journalId) {\n\t\tsetEvents(await eventService.index(journalId))\n\t}\n\n\tuseEffect(() => {\n\t\tfetchEvents(selectedJournal)\n\t}, [selectedJournal])\n\n\tconst [addEventDialog, setAddEventDialog] = useState(false)\n\n\tfunction openAddEventDialog() {\n\t\tsetAddEventDialog(true)\n\t}\n\n\tfunction closeAddEventDialog() {\n\t\tfetchEvents(selectedJournal)\n\t\tsetAddEventDialog(false)\n\t}\n\n\tasync function destroyEvent(id) {\n\t\tawait eventService.destroy(id)\n\t\tfetchEvents(selectedJournal)\n\t}\n\n\treturn (\n\t\t<Page>\n\t\t\t{\n\t\t\t\t!selectedJournal ?\n\t\t\t\t\t<div style={{margin: 'auto'}}>\n\t\t\t\t\t\tPlease Select a Journal\n\t\t\t\t\t\t<JournalSelector/>\n\t\t\t\t\t</div>\n\t\t\t\t\t:\n\t\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Typography variant=\"h4\">\n\t\t\t\t\t\t\t\t<AddEventDialog open={addEventDialog}\n\t\t\t\t\t\t\t\t\t\t\t\tonClose={() => closeAddEventDialog()}/>\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tonClick={() => openAddEventDialog()}>\n\t\t\t\t\t\t\t\t\t<AddOutlined/>\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\tEvents\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t{events.map((event, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} key={index}>\n\t\t\t\t\t\t\t\t\t<Card className={'fullHeight'}>\n\t\t\t\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"h5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={'wrapIcon'}>\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t__html: event.notes?.substring(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t0, 300),\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t\t\t<div className={'flexGrow'}/>\n\t\t\t\t\t\t\t\t\t\t<CardActions>\n\t\t\t\t\t\t\t\t\t\t\t<Confirm\n\t\t\t\t\t\t\t\t\t\t\t\tmessage={`Are you sure you want to delete ${event.name}?`}\n\t\t\t\t\t\t\t\t\t\t\t\tonConfirm={() => destroyEvent(\n\t\t\t\t\t\t\t\t\t\t\t\t\tevent.id)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<EditEventDialog\n\t\t\t\t\t\t\t\t\t\t\t\tonClose={() => fetchEvents(\n\t\t\t\t\t\t\t\t\t\t\t\t\tselectedJournal)}\n\t\t\t\t\t\t\t\t\t\t\t\teventId={event.id}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</CardActions>\n\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Grid>\n\t\t\t}\n\t\t</Page>\n\t)\n}\n","import React, {useContext, useEffect, useState} from 'react'\nimport Page from '../Components/Page'\nimport {SelectedJournalContext} from '../Contexts/SelectedJournalProvider'\nimport JournalService from '../Services/JournalService'\nimport {\n\tCard,\n\tCardActions,\n\tCardContent,\n\tGrid,\n\tTypography,\n} from '@material-ui/core'\nimport Confirm from '../Components/Confirm'\n\nconst journalService = new JournalService()\n\nexport default function Journals() {\n\n\tconst {selectedJournal} = useContext(SelectedJournalContext)\n\n\tconst [journals, setJournals] = useState([])\n\n\tasync function fetchJournals(journalId) {\n\t\tsetJournals(await journalService.index(journalId))\n\t}\n\n\tuseEffect(() => {\n\t\tfetchJournals(selectedJournal)\n\t}, [selectedJournal])\n\n\tasync function destroyJournal(id) {\n\t\tawait journalService.destroy(id)\n\t\tfetchJournals(selectedJournal)\n\t}\n\n\treturn (\n\t\t<Page>\n\t\t\t<Grid container spacing={3}>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<Typography variant=\"h4\">\n\t\t\t\t\t\tJournals\n\t\t\t\t\t</Typography>\n\t\t\t\t</Grid>\n\t\t\t\t{journals.map((journal, index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Grid item xs={12} md={6} key={index}>\n\t\t\t\t\t\t\t<Card className={'fullHeight'}>\n\t\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"h5\">\n\t\t\t\t\t\t\t\t\t\t{journal.name}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t<div className={'flexGrow'}/>\n\t\t\t\t\t\t\t\t<CardActions>\n\t\t\t\t\t\t\t\t\t<Confirm\n\t\t\t\t\t\t\t\t\t\tmessage={`Are you sure you want to delete ${journal.name}?`}\n\t\t\t\t\t\t\t\t\t\tonConfirm={() => destroyJournal(\n\t\t\t\t\t\t\t\t\t\t\tjournal.id)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</CardActions>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t</Grid>\n\t\t</Page>\n\t)\n}\n","import Service from './Service'\n\nexport default class ItemService extends Service {\n\n\tasync index(journal_id = null) {\n\t\tif (journal_id && !isNaN(journal_id)) {\n\t\t\treturn this.store.transaction('rw', this.store.items,\n\t\t\t\tasync () => {\n\t\t\t\t\treturn this.store.items.where('journal_id').\n\t\t\t\t\t\tequals(journal_id).\n\t\t\t\t\t\ttoArray()\n\t\t\t\t})\n\t\t}\n\t\treturn this.store.transaction('rw', this.store.items, async () => {\n\t\t\treturn this.store.items.toArray()\n\t\t})\n\t}\n\n\tasync show(id) {\n\t\treturn this.store.transaction('rw', this.store.items, async () => {\n\t\t\treturn this.store.items.where('id').equals(id).first()\n\t\t})\n\t}\n\n\tasync create(item) {\n\t\treturn this.store.transaction('rw', this.store.items, async () => {\n\t\t\treturn this.store.items.add(item)\n\t\t})\n\t}\n\n\tasync update(id, item) {\n\t\treturn this.store.transaction('rw', this.store.items, async () => {\n\t\t\treturn this.store.items.update(id, item)\n\t\t})\n\t}\n\n\tasync destroy(id) {\n\t\treturn this.store.transaction('rw', this.store.items, async () => {\n\t\t\treturn this.store.items.where('id').equals(id).delete()\n\t\t})\n\t}\n\n}\n","import React, {useContext, useState} from 'react'\nimport {\n\tButton,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogTitle,\n\tTextField,\n} from '@material-ui/core'\nimport ItemService from '../../Services/ItemService'\nimport {SelectedJournalContext} from '../../Contexts/SelectedJournalProvider'\n\nconst itemService = new ItemService()\n\nexport default function AddItemDialog(props) {\n\n\tconst [name, setName] = useState('')\n\tconst {selectedJournal} = useContext(SelectedJournalContext)\n\n\tfunction cancel() {\n\t\tsetName('')\n\t\tclear()\n\t\tprops.onClose()\n\t}\n\n\tfunction submit() {\n\t\titemService.create({\n\t\t\tname: name,\n\t\t\tjournal_id: selectedJournal,\n\t\t})\n\t\tclear()\n\t\tprops.onClose()\n\t}\n\n\tfunction clear() {\n\t\tsetName('')\n\t}\n\n\treturn (\n\t\t<Dialog open={props.open} onClose={props.onClose}>\n\t\t\t<DialogTitle>\n\t\t\t\tAdd a Item\n\t\t\t</DialogTitle>\n\t\t\t<DialogContent>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel=\"Item Name\"\n\t\t\t\t\tvalue={name}\n\t\t\t\t\tonChange={(e) => {setName(e.target.value)}}\n\t\t\t\t/>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button variant=\"contained\" onClick={submit}>Save</Button>\n\t\t\t\t<Button variant=\"contained\" onClick={cancel}>Cancel</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t)\n}\n","import React, {useEffect, useState} from 'react'\nimport {\n\tDialog,\n\tDialogContent,\n\tGrid,\n\tIconButton,\n\tmakeStyles,\n\tTextField,\n} from '@material-ui/core'\nimport ItemService from '../../Services/ItemService'\nimport {Info, Save} from '@material-ui/icons'\nimport Editor from '../Editor'\n\nconst itemService = new ItemService()\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\tdialog: {\n\t\t\twidth: '800px',\n\t\t\tmaxWidth: '100%',\n\t\t},\n\t\ttextField: {\n\t\t\twidth: '100%',\n\t\t},\n\t}\n})\n\nexport default function EditItemDialog(props) {\n\n\tconst classes = useStyles()\n\n\tconst [content, setContent] = useState('')\n\tconst [name, setName] = useState('')\n\tconst [open, setOpen] = useState(false)\n\n\tuseEffect(() => {\n\t\t(async function() {\n\t\t\tlet item = await itemService.show(props.itemId)\n\t\t\tsetContent(item.notes)\n\t\t\tsetName(item.name)\n\t\t})()\n\t}, [props.itemId])\n\n\tfunction saveAndClose() {\n\t\titemService.update(props.itemId, {\n\t\t\tname: name,\n\t\t\tnotes: content,\n\t\t})\n\t\tprops.onClose()\n\t}\n\n\t/*function cancelAndClose(){\n\t\tsetContent(item.notes)\n\t\tsetName(item.name)\n\t\tprops.onClose()\n\t}*/\n\n\treturn (\n\t\t<div>\n\t\t\t<IconButton onClick={() => setOpen(true)}>\n\t\t\t\t<Info color=\"primary\"/>\n\t\t\t</IconButton>\n\t\t\t<Dialog open={open}\n\t\t\t\t\tonClose={\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\tsetOpen(false)\n\t\t\t\t\t\t\tsaveAndClose()\n\t\t\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<DialogContent\n\t\t\t\t\tclassName={classes.dialog}\n\t\t\t\t>\n\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t<Grid item xs={3} md={1}>\n\t\t\t\t\t\t\t<IconButton onClick={saveAndClose}>\n\t\t\t\t\t\t\t\t<Save/>\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={9} md={8}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\n\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Editor value={content} onChange={setContent}/>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t</div>\n\t)\n\n}\n","import React, {useContext, useEffect, useState} from 'react'\nimport Page from '../Components/Page'\nimport {SelectedJournalContext} from '../Contexts/SelectedJournalProvider'\nimport ItemService from '../Services/ItemService'\nimport {\n\tCard,\n\tCardActions,\n\tCardContent,\n\tGrid,\n\tIconButton,\n\tTypography,\n} from '@material-ui/core'\nimport {AddOutlined} from '@material-ui/icons'\nimport AddItemDialog from '../Components/Items/AddItemDialog'\nimport EditItemDialog from '../Components/Items/EditItemDialog'\nimport Confirm from '../Components/Confirm'\nimport JournalSelector from '../Components/JournalSelector'\n\nconst itemService = new ItemService()\n\nexport default function Items() {\n\n\tconst {selectedJournal} = useContext(SelectedJournalContext)\n\n\tconst [items, setItems] = useState([])\n\n\tasync function fetchItems(journalId) {\n\t\tsetItems(await itemService.index(journalId))\n\t}\n\n\tuseEffect(() => {\n\t\tfetchItems(selectedJournal)\n\t}, [selectedJournal])\n\n\tconst [addItemDialog, setAddItemDialog] = useState(false)\n\n\tfunction openAddItemDialog() {\n\t\tsetAddItemDialog(true)\n\t}\n\n\tfunction closeAddItemDialog() {\n\t\tfetchItems(selectedJournal)\n\t\tsetAddItemDialog(false)\n\t}\n\n\tasync function destroyItem(id) {\n\t\tawait itemService.destroy(id)\n\t\tfetchItems(selectedJournal)\n\t}\n\n\treturn (\n\t\t<Page>\n\t\t\t{\n\t\t\t\t!selectedJournal ?\n\t\t\t\t\t<div style={{margin: 'auto'}}>\n\t\t\t\t\t\tPlease Select a Journal\n\t\t\t\t\t\t<JournalSelector/>\n\t\t\t\t\t</div>\n\t\t\t\t\t:\n\t\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Typography variant=\"h4\">\n\t\t\t\t\t\t\t\t<AddItemDialog open={addItemDialog}\n\t\t\t\t\t\t\t\t\t\t\t   onClose={() => closeAddItemDialog()}/>\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tonClick={() => openAddItemDialog()}>\n\t\t\t\t\t\t\t\t\t<AddOutlined/>\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\tItems\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t{items.map((item, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} key={index}>\n\t\t\t\t\t\t\t\t\t<Card className={'fullHeight'}>\n\t\t\t\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"h5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={'wrapIcon'}>\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t__html: item.notes?.substring(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t0, 300),\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t\t\t<div className={'flexGrow'}/>\n\t\t\t\t\t\t\t\t\t\t<CardActions>\n\t\t\t\t\t\t\t\t\t\t\t<Confirm\n\t\t\t\t\t\t\t\t\t\t\t\tmessage={`Are you sure you want to delete ${item.name}?`}\n\t\t\t\t\t\t\t\t\t\t\t\tonConfirm={() => destroyItem(\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.id)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<EditItemDialog\n\t\t\t\t\t\t\t\t\t\t\t\tonClose={() => fetchItems(\n\t\t\t\t\t\t\t\t\t\t\t\t\tselectedJournal)}\n\t\t\t\t\t\t\t\t\t\t\t\titemId={item.id}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</CardActions>\n\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Grid>\n\t\t\t}\n\t\t</Page>\n\t)\n}\n","import React from 'react'\nimport Page from '../Components/Page'\nimport {Grid, makeStyles, Typography} from '@material-ui/core'\n\nconst useStyles = makeStyles({\n\tblock: {\n\t\tdisplay: 'block',\n\t\tmarginTop: '10px',\n\t},\n})\n\nexport default function Instructions() {\n\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<Page>\n\t\t\t<Grid container>\n\t\t\t\t<Grid item>\n\t\t\t\t\t<Typography className={classes.block} variant=\"h2\">\n\t\t\t\t\t\tThis Dumb App for Dummies\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography className={classes.block} variant=\"h5\">\n\t\t\t\t\t\tJournals\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography className={classes.block}>\n\t\t\t\t\t\tJournals are a collection of notes. You can have\n\t\t\t\t\t\tmultiple journals to keep characters, quests etc\n\t\t\t\t\t\tseparated based on campaigns, chapters, or like -\n\t\t\t\t\t\twhatever.\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography className={classes.block}>\n\t\t\t\t\t\tYou will need to select a journal before making or\n\t\t\t\t\t\tviewing any notes.\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography className={classes.block} variant=\"h5\">\n\t\t\t\t\t\tQuests, Items, Characters, Locations, Events\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography className={classes.block}>\n\t\t\t\t\t\tThese are just categories of notes. There's not much\n\t\t\t\t\t\tdifference. Characters let's you flag between NPCs or\n\t\t\t\t\t\tPCs, and Quests have a completion flag. Otherwise,\n\t\t\t\t\t\tthey're all the same.\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography className={classes.block} variant=\"h5\">\n\t\t\t\t\t\tRoadmap\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography className={classes.block}>\n\t\t\t\t\t\tI might make some tweaks. Like a relationship between\n\t\t\t\t\t\tcharacters and items (in-inventory reference to a\n\t\t\t\t\t\tcharacter). I also might add the ability to link to\n\t\t\t\t\t\tother notes from within the editor. But this is probably\n\t\t\t\t\t\tthe end.\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography className={classes.block} variant=\"h5\">\n\t\t\t\t\t\tData\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography className={classes.block}>\n\t\t\t\t\t\tThis is a completely serverless application. ALL data is\n\t\t\t\t\t\tstored within your browser. That means that clearing\n\t\t\t\t\t\tyour app data may (will) delete your journal. I MAY\n\t\t\t\t\t\tcreate a save/open function to maintain specific\n\t\t\t\t\t\tjournals - but I wouldn't count on it.\n\t\t\t\t\t</Typography>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Page>\n\t)\n}\n","import React from 'react'\nimport {\n\tExplore,\n\tInfo,\n\tNotes,\n\tPerson,\n\tShoppingCart,\n\tTimer,\n\tToday,\n} from '@material-ui/icons'\nimport Characters from './Views/Characters'\nimport Quests from './Views/Quests'\nimport Places from './Views/Places'\nimport Events from './Views/Events'\nimport Journals from './Views/Journals'\nimport Items from './Views/Items'\nimport Instructions from './Views/Instructions'\n\nconst routes = [\n\t{\n\t\tpath: '/quests',\n\t\ttext: 'Quests',\n\t\texact: true,\n\t\ticon: <Timer/>,\n\t\tcomponent: <Quests/>,\n\t\tinNav: true,\n\t},\n\t{\n\t\tpath: '/characters',\n\t\ttext: 'Characters',\n\t\texact: true,\n\t\ticon: <Person/>,\n\t\tcomponent: <Characters/>,\n\t\tinNav: true,\n\t},\n\t{\n\t\tpath: '/places',\n\t\ttext: 'Places',\n\t\texact: true,\n\t\ticon: <Explore/>,\n\t\tcomponent: <Places/>,\n\t\tinNav: true,\n\t},\n\t{\n\t\tpath: '/events',\n\t\ttext: 'Events',\n\t\texact: true,\n\t\ticon: <Today/>,\n\t\tcomponent: <Events/>,\n\t\tinNav: true,\n\t},\n\t{\n\t\tpath: '/items',\n\t\ttext: 'Items',\n\t\texact: true,\n\t\ticon: <ShoppingCart/>,\n\t\tcomponent: <Items/>,\n\t\tinNav: true,\n\t\tdivided: true,\n\t},\n\t{\n\t\tpath: '/journals',\n\t\ttext: 'Manage Journals',\n\t\texact: true,\n\t\ticon: <Notes/>,\n\t\tcomponent: <Journals/>,\n\t\tinNav: true,\n\t},\n\t{\n\t\tpath: '/',\n\t\ttext: 'Instructions',\n\t\texact: true,\n\t\tcomponent: <Instructions/>,\n\t\ticon: <Info/>,\n\t\tinNav: true,\n\t},\n]\n\nexport default routes\n","import React from 'react'\nimport {Route, Switch} from 'react-router-dom'\nimport routes from './definedRoutes'\n\nexport default function Routes() {\n\n\treturn (\n\t\t<Switch>\n\t\t\t{\n\t\t\t\troutes.map(route => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Route key={route.text} path={route.path}\n\t\t\t\t\t\t\t   exact={route.exact}>\n\t\t\t\t\t\t\t{route.component}\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t}\n\t\t</Switch>\n\t)\n}\n","import {\n\tAppBar,\n\tIconButton,\n\tmakeStyles,\n\tToolbar,\n\tTypography,\n} from '@material-ui/core'\nimport {MenuTwoTone} from '@material-ui/icons'\nimport React from 'react'\nimport JournalSelector from './JournalSelector'\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tflexGrow: 1,\n\t},\n\tgrow: {\n\t\tflexGrow: 1,\n\t},\n\tmenuButton: {\n\t\tmarginLeft: -12,\n\t\tmarginRight: 20,\n\t},\n\tselectRoot: {\n\t\tcolor: 'white',\n\t},\n}))\n\nexport default function TopBar(props) {\n\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<AppBar position=\"static\">\n\t\t\t<Toolbar>\n\t\t\t\t<IconButton color=\"inherit\" className={classes.menuButton}\n\t\t\t\t\t\t\tedge=\"start\" onClick={() => {props.onMenuClick()}}>\n\t\t\t\t\t<MenuTwoTone/>\n\t\t\t\t</IconButton>\n\t\t\t\t<Typography className={classes.grow}>\n\t\t\t\t\tRP Notes\n\t\t\t\t</Typography>\n\t\t\t\t<JournalSelector/>\n\t\t\t</Toolbar>\n\t\t</AppBar>\n\t)\n}\n","import React from 'react'\nimport {\n\tDivider,\n\tDrawer,\n\tList,\n\tListItem,\n\tListItemIcon,\n\tListItemText,\n\tmakeStyles,\n} from '@material-ui/core'\nimport {Link, useLocation} from 'react-router-dom'\nimport routes from './../definedRoutes'\nimport {Casino} from '@material-ui/icons'\n\nconst useStyles = makeStyles({\n\tlist: {\n\t\tmaxWidth: '100%',\n\t\twidth: 350,\n\t},\n\tfullList: {\n\t\twidth: '100%',\n\t},\n\tflex: {\n\t\tdisplay: 'flex',\n\t},\n})\n\nexport default function NavDrawer(props) {\n\n\tconst classes = useStyles()\n\tconst location = useLocation()\n\n\treturn (\n\t\t<Drawer\n\t\t\tvariant=\"temporary\"\n\t\t\topen={props.open}\n\t\t\tanchor={'left'}\n\t\t\tonClose={props.onClose}\n\t\t>\n\t\t\t<List component=\"nav\" className={classes.list}>\n\t\t\t\t{\n\t\t\t\t\troutes.map((route, index) => {\n\n\t\t\t\t\t\tif (route.inNav) {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\t\t\tto={route.path}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.fullList}\n\t\t\t\t\t\t\t\t\t\tselected={route.path ===\n\t\t\t\t\t\t\t\t\t\tlocation.pathname}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t\t{route.icon ?? <Casino/>}\n\t\t\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={route.text}/>\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\troute.divided ? <Divider/> : ''\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn <div></div>\n\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t</List>\n\t\t</Drawer>\n\t)\n}\n","import React, {useState} from 'react'\nimport Routes from './Routes'\nimport {BrowserRouter} from 'react-router-dom'\nimport TopBar from './Components/TopBar'\nimport NavDrawer from './Components/NavDrawer'\nimport {\n\tContainer,\n\tcreateTheme,\n\tGrid,\n\tMuiThemeProvider,\n\tPaper,\n\tuseMediaQuery,\n} from '@material-ui/core'\nimport './App.css'\nimport 'react-quill/dist/quill.snow.css'\nimport SelectedJournalProvider from './Contexts/SelectedJournalProvider'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport JournalListProvider from './Contexts/JournalListProvider'\n\nfunction App() {\n\n\tconst prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)')\n\n\tconst theme = React.useMemo(\n\t\t() =>\n\t\t\tcreateTheme({\n\t\t\t\tpalette: {\n\t\t\t\t\ttype: prefersDarkMode ? 'dark' : 'light',\n\t\t\t\t},\n\t\t\t}),\n\t\t[prefersDarkMode],\n\t)\n\n\tconst [nav, toggleNav] = useState(false)\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<MuiThemeProvider theme={theme}>\n\t\t\t\t<CssBaseline/>\n\t\t\t\t<JournalListProvider>\n\t\t\t\t\t<SelectedJournalProvider>\n\t\t\t\t\t\t<BrowserRouter>\n\t\t\t\t\t\t\t<NavDrawer open={nav}\n\t\t\t\t\t\t\t\t\t   onClose={() => {toggleNav(false)}}/>\n\t\t\t\t\t\t\t<TopBar onMenuClick={() => {toggleNav(true)}}/>\n\t\t\t\t\t\t\t<Container>\n\t\t\t\t\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t<Paper>\n\t\t\t\t\t\t\t\t\t\t\t<Routes/>\n\t\t\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Container>\n\t\t\t\t\t\t</BrowserRouter>\n\t\t\t\t\t</SelectedJournalProvider>\n\t\t\t\t</JournalListProvider>\n\t\t\t</MuiThemeProvider>\n\t\t</div>\n\t)\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n\tif (onPerfEntry && onPerfEntry instanceof Function) {\n\t\timport('web-vitals').then(\n\t\t\t({getCLS, getFID, getFCP, getLCP, getTTFB}) => {\n\t\t\t\tgetCLS(onPerfEntry)\n\t\t\t\tgetFID(onPerfEntry)\n\t\t\t\tgetFCP(onPerfEntry)\n\t\t\t\tgetLCP(onPerfEntry)\n\t\t\t\tgetTTFB(onPerfEntry)\n\t\t\t})\n\t}\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n\t<App/>,\n\tdocument.getElementById('root'),\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}